(self.webpackChunkclient=self.webpackChunkclient||[]).push([[792],{985:(W,b,S)=>{"use strict";function I(e,n,t,r,o,i,s){try{var a=e[i](s),c=a.value}catch(u){return void t(u)}a.done?n(c):Promise.resolve(c).then(r,o)}function h(e){return function(){var n=this,t=arguments;return new Promise(function(r,o){var i=e.apply(n,t);function s(c){I(i,r,o,s,a,"next",c)}function a(c){I(i,r,o,s,a,"throw",c)}s(void 0)})}}let y=null,v=1;const E=Symbol("SIGNAL");function _(e){const n=y;return y=e,n}function oe(e){if((!G(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==v)){if(!e.producerMustRecompute(e)&&!Le(e))return e.dirty=!1,void(e.lastCleanEpoch=v);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=v}}function Le(e){H(e);for(let n=0;n<e.producerNode.length;n++){const t=e.producerNode[n],r=e.producerLastReadVersion[n];if(r!==t.version||(oe(t),r!==t.version))return!0}return!1}function ee(e,n){if(function ge(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}(e),H(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)ee(e.producerNode[r],e.producerIndexOfThis[r]);const t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[n],o=e.liveConsumerNode[n];H(o),o.producerIndexOfThis[r]=n}}function G(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function H(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}let Ba=null;function qe(e){return"function"==typeof e}function Hl(e){const t=e(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const zl=Hl(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function qa(e,n){if(e){const t=e.indexOf(n);0<=t&&e.splice(t,1)}}class Tt{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const i of t)i.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(qe(r))try{r()}catch(i){n=i instanceof zl?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{dm(i)}catch(s){n=n??[],s instanceof zl?n=[...n,...s.errors]:n.push(s)}}if(n)throw new zl(n)}}add(n){var t;if(n&&n!==this)if(this.closed)dm(n);else{if(n instanceof Tt){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(n)}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&qa(t,n)}remove(n){const{_finalizers:t}=this;t&&qa(t,n),n instanceof Tt&&n._removeParent(this)}}Tt.EMPTY=(()=>{const e=new Tt;return e.closed=!0,e})();const um=Tt.EMPTY;function lm(e){return e instanceof Tt||e&&"closed"in e&&qe(e.remove)&&qe(e.add)&&qe(e.unsubscribe)}function dm(e){qe(e)?e():e.unsubscribe()}const Jr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ga={setTimeout(e,n,...t){const{delegate:r}=Ga;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){const{delegate:n}=Ga;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function fm(e){Ga.setTimeout(()=>{const{onUnhandledError:n}=Jr;if(!n)throw e;n(e)})}function ql(){}const wS=Gl("C",void 0,void 0);function Gl(e,n,t){return{kind:e,value:n,error:t}}let Kr=null;function Wa(e){if(Jr.useDeprecatedSynchronousErrorHandling){const n=!Kr;if(n&&(Kr={errorThrown:!1,error:null}),e(),n){const{errorThrown:t,error:r}=Kr;if(Kr=null,t)throw r}}else e()}class Wl extends Tt{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,lm(n)&&n.add(this)):this.destination=SS}static create(n,t,r){return new Kl(n,t,r)}next(n){this.isStopped?Ql(function _S(e){return Gl("N",e,void 0)}(n),this):this._next(n)}error(n){this.isStopped?Ql(function DS(e){return Gl("E",void 0,e)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Ql(wS,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const CS=Function.prototype.bind;function Jl(e,n){return CS.call(e,n)}class ES{constructor(n){this.partialObserver=n}next(n){const{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){Ja(r)}}error(n){const{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){Ja(r)}else Ja(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){Ja(t)}}}class Kl extends Wl{constructor(n,t,r){let o;if(super(),qe(n)||!n)o={next:n??void 0,error:t??void 0,complete:r??void 0};else{let i;this&&Jr.useDeprecatedNextContext?(i=Object.create(n),i.unsubscribe=()=>this.unsubscribe(),o={next:n.next&&Jl(n.next,i),error:n.error&&Jl(n.error,i),complete:n.complete&&Jl(n.complete,i)}):o=n}this.destination=new ES(o)}}function Ja(e){Jr.useDeprecatedSynchronousErrorHandling?function bS(e){Jr.useDeprecatedSynchronousErrorHandling&&Kr&&(Kr.errorThrown=!0,Kr.error=e)}(e):fm(e)}function Ql(e,n){const{onStoppedNotification:t}=Jr;t&&Ga.setTimeout(()=>t(e,n))}const SS={closed:!0,next:ql,error:function IS(e){throw e},complete:ql},Yl="function"==typeof Symbol&&Symbol.observable||"@@observable";function Qr(e){return e}function hm(e){return 0===e.length?Qr:1===e.length?e[0]:function(t){return e.reduce((r,o)=>o(r),t)}}let et=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,o){const i=function AS(e){return e&&e instanceof Wl||function MS(e){return e&&qe(e.next)&&qe(e.error)&&qe(e.complete)}(e)&&lm(e)}(t)?t:new Kl(t,r,o);return Wa(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=pm(r))((o,i)=>{const s=new Kl({next:a=>{try{t(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Yl](){return this}pipe(...t){return hm(t)(this)}toPromise(t){return new(t=pm(t))((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return e.create=n=>new e(n),e})();function pm(e){var n;return null!==(n=e??Jr.Promise)&&void 0!==n?n:Promise}const RS=Hl(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let rn=(()=>{class e extends et{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new gm(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new RS}next(t){Wa(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Wa(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Wa(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:o,observers:i}=this;return r||o?um:(this.currentObservers=null,i.push(t),new Tt(()=>{this.currentObservers=null,qa(i,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:o,isStopped:i}=this;r?t.error(o):i&&t.complete()}asObservable(){const t=new et;return t.source=this,t}}return e.create=(n,t)=>new gm(n,t),e})();class gm extends rn{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,n)}error(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,n)}complete(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)}_subscribe(n){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==r?r:um}}class on extends rn{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}function mm(e){return qe(e?.lift)}function gt(e){return n=>{if(mm(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function dt(e,n,t,r,o){return new NS(e,n,t,r,o)}class NS extends Wl{constructor(n,t,r,o,i,s){super(n),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){n.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){n.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function Ie(e,n){return gt((t,r)=>{let o=0;t.subscribe(dt(r,i=>{r.next(e.call(n,i,o++))}))})}const vm="https://g.co/ng/security#xss";class x extends Error{constructor(n,t){super(function So(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,t)),this.code=n}}function nr(e){return{toString:e}.toString()}const Mo="__parameters__";function Ro(e,n,t){return nr(()=>{const r=function Zl(e){return function(...t){if(e){const r=e(...t);for(const o in r)this[o]=r[o]}}}(n);function o(...i){if(this instanceof o)return r.apply(this,i),this;const s=new o(...i);return a.annotation=s,a;function a(c,u,l){const d=c.hasOwnProperty(Mo)?c[Mo]:Object.defineProperty(c,Mo,{value:[]})[Mo];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(s),c}}return t&&(o.prototype=Object.create(t.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o})}const Re=globalThis;function Oe(e){for(let n in e)if(e[n]===Oe)return n;throw Error("Could not find renamed property on target object.")}function ot(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ot).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}function Xl(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const OS=Oe({__forward_ref__:Oe});function ed(e){return e.__forward_ref__=ed,e.toString=function(){return ot(this())},e}function se(e){return Qa(e)?e():e}function Qa(e){return"function"==typeof e&&e.hasOwnProperty(OS)&&e.__forward_ref__===ed}function z(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function xn(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ya(e){return _m(e,Xa)||_m(e,bm)}function _m(e,n){return e.hasOwnProperty(n)?e[n]:null}function Za(e){return e&&(e.hasOwnProperty(td)||e.hasOwnProperty(US))?e[td]:null}const Xa=Oe({\u0275prov:Oe}),td=Oe({\u0275inj:Oe}),bm=Oe({ngInjectableDef:Oe}),US=Oe({ngInjectorDef:Oe});class U{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=z({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function sd(e){return e&&!!e.\u0275providers}const Xi=Oe({\u0275cmp:Oe}),ad=Oe({\u0275dir:Oe}),cd=Oe({\u0275pipe:Oe}),Em=Oe({\u0275mod:Oe}),rr=Oe({\u0275fac:Oe}),es=Oe({__NG_ELEMENT_ID__:Oe}),Im=Oe({__NG_ENV_ID__:Oe});function de(e){return"string"==typeof e?e:null==e?"":String(e)}function ud(e,n){throw new x(-201,!1)}var De=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(De||{});let ld;function Sm(){return ld}function Lt(e){const n=ld;return ld=e,n}function Tm(e,n,t){const r=Ya(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&De.Optional?null:void 0!==n?n:void ud()}const ts={},dd="__NG_DI_FLAG__",ec="ngTempTokenPath",qS=/\n/gm,Mm="__source";let No;function br(e){const n=No;return No=e,n}function JS(e,n=De.Default){if(void 0===No)throw new x(-203,!1);return null===No?Tm(e,void 0,n):No.get(e,n&De.Optional?null:void 0,n)}function K(e,n=De.Default){return(Sm()||JS)(se(e),n)}function N(e,n=De.Default){return K(e,tc(n))}function tc(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function fd(e){const n=[];for(let t=0;t<e.length;t++){const r=se(e[t]);if(Array.isArray(r)){if(0===r.length)throw new x(900,!1);let o,i=De.Default;for(let s=0;s<r.length;s++){const a=r[s],c=KS(a);"number"==typeof c?-1===c?o=a.token:i|=c:o=a}n.push(K(o,i))}else n.push(K(r))}return n}function ns(e,n){return e[dd]=n,e.prototype[dd]=n,e}function KS(e){return e[dd]}const nc=ns(Ro("Optional"),8),rc=ns(Ro("SkipSelf"),4);function Yr(e,n){return e.hasOwnProperty(rr)?e[rr]:null}function xo(e,n){e.forEach(t=>Array.isArray(t)?xo(t,n):n(t))}function Rm(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function oc(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function Jt(e,n,t){let r=Oo(e,n);return r>=0?e[1|r]=t:(r=~r,function Nm(e,n,t,r){let o=e.length;if(o==n)e.push(t,r);else if(1===o)e.push(r,e[0]),e[0]=t;else{for(o--,e.push(e[o-1],e[o]);o>n;)e[o]=e[o-2],o--;e[n]=t,e[n+1]=r}}(e,r,n,t)),r}function pd(e,n){const t=Oo(e,n);if(t>=0)return e[1|t]}function Oo(e,n){return function xm(e,n,t){let r=0,o=e.length>>t;for(;o!==r;){const i=r+(o-r>>1),s=e[i<<t];if(n===s)return i<<t;s>n?o=i:r=i+1}return~(o<<t)}(e,n,1)}const On={},Ee=[],Zr=new U(""),Om=new U("",-1),gd=new U("");class sc{get(n,t=ts){if(t===ts){const r=new Error(`NullInjectorError: No provider for ${ot(n)}!`);throw r.name="NullInjectorError",r}return t}}var ac=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(ac||{}),pn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(pn||{}),gn=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(gn||{});function nT(e,n,t){let r=e.length;for(;;){const o=e.indexOf(n,t);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const i=n.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}t=o+1}}function md(e,n,t){let r=0;for(;r<t.length;){const o=t[r];if("number"==typeof o){if(0!==o)break;r++;const i=t[r++],s=t[r++],a=t[r++];e.setAttribute(n,s,a,i)}else{const i=o,s=t[++r];km(i)?e.setProperty(n,i,s):e.setAttribute(n,i,s),r++}}return r}function Pm(e){return 3===e||4===e||6===e}function km(e){return 64===e.charCodeAt(0)}function rs(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){const o=n[r];"number"==typeof o?t=o:0===t||Lm(e,t,o,null,-1===t||2===t?n[++r]:null)}}return e}function Lm(e,n,t,r,o){let i=0,s=e.length;if(-1===n)s=-1;else for(;i<e.length;){const a=e[i++];if("number"==typeof a){if(a===n){s=-1;break}if(a>n){s=i-1;break}}}for(;i<e.length;){const a=e[i];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==o&&(e[i+1]=o));if(r===e[i+1])return void(e[i+2]=o)}i++,null!==r&&i++,null!==o&&i++}-1!==s&&(e.splice(s,0,n),i=s+1),e.splice(i++,0,t),null!==r&&e.splice(i++,0,r),null!==o&&e.splice(i++,0,o)}const Fm="ng-template";function rT(e,n,t,r){let o=0;if(r){for(;o<n.length&&"string"==typeof n[o];o+=2)if("class"===n[o]&&-1!==nT(n[o+1].toLowerCase(),t,0))return!0}else if(vd(e))return!1;if(o=n.indexOf(1,o),o>-1){let i;for(;++o<n.length&&"string"==typeof(i=n[o]);)if(i.toLowerCase()===t)return!0}return!1}function vd(e){return 4===e.type&&e.value!==Fm}function oT(e,n,t){return n===(4!==e.type||t?e.value:Fm)}function iT(e,n,t){let r=4;const o=e.attrs,i=null!==o?function cT(e){for(let n=0;n<e.length;n++)if(Pm(e[n]))return n;return e.length}(o):0;let s=!1;for(let a=0;a<n.length;a++){const c=n[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!oT(e,c,t)||""===c&&1===n.length){if(mn(r))return!1;s=!0}}else if(8&r){if(null===o||!rT(e,o,c,t)){if(mn(r))return!1;s=!0}}else{const u=n[++a],l=sT(c,o,vd(e),t);if(-1===l){if(mn(r))return!1;s=!0;continue}if(""!==u){let d;if(d=l>i?"":o[l+1].toLowerCase(),2&r&&u!==d){if(mn(r))return!1;s=!0}}}}else{if(!s&&!mn(r)&&!mn(c))return!1;if(s&&mn(c))continue;s=!1,r=c|1&r}}return mn(r)||s}function mn(e){return!(1&e)}function sT(e,n,t,r){if(null===n)return-1;let o=0;if(r||!t){let i=!1;for(;o<n.length;){const s=n[o];if(s===e)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=n[++o];for(;"string"==typeof a;)a=n[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function uT(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const r=e[t];if("number"==typeof r)return-1;if(r===n)return t;t++}return-1}(n,e)}function jm(e,n,t=!1){for(let r=0;r<n.length;r++)if(iT(e,n[r],t))return!0;return!1}function Um(e,n){return e?":not("+n.trim()+")":n}function dT(e){let n=e[0],t=1,r=2,o="",i=!1;for(;t<e.length;){let s=e[t];if("string"==typeof s)if(2&r){const a=e[++t];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?o+="."+s:4&r&&(o+=" "+s);else""!==o&&!mn(s)&&(n+=Um(i,o),o=""),r=s,i=i||!mn(r);t++}return""!==o&&(n+=Um(i,o)),n}function cc(e){return nr(()=>{const n=Bm(e),t={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===ac.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||pn.Emulated,styles:e.styles||Ee,_:null,schemas:e.schemas||null,tView:null,id:""};Vm(t);const r=e.dependencies;return t.directiveDefs=uc(r,!1),t.pipeDefs=uc(r,!0),t.id=function vT(e){let n=0;const t=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const o of t)n=Math.imul(31,n)+o.charCodeAt(0)|0;return n+=2147483648,"c"+n}(t),t})}function pT(e){return we(e)||it(e)}function gT(e){return null!==e}function or(e){return nr(()=>({type:e.type,bootstrap:e.bootstrap||Ee,declarations:e.declarations||Ee,imports:e.imports||Ee,exports:e.exports||Ee,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function $m(e,n){if(null==e)return On;const t={};for(const r in e)if(e.hasOwnProperty(r)){const o=e[r];let i,s,a=gn.None;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i):(i=o,s=o),n?(t[i]=a!==gn.None?[r,a]:r,n[i]=s):t[i]=r}return t}function Mt(e){return nr(()=>{const n=Bm(e);return Vm(n),n})}function we(e){return e[Xi]||null}function it(e){return e[ad]||null}function mt(e){return e[cd]||null}function vt(e,n){const t=e[Em]||null;if(!t&&!0===n)throw new Error(`Type ${ot(e)} does not have '\u0275mod' property.`);return t}function Bm(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||On,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Ee,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:$m(e.inputs,n),outputs:$m(e.outputs),debugInfo:null}}function Vm(e){e.features?.forEach(n=>n(e))}function uc(e,n){if(!e)return null;const t=n?mt:pT;return()=>("function"==typeof e?e():e).map(r=>t(r)).filter(gT)}function yT(...e){return{\u0275providers:yd(0,e),\u0275fromNgModule:!0}}function yd(e,...n){const t=[],r=new Set;let o;const i=s=>{t.push(s)};return xo(n,s=>{const a=s;lc(a,i,[],r)&&(o||=[],o.push(a))}),void 0!==o&&Hm(o,i),t}function Hm(e,n){for(let t=0;t<e.length;t++){const{ngModule:r,providers:o}=e[t];wd(o,i=>{n(i,r)})}}function lc(e,n,t,r){if(!(e=se(e)))return!1;let o=null,i=Za(e);const s=!i&&we(e);if(i||s){if(s&&!s.standalone)return!1;o=e}else{const c=e.ngModule;if(i=Za(c),!i)return!1;o=c}const a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const u of c)lc(u,n,t,r)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let u;r.add(o);try{xo(i.imports,l=>{lc(l,n,t,r)&&(u||=[],u.push(l))})}finally{}void 0!==u&&Hm(u,n)}if(!a){const u=Yr(o)||(()=>new o);n({provide:o,useFactory:u,deps:Ee},o),n({provide:gd,useValue:o,multi:!0},o),n({provide:Zr,useValue:()=>K(o),multi:!0},o)}const c=i.providers;if(null!=c&&!a){const u=e;wd(c,l=>{n(l,u)})}}}return o!==e&&void 0!==e.providers}function wd(e,n){for(let t of e)sd(t)&&(t=t.\u0275providers),Array.isArray(t)?wd(t,n):n(t)}const wT=Oe({provide:String,useValue:Oe});function Dd(e){return null!==e&&"object"==typeof e&&wT in e}function Xr(e){return"function"==typeof e}const _d=new U(""),dc={},_T={};let bd;function fc(){return void 0===bd&&(bd=new sc),bd}class At{}class Po extends At{get destroyed(){return this._destroyed}constructor(n,t,r,o){super(),this.parent=t,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ed(n,s=>this.processProvider(s)),this.records.set(Om,ko(void 0,this)),o.has("environment")&&this.records.set(At,ko(void 0,this));const i=this.records.get(_d);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(gd,Ee,De.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=_(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),_(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const t=br(this),r=Lt(void 0);try{return n()}finally{br(t),Lt(r)}}get(n,t=ts,r=De.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Im))return n[Im](this);r=tc(r);const i=br(this),s=Lt(void 0);try{if(!(r&De.SkipSelf)){let c=this.records.get(n);if(void 0===c){const u=function ST(e){return"function"==typeof e||"object"==typeof e&&e instanceof U}(n)&&Ya(n);c=u&&this.injectableDefInScope(u)?ko(Cd(n),dc):null,this.records.set(n,c)}if(null!=c)return this.hydrate(n,c)}return(r&De.Self?fc():this.parent).get(n,t=r&De.Optional&&t===ts?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[ec]=a[ec]||[]).unshift(ot(n)),i)throw a;return function QS(e,n,t,r){const o=e[ec];throw n[Mm]&&o.unshift(n[Mm]),e.message=function YS(e,n,t,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=ot(n);if(Array.isArray(n))o=n.map(ot).join(" -> ");else if("object"==typeof n){let i=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):ot(a)))}o=`{${i.join(", ")}}`}return`${t}${r?"("+r+")":""}[${o}]: ${e.replace(qS,"\n  ")}`}("\n"+e.message,o,t,r),e.ngTokenPath=o,e[ec]=null,e}(a,n,"R3InjectorError",this.source)}throw a}finally{Lt(s),br(i)}}resolveInjectorInitializers(){const n=_(null),t=br(this),r=Lt(void 0);try{const i=this.get(Zr,Ee,De.Self);for(const s of i)s()}finally{br(t),Lt(r),_(n)}}toString(){const n=[],t=this.records;for(const r of t.keys())n.push(ot(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new x(205,!1)}processProvider(n){let t=Xr(n=se(n))?n:se(n&&n.provide);const r=function CT(e){return Dd(e)?ko(void 0,e.useValue):ko(function Gm(e,n,t){let r;if(Xr(e)){const o=se(e);return Yr(o)||Cd(o)}if(Dd(e))r=()=>se(e.useValue);else if(function qm(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...fd(e.deps||[]));else if(function zm(e){return!(!e||!e.useExisting)}(e))r=()=>K(se(e.useExisting));else{const o=se(e&&(e.useClass||e.provide));if(!function ET(e){return!!e.deps}(e))return Yr(o)||Cd(o);r=()=>new o(...fd(e.deps))}return r}(e),dc)}(n);if(!Xr(n)&&!0===n.multi){let o=this.records.get(t);o||(o=ko(void 0,dc,!0),o.factory=()=>fd(o.multi),this.records.set(t,o)),t=n,o.multi.push(n)}this.records.set(t,r)}hydrate(n,t){const r=_(null);try{return t.value===dc&&(t.value=_T,t.value=t.factory()),"object"==typeof t.value&&t.value&&function IT(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{_(r)}}injectableDefInScope(n){if(!n.providedIn)return!1;const t=se(n.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){const t=this._onDestroyHooks.indexOf(n);-1!==t&&this._onDestroyHooks.splice(t,1)}}function Cd(e){const n=Ya(e),t=null!==n?n.factory:Yr(e);if(null!==t)return t;if(e instanceof U)throw new x(204,!1);if(e instanceof Function)return function bT(e){if(e.length>0)throw new x(204,!1);const t=function jS(e){return e&&(e[Xa]||e[bm])||null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new x(204,!1)}function ko(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function Ed(e,n){for(const t of e)Array.isArray(t)?Ed(t,n):t&&sd(t)?Ed(t.\u0275providers,n):n(t)}function Pn(e,n){e instanceof Po&&e.assertNotDestroyed();const r=br(e),o=Lt(void 0);try{return n()}finally{br(r),Lt(o)}}function Wm(){return void 0!==Sm()||null!=function WS(){return No}()}const We=0,P=1,Q=2,Ke=3,vn=4,yt=5,Kt=6,Fo=7,$e=8,tt=9,yn=10,ce=11,ss=12,Km=13,jo=14,Je=15,as=16,Uo=17,ir=18,cs=19,Qm=20,Er=21,gc=22,eo=23,fe=25,Sd=1,kn=7,$o=9,Qe=10;var Td=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Td||{});function wt(e){return Array.isArray(e)&&"object"==typeof e[Sd]}function Dt(e){return Array.isArray(e)&&!0===e[Sd]}function Md(e){return!!(4&e.flags)}function to(e){return e.componentOffset>-1}function vc(e){return!(1&~e.flags)}function wn(e){return!!e.template}function Ad(e){return!!(512&e[Q])}class UT{constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function ev(e,n,t,r){null!==n?n.applyValueToInputSignal(n,r):e[t]=r}function Ir(){return tv}function tv(e){return e.type.prototype.ngOnChanges&&(e.setInput=BT),$T}function $T(){const e=rv(this),n=e?.current;if(n){const t=e.previous;if(t===On)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function BT(e,n,t,r,o){const i=this.declaredInputs[r],s=rv(e)||function VT(e,n){return e[nv]=n}(e,{previous:On,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[i];a[i]=new UT(u&&u.currentValue,t,c===On),ev(e,n,o,t)}Ir.ngInherit=!0;const nv="__ngSimpleChanges__";function rv(e){return e[nv]||null}const Ln=function(e,n,t){};let sv=!1;function Fe(e){for(;Array.isArray(e);)e=e[We];return e}function ls(e,n){return Fe(n[e])}function Rt(e,n){return Fe(n[e.index])}function ds(e,n){return e.data[n]}function Qt(e,n){const t=n[e];return wt(t)?t:t[We]}function Pd(e){return!(128&~e[Q])}function Fn(e,n){return null==n?null:e[n]}function av(e){e[Uo]=0}function JT(e){1024&e[Q]||(e[Q]|=1024,Pd(e)&&fs(e))}function kd(e){return!!(9216&e[Q]||e[eo]?.dirty)}function Ld(e){e[yn].changeDetectionScheduler?.notify(1),kd(e)?fs(e):64&e[Q]&&(function zT(){return sv}()?(e[Q]|=1024,fs(e)):e[yn].changeDetectionScheduler?.notify())}function fs(e){e[yn].changeDetectionScheduler?.notify();let n=no(e);for(;null!==n&&!(8192&n[Q])&&(n[Q]|=8192,Pd(n));)n=no(n)}function yc(e,n){if(!(256&~e[Q]))throw new x(911,!1);null===e[Er]&&(e[Er]=[]),e[Er].push(n)}function no(e){const n=e[Ke];return Dt(n)?n[Ke]:n}const ue={lFrame:vv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function lv(){return ue.bindingsEnabled}function A(){return ue.lFrame.lView}function _e(){return ue.lFrame.tView}function wc(e){return ue.lFrame.contextLView=e,e[$e]}function Dc(e){return ue.lFrame.contextLView=null,e}function Pe(){let e=dv();for(;null!==e&&64===e.type;)e=e.parent;return e}function dv(){return ue.lFrame.currentTNode}function jn(e,n){const t=ue.lFrame;t.currentTNode=e,t.isParent=n}function jd(){return ue.lFrame.isParent}function Dn(){return ue.lFrame.bindingIndex++}function iM(e,n){const t=ue.lFrame;t.bindingIndex=t.bindingRootIndex=e,$d(n)}function $d(e){ue.lFrame.currentDirectiveIndex=e}function Vd(){return ue.lFrame.currentQueryIndex}function _c(e){ue.lFrame.currentQueryIndex=e}function aM(e){const n=e[P];return 2===n.type?n.declTNode:1===n.type?e[yt]:null}function gv(e,n,t){if(t&De.SkipSelf){let o=n,i=e;for(;!(o=o.parent,null!==o||t&De.Host||(o=aM(i),null===o||(i=i[jo],10&o.type))););if(null===o)return!1;n=o,e=i}const r=ue.lFrame=mv();return r.currentTNode=n,r.lView=e,!0}function Hd(e){const n=mv(),t=e[P];ue.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function mv(){const e=ue.lFrame,n=null===e?null:e.child;return null===n?vv(e):n}function vv(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function yv(){const e=ue.lFrame;return ue.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const wv=yv;function zd(){const e=yv();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function _t(){return ue.lFrame.selectedIndex}function ro(e){ue.lFrame.selectedIndex=e}let _v=!0;function ps(){return _v}function Un(e){_v=e}function bc(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){const i=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:l}=i;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),c&&(e.viewHooks??=[]).push(-t,c),u&&((e.viewHooks??=[]).push(t,u),(e.viewCheckHooks??=[]).push(t,u)),null!=l&&(e.destroyHooks??=[]).push(t,l)}}function Cc(e,n,t){bv(e,n,3,t)}function Ec(e,n,t,r){(3&e[Q])===t&&bv(e,n,t,r)}function qd(e,n){let t=e[Q];(3&t)===n&&(t&=16383,t+=1,e[Q]=t)}function bv(e,n,t,r){const i=r??-1,s=n.length-1;let a=0;for(let c=void 0!==r?65535&e[Uo]:0;c<s;c++)if("number"==typeof n[c+1]){if(a=n[c],null!=r&&a>=r)break}else n[c]<0&&(e[Uo]+=65536),(a<i||-1==i)&&(pM(e,t,n,c),e[Uo]=(4294901760&e[Uo])+c+2),c++}function Cv(e,n){Ln(4,e,n);const t=_(null);try{n.call(e)}finally{_(t),Ln(5,e,n)}}function pM(e,n,t,r){const o=t[r]<0,i=t[r+1],a=e[o?-t[r]:t[r]];o?e[Q]>>14<e[Uo]>>16&&(3&e[Q])===n&&(e[Q]+=16384,Cv(a,i)):Cv(a,i)}const Ho=-1;class gs{constructor(n,t,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Wd(e){return e!==Ho}function ms(e){return 32767&e}function vs(e,n){let t=function wM(e){return e>>16}(e),r=n;for(;t>0;)r=r[jo],t--;return r}let Jd=!0;function Ic(e){const n=Jd;return Jd=e,n}const Ev=255,Iv=5;let DM=0;const $n={};function Sc(e,n){const t=Sv(e,n);if(-1!==t)return t;const r=n[P];r.firstCreatePass&&(e.injectorIndex=n.length,Kd(r.data,e),Kd(n,null),Kd(r.blueprint,null));const o=Tc(e,n),i=e.injectorIndex;if(Wd(o)){const s=ms(o),a=vs(o,n),c=a[P].data;for(let u=0;u<8;u++)n[i+u]=a[s+u]|c[s+u]}return n[i+8]=o,i}function Kd(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Sv(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function Tc(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,r=null,o=n;for(;null!==o;){if(r=Ov(o),null===r)return Ho;if(t++,o=o[jo],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Ho}function Qd(e,n,t){!function _M(e,n,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(es)&&(r=t[es]),null==r&&(r=t[es]=DM++);const o=r&Ev;n.data[e+(o>>Iv)]|=1<<o}(e,n,t)}function Tv(e,n,t){if(t&De.Optional||void 0!==e)return e;ud()}function Mv(e,n,t,r){if(t&De.Optional&&void 0===r&&(r=null),!(t&(De.Self|De.Host))){const o=e[tt],i=Lt(void 0);try{return o?o.get(n,r,t&De.Optional):Tm(n,r,t&De.Optional)}finally{Lt(i)}}return Tv(r,0,t)}function Av(e,n,t,r=De.Default,o){if(null!==e){if(2048&n[Q]&&!(r&De.Self)){const s=function SM(e,n,t,r,o){let i=e,s=n;for(;null!==i&&null!==s&&2048&s[Q]&&!(512&s[Q]);){const a=Rv(i,s,t,r|De.Self,$n);if(a!==$n)return a;let c=i.parent;if(!c){const u=s[Qm];if(u){const l=u.get(t,$n,r);if(l!==$n)return l}c=Ov(s),s=s[jo]}i=c}return o}(e,n,t,r,$n);if(s!==$n)return s}const i=Rv(e,n,t,r,$n);if(i!==$n)return i}return Mv(n,t,r,o)}function Rv(e,n,t,r,o){const i=function EM(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(es)?e[es]:void 0;return"number"==typeof n?n>=0?n&Ev:IM:n}(t);if("function"==typeof i){if(!gv(n,e,r))return r&De.Host?Tv(o,0,r):Mv(n,t,r,o);try{let s;if(s=i(r),null!=s||r&De.Optional)return s;ud()}finally{wv()}}else if("number"==typeof i){let s=null,a=Sv(e,n),c=Ho,u=r&De.Host?n[Je][yt]:null;for((-1===a||r&De.SkipSelf)&&(c=-1===a?Tc(e,n):n[a+8],c!==Ho&&xv(r,!1)?(s=n[P],a=ms(c),n=vs(c,n)):a=-1);-1!==a;){const l=n[P];if(Nv(i,a,l.data)){const d=CM(a,n,t,s,r,u);if(d!==$n)return d}c=n[a+8],c!==Ho&&xv(r,n[P].data[a+8]===u)&&Nv(i,a,n)?(s=l,a=ms(c),n=vs(c,n)):a=-1}}return o}function CM(e,n,t,r,o,i){const s=n[P],a=s.data[e+8],l=Mc(a,s,t,null==r?to(a)&&Jd:r!=s&&!!(3&a.type),o&De.Host&&i===a);return null!==l?oo(n,s,l,a):$n}function Mc(e,n,t,r,o){const i=e.providerIndexes,s=n.data,a=1048575&i,c=e.directiveStart,l=i>>20,f=o?a+l:e.directiveEnd;for(let p=r?a:a+l;p<f;p++){const g=s[p];if(p<c&&t===g||p>=c&&g.type===t)return p}if(o){const p=s[c];if(p&&wn(p)&&p.type===t)return c}return null}function oo(e,n,t,r){let o=e[t];const i=n.data;if(function gM(e){return e instanceof gs}(o)){const s=o;s.resolving&&function VS(e,n){throw n&&n.join(" > "),new x(-200,e)}(function Se(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():de(e)}(i[t]));const a=Ic(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?Lt(s.injectImpl):null;gv(e,r,De.Default);try{o=e[t]=s.factory(void 0,i,e,r),n.firstCreatePass&&t>=r.directiveStart&&function hM(e,n,t){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=n.type.prototype;if(r){const s=tv(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}o&&(t.preOrderHooks??=[]).push(0-e,o),i&&((t.preOrderHooks??=[]).push(e,i),(t.preOrderCheckHooks??=[]).push(e,i))}(t,i[t],n)}finally{null!==u&&Lt(u),Ic(a),s.resolving=!1,wv()}}return o}function Nv(e,n,t){return!!(t[n+(e>>Iv)]&1<<e)}function xv(e,n){return!(e&De.Self||e&De.Host&&n)}class at{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return Av(this._tNode,this._lView,n,tc(r),t)}}function IM(){return new at(Pe(),A())}function Yd(e){return nr(()=>{const n=e.prototype.constructor,t=n[rr]||Zd(n),r=Object.prototype;let o=Object.getPrototypeOf(e.prototype).constructor;for(;o&&o!==r;){const i=o[rr]||Zd(o);if(i&&i!==t)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function Zd(e){return Qa(e)?()=>{const n=Zd(se(e));return n&&n()}:Yr(e)}function Ov(e){const n=e[P],t=n.type;return 2===t?n.declTNode:1===t?e[yt]:null}function jv(e,n=null,t=null,r){const o=Uv(e,n,t,r);return o.resolveInjectorInitializers(),o}function Uv(e,n=null,t=null,r,o=new Set){const i=[t||Ee,yT(e)];return r=r||("object"==typeof e?void 0:ot(e)),new Po(i,n||fc(),r||null,o)}let Ut=(()=>{class e{static{this.THROW_IF_NOT_FOUND=ts}static{this.NULL=new sc}static create(t,r){if(Array.isArray(t))return jv({name:""},r,t,"");{const o=t.name??"";return jv({name:o},t.parent,t.providers,o)}}static{this.\u0275prov=z({token:e,providedIn:"any",factory:()=>K(Om)})}static{this.__NG_ELEMENT_ID__=-1}}return e})();function ef(e){return e.ngOriginalError}class Bn{constructor(){this._console=console}handleError(n){const t=this._findOriginalError(n);this._console.error("ERROR",n),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&ef(n);for(;t&&ef(t);)t=ef(t);return t||null}}const Bv=new U("",{providedIn:"root",factory:()=>N(Bn).handleError.bind(void 0)});let Go=(()=>{class e{static{this.__NG_ELEMENT_ID__=kM}static{this.__NG_ENV_ID__=t=>t}}return e})();class PM extends Go{constructor(n){super(),this._lView=n}onDestroy(n){return yc(this._lView,n),()=>function Fd(e,n){if(null===e[Er])return;const t=e[Er].indexOf(n);-1!==t&&e[Er].splice(t,1)}(this._lView,n)}}function kM(){return new PM(A())}function LM(){return Wo(Pe(),A())}function Wo(e,n){return new Sr(Rt(e,n))}let Sr=(()=>{class e{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=LM}}return e})();function Hv(e){return e instanceof Sr?e.nativeElement:e}function tf(e){return n=>{setTimeout(e,void 0,n)}}const bt=class FM extends rn{constructor(n=!1){super(),this.destroyRef=void 0,this.__isAsync=n,Wm()&&(this.destroyRef=N(Go,{optional:!0})??void 0)}emit(n){const t=_(null);try{super.next(n)}finally{_(t)}}subscribe(n,t,r){let o=n,i=t||(()=>null),s=r;if(n&&"object"==typeof n){const c=n;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=tf(i),o&&(o=tf(o)),s&&(s=tf(s)));const a=super.subscribe({next:o,error:i,complete:s});return n instanceof Tt&&n.add(a),a}};function jM(){return this._results[Symbol.iterator]()}class nf{get changes(){return this._changes??=new bt}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const t=nf.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=jM)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){this.dirty=!1;const r=function Ft(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function tT(e,n,t){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++){let o=e[r],i=n[r];if(t&&(o=t(o),i=t(i)),i!==o)return!1}return!0}(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Rc(e){return!(128&~e.flags)}const rf=new Map;let $M=0;const af="__ngContext__";function Ct(e,n){wt(n)?(e[af]=n[cs],function VM(e){rf.set(e[cs],e)}(n)):e[af]=n}function Xv(e){return ty(e[ss])}function ey(e){return ty(e[vn])}function ty(e){for(;null!==e&&!Dt(e);)e=e[vn];return e}let cf;const Oc=new U("",{providedIn:"root",factory:()=>sA}),sA="ng",uy=new U(""),Mr=new U("",{providedIn:"platform",factory:()=>"unknown"}),ly=new U("",{providedIn:"root",factory:()=>function Tr(){if(void 0!==cf)return cf;if(typeof document<"u")return document;throw new x(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let dy=()=>null;function mf(e,n,t=!1){return dy(e,n,t)}const my=new U("",{providedIn:"root",factory:()=>!1});let $c;function Qo(e){return function Df(){if(void 0===$c&&($c=null,Re.trustedTypes))try{$c=Re.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return $c}()?.createHTML(e)||e}class io{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${vm})`}}class DA extends io{getTypeName(){return"HTML"}}class _A extends io{getTypeName(){return"Style"}}class bA extends io{getTypeName(){return"Script"}}class CA extends io{getTypeName(){return"URL"}}class EA extends io{getTypeName(){return"ResourceURL"}}function Yt(e){return e instanceof io?e.changingThisBreaksApplicationSecurity:e}function Vn(e,n){const t=function IA(e){return e instanceof io&&e.getTypeName()||null}(e);if(null!=t&&t!==n){if("ResourceURL"===t&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${vm})`)}return t===n}class NA{constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{const t=(new window.DOMParser).parseFromString(Qo(n),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(n):(t.removeChild(t.firstChild),t)}catch{return null}}}class xA{constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){const t=this.inertDocument.createElement("template");return t.innerHTML=Qo(n),t}}const PA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Vc(e){return(e=String(e)).match(PA)?e:"unsafe:"+e}function cr(e){const n={};for(const t of e.split(","))n[t]=!0;return n}function Is(...e){const n={};for(const t of e)for(const r in t)t.hasOwnProperty(r)&&(n[r]=!0);return n}const by=cr("area,br,col,hr,img,wbr"),Cy=cr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ey=cr("rp,rt"),bf=Is(by,Is(Cy,cr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Is(Ey,cr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Is(Ey,Cy)),Cf=cr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Iy=Is(Cf,cr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),cr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),kA=cr("script,style,template");class LA{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(n){let t=n.firstChild,r=!0,o=[];for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)o.push(t),t=UA(t);else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=jA(t);if(i){t=i;break}t=o.pop()}return this.buf.join("")}startElement(n){const t=Sy(n).toLowerCase();if(!bf.hasOwnProperty(t))return this.sanitizedSomething=!0,!kA.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=n.attributes;for(let o=0;o<r.length;o++){const i=r.item(o),s=i.name,a=s.toLowerCase();if(!Iy.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=i.value;Cf[a]&&(c=Vc(c)),this.buf.push(" ",s,'="',My(c),'"')}return this.buf.push(">"),!0}endElement(n){const t=Sy(n).toLowerCase();bf.hasOwnProperty(t)&&!by.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(n){this.buf.push(My(n))}}function jA(e){const n=e.nextSibling;if(n&&e!==n.previousSibling)throw Ty(n);return n}function UA(e){const n=e.firstChild;if(n&&function FA(e,n){return(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(e,n))throw Ty(n);return n}function Sy(e){const n=e.nodeName;return"string"==typeof n?n:"FORM"}function Ty(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}const $A=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,BA=/([^\#-~ |!])/g;function My(e){return e.replace(/&/g,"&amp;").replace($A,function(n){return"&#"+(1024*(n.charCodeAt(0)-55296)+(n.charCodeAt(1)-56320)+65536)+";"}).replace(BA,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Hc;function Ay(e,n){let t=null;try{Hc=Hc||function _y(e){const n=new xA(e);return function OA(){try{return!!(new window.DOMParser).parseFromString(Qo(""),"text/html")}catch{return!1}}()?new NA(n):n}(e);let r=n?String(n):"";t=Hc.getInertBodyElement(r);let o=5,i=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=t.innerHTML,t=Hc.getInertBodyElement(r)}while(r!==i);return Qo((new LA).sanitizeChildren(Ef(t)||t))}finally{if(t){const r=Ef(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function Ef(e){return"content"in e&&function VA(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var sn=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(sn||{});function zc(e){const n=function Ss(){const e=A();return e&&e[yn].sanitizer}();return n?n.sanitize(sn.URL,e)||"":Vn(e,"URL")?Yt(e):Vc(de(e))}function Zt(e){return e instanceof Function?e():e}var Ar=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Ar||{});let Mf;function Af(e,n){return Mf(e,n)}function Zo(e,n,t,r,o){if(null!=r){let i,s=!1;Dt(r)?i=r:wt(r)&&(s=!0,r=r[We]);const a=Fe(r);0===e&&null!==t?null==o?Hy(n,t,a):so(n,t,a,o||null,!0):1===e&&null!==t?so(n,t,a,o||null,!0):2===e?function As(e,n,t){const r=Kc(e,n);r&&function mR(e,n,t,r){e.removeChild(n,t,r)}(e,r,n,t)}(n,a,s):3===e&&n.destroyNode(a),null!=i&&function wR(e,n,t,r,o){const i=t[kn];i!==Fe(t)&&Zo(n,e,r,i,o);for(let a=Qe;a<t.length;a++){const c=t[a];Yc(c[P],c,e,n,r,i)}}(n,e,i,t,o)}}function Wc(e,n,t){return e.createElement(n,t)}function $y(e,n){n[yn].changeDetectionScheduler?.notify(1),Yc(e,n,n[ce],2,null,null)}function By(e,n){const t=e[$o],r=t.indexOf(n);t.splice(r,1)}function Ts(e,n){if(e.length<=Qe)return;const t=Qe+n,r=e[t];if(r){const o=r[as];null!==o&&o!==e&&By(o,r),n>0&&(e[t-1][vn]=r[vn]);const i=oc(e,Qe+n);!function uR(e,n){$y(e,n),n[We]=null,n[yt]=null}(r[P],r);const s=i[ir];null!==s&&s.detachView(i[P]),r[Ke]=null,r[vn]=null,r[Q]&=-129}return r}function Jc(e,n){if(!(256&n[Q])){const t=n[ce];t.destroyNode&&Yc(e,n,t,3,null,null),function dR(e){let n=e[ss];if(!n)return xf(e[P],e);for(;n;){let t=null;if(wt(n))t=n[ss];else{const r=n[Qe];r&&(t=r)}if(!t){for(;n&&!n[vn]&&n!==e;)wt(n)&&xf(n[P],n),n=n[Ke];null===n&&(n=e),wt(n)&&xf(n[P],n),t=n&&n[vn]}n=t}}(n)}}function xf(e,n){if(256&n[Q])return;const t=_(null);try{n[Q]&=-129,n[Q]|=256,n[eo]&&function lt(e){if(H(e),G(e))for(let n=0;n<e.producerNode.length;n++)ee(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}(n[eo]),function gR(e,n){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let r=0;r<t.length;r+=2){const o=n[t[r]];if(!(o instanceof gs)){const i=t[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],c=i[s+1];Ln(4,a,c);try{c.call(a)}finally{Ln(5,a,c)}}else{Ln(4,o,i);try{i.call(o)}finally{Ln(5,o,i)}}}}}(e,n),function pR(e,n){const t=e.cleanup,r=n[Fo];if(null!==t)for(let i=0;i<t.length-1;i+=2)if("string"==typeof t[i]){const s=t[i+3];s>=0?r[s]():r[-s].unsubscribe(),i+=2}else t[i].call(r[t[i+1]]);null!==r&&(n[Fo]=null);const o=n[Er];if(null!==o){n[Er]=null;for(let i=0;i<o.length;i++)(0,o[i])()}}(e,n),1===n[P].type&&n[ce].destroy();const r=n[as];if(null!==r&&Dt(n[Ke])){r!==n[Ke]&&By(r,n);const o=n[ir];null!==o&&o.detachView(e)}!function HM(e){rf.delete(e[cs])}(n)}finally{_(t)}}function Of(e,n,t){return function Vy(e,n,t){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return t[We];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:i}=e.data[r.directiveStart+o];if(i===pn.None||i===pn.Emulated)return null}return Rt(r,t)}}(e,n.parent,t)}function so(e,n,t,r,o){e.insertBefore(n,t,r,o)}function Hy(e,n,t){e.appendChild(n,t)}function zy(e,n,t,r,o){null!==r?so(e,n,t,r,o):Hy(e,n,t)}function Kc(e,n){return e.parentNode(n)}let Pf,Wy=function Gy(e,n,t){return 40&e.type?Rt(e,t):null};function Qc(e,n,t,r){const o=Of(e,r,n),i=n[ce],a=function qy(e,n,t){return Wy(e,n,t)}(r.parent||n[yt],r,n);if(null!=o)if(Array.isArray(t))for(let c=0;c<t.length;c++)zy(i,o,t[c],a,!1);else zy(i,o,t,a,!1);void 0!==Pf&&Pf(i,r,n,t,o)}function Ms(e,n){if(null!==n){const t=n.type;if(3&t)return Rt(n,e);if(4&t)return kf(-1,e[n.index]);if(8&t){const r=n.child;if(null!==r)return Ms(e,r);{const o=e[n.index];return Dt(o)?kf(-1,o):Fe(o)}}if(32&t)return Af(n,e)()||Fe(e[n.index]);{const r=Ky(e,n);return null!==r?Array.isArray(r)?r[0]:Ms(no(e[Je]),r):Ms(e,n.next)}}return null}function Ky(e,n){return null!==n?e[Je][yt].projection[n.projection]:null}function kf(e,n){const t=Qe+e+1;if(t<n.length){const r=n[t],o=r[P].firstChild;if(null!==o)return Ms(r,o)}return n[kn]}function Lf(e,n,t,r,o,i,s){for(;null!=t;){const a=r[t.index],c=t.type;if(s&&0===n&&(a&&Ct(Fe(a),r),t.flags|=2),32&~t.flags)if(8&c)Lf(e,n,t.child,r,o,i,!1),Zo(n,e,o,a,i);else if(32&c){const u=Af(t,r);let l;for(;l=u();)Zo(n,e,o,l,i);Zo(n,e,o,a,i)}else 16&c?Yy(e,n,r,t,o,i):Zo(n,e,o,a,i);t=s?t.projectionNext:t.next}}function Yc(e,n,t,r,o,i){Lf(t,r,e.firstChild,n,o,i,!1)}function Yy(e,n,t,r,o,i){const s=t[Je],c=s[yt].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++)Zo(n,e,o,c[u],i);else{let u=c;const l=s[Ke];Rc(r)&&(u.flags|=128),Lf(e,n,u,l,o,i,!0)}}function Zy(e,n,t){""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function Xy(e,n,t){const{mergedAttrs:r,classes:o,styles:i}=t;null!==r&&md(e,n,r),null!==o&&Zy(e,n,o),null!==i&&function _R(e,n,t){e.setAttribute(n,"style",t)}(e,n,i)}const he={};function Xt(e=1){ew(_e(),A(),_t()+e,!1)}function ew(e,n,t,r){if(!r)if(3&~n[Q]){const i=e.preOrderHooks;null!==i&&Ec(n,i,0,t)}else{const i=e.preOrderCheckHooks;null!==i&&Cc(n,i,t)}ro(t)}function re(e,n=De.Default){const t=A();return null===t?K(e,n):Av(Pe(),t,se(e),n)}function nw(e,n,t,r,o,i){const s=_(null);try{let a=null;o&gn.SignalBased&&(a=n[r][E]),null!==a&&void 0!==a.transformFn&&(i=a.transformFn(i)),o&gn.HasDecoratorInputTransform&&(i=e.inputTransforms[r].call(n,i)),null!==e.setInput?e.setInput(n,a,i,t,r):ev(n,a,r,i)}finally{_(s)}}function Zc(e,n,t,r,o,i,s,a,c,u,l){const d=n.blueprint.slice();return d[We]=o,d[Q]=204|r,(null!==u||e&&2048&e[Q])&&(d[Q]|=2048),av(d),d[Ke]=d[jo]=e,d[$e]=t,d[yn]=s||e&&e[yn],d[ce]=a||e&&e[ce],d[tt]=c||e&&e[tt]||null,d[yt]=i,d[cs]=function BM(){return $M++}(),d[Kt]=l,d[Qm]=u,d[Je]=2==n.type?e[Je]:d,d}function Xo(e,n,t,r,o){let i=e.data[n];if(null===i)i=function Ff(e,n,t,r,o){const i=dv(),s=jd(),c=e.data[n]=function AR(e,n,t,r,o,i){let s=n?n.injectorIndex:-1,a=0;return function Vo(){return null!==ue.skipHydrationRootTNode}()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,t,n,r,o);return null===e.firstChild&&(e.firstChild=c),null!==i&&(s?null==i.child&&null!==c.parent&&(i.child=c):null===i.next&&(i.next=c,c.prev=i)),c}(e,n,t,r,o),function oM(){return ue.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=t,i.value=r,i.attrs=o;const s=function hs(){const e=ue.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return jn(i,!0),i}function Rs(e,n,t,r){if(0===t)return-1;const o=n.length;for(let i=0;i<t;i++)n.push(r),e.blueprint.push(r),e.data.push(null);return o}function rw(e,n,t,r,o){const i=_t(),s=2&r;try{ro(-1),s&&n.length>fe&&ew(e,n,fe,!1),Ln(s?2:0,o),t(r,o)}finally{ro(i),Ln(s?3:1,o)}}function jf(e,n,t){if(Md(n)){const r=_(null);try{const i=n.directiveEnd;for(let s=n.directiveStart;s<i;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{_(r)}}}function Uf(e,n,t){lv()&&(function LR(e,n,t,r){const o=t.directiveStart,i=t.directiveEnd;to(t)&&function HR(e,n,t){const r=Rt(n,e),o=ow(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=Xc(e,Zc(e,o,null,s,r,n,null,e[yn].rendererFactory.createRenderer(r,t),null,null,null));e[n.index]=a}(n,t,e.data[o+t.componentOffset]),e.firstCreatePass||Sc(t,n),Ct(r,n);const s=t.initialInputs;for(let a=o;a<i;a++){const c=e.data[a],u=oo(n,e,a,t);Ct(u,n),null!==s&&zR(0,a-o,u,c,0,s),wn(c)&&(Qt(t.index,n)[$e]=oo(n,e,a,t))}}(e,n,t,Rt(t,n)),!(64&~t.flags)&&uw(e,n,t))}function $f(e,n,t=Rt){const r=n.localNames;if(null!==r){let o=n.index+1;for(let i=0;i<r.length;i+=2){const s=r[i+1],a=-1===s?t(n,e):e[s];e[o++]=a}}}function ow(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=Bf(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Bf(e,n,t,r,o,i,s,a,c,u,l){const d=fe+r,f=d+o,p=function CR(e,n){const t=[];for(let r=0;r<n;r++)t.push(r<e?null:he);return t}(d,f),g="function"==typeof u?u():u;return p[P]={type:e,blueprint:p,template:t,queries:null,viewQuery:a,declTNode:n,data:p.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:g,incompleteFirstPass:!1,ssrId:l}}let iw=()=>null;function sw(e,n,t,r,o){for(let i in n){if(!n.hasOwnProperty(i))continue;const s=n[i];if(void 0===s)continue;r??={};let a,c=gn.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let u=i;if(null!==o){if(!o.hasOwnProperty(i))continue;u=o[i]}0===e?aw(r,t,u,a,c):aw(r,t,u,a)}return r}function aw(e,n,t,r,o){let i;e.hasOwnProperty(t)?(i=e[t]).push(n,r):i=e[t]=[n,r],void 0!==o&&i.push(o)}function Vf(e,n,t,r){if(lv()){const o=null===r?null:{"":-1},i=function jR(e,n){const t=e.directiveRegistry;let r=null,o=null;if(t)for(let i=0;i<t.length;i++){const s=t[i];if(jm(n,s.selectors,!1))if(r||(r=[]),wn(s))if(null!==s.findHostDirectiveDefs){const a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),r.unshift(...a,s),Hf(e,n,a.length)}else r.unshift(s),Hf(e,n,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,r,o),r.push(s)}return null===r?null:[r,o]}(e,t);let s,a;null===i?s=a=null:[s,a]=i,null!==s&&cw(e,n,t,s,o,a),o&&function UR(e,n,t){if(n){const r=e.localNames=[];for(let o=0;o<n.length;o+=2){const i=t[n[o+1]];if(null==i)throw new x(-301,!1);r.push(n[o],i)}}}(t,r,o)}t.mergedAttrs=rs(t.mergedAttrs,t.attrs)}function cw(e,n,t,r,o,i){for(let u=0;u<r.length;u++)Qd(Sc(t,n),e,r[u].type);!function BR(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}(t,e.data.length,r.length);for(let u=0;u<r.length;u++){const l=r[u];l.providersResolver&&l.providersResolver(l)}let s=!1,a=!1,c=Rs(e,n,r.length,null);for(let u=0;u<r.length;u++){const l=r[u];t.mergedAttrs=rs(t.mergedAttrs,l.hostAttrs),VR(e,t,n,c,l),$R(c,l,o),null!==l.contentQueries&&(t.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(t.flags|=64);const d=l.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}!function RR(e,n,t){const o=n.directiveEnd,i=e.data,s=n.attrs,a=[];let c=null,u=null;for(let l=n.directiveStart;l<o;l++){const d=i[l],f=t?t.get(d):null,g=f?f.outputs:null;c=sw(0,d.inputs,l,c,f?f.inputs:null),u=sw(1,d.outputs,l,u,g);const w=null===c||null===s||vd(n)?null:qR(c,l,s);a.push(w)}null!==c&&(c.hasOwnProperty("class")&&(n.flags|=8),c.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=c,n.outputs=u}(e,t,i)}function uw(e,n,t){const r=t.directiveStart,o=t.directiveEnd,i=t.index,s=function sM(){return ue.lFrame.currentDirectiveIndex}();try{ro(i);for(let a=r;a<o;a++){const c=e.data[a],u=n[a];$d(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&FR(c,u)}}finally{ro(-1),$d(s)}}function FR(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function Hf(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function $R(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;wn(n)&&(t[""]=e)}}function VR(e,n,t,r,o){e.data[r]=o;const i=o.factory||(o.factory=Yr(o.type)),s=new gs(i,wn(o),re);e.blueprint[r]=s,t[r]=s,function PR(e,n,t,r,o){const i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~n.index;(function kR(e){let n=e.length;for(;n>0;){const t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,i)}}(e,n,r,Rs(e,t,o.hostVars,he),o)}function zR(e,n,t,r,o,i){const s=i[n];if(null!==s)for(let a=0;a<s.length;)nw(r,t,s[a++],s[a++],s[a++],s[a++])}function qR(e,n,t){let r=null,o=0;for(;o<t.length;){const i=t[o];if(0!==i)if(5!==i){if("number"==typeof i)break;if(e.hasOwnProperty(i)){null===r&&(r=[]);const s=e[i];for(let a=0;a<s.length;a+=3)if(s[a]===n){r.push(i,s[a+1],s[a+2],t[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function lw(e,n,t,r){return[e,!0,0,n,null,r,null,t,null,null]}function dw(e,n){const t=e.contentQueries;if(null!==t){const r=_(null);try{for(let o=0;o<t.length;o+=2){const s=t[o+1];if(-1!==s){const a=e.data[s];_c(t[o]),a.contentQueries(2,n[s],s)}}}finally{_(r)}}}function Xc(e,n){return e[ss]?e[Km][vn]=n:e[ss]=n,e[Km]=n,n}function qf(e,n,t){_c(0);const r=_(null);try{n(e,t)}finally{_(r)}}function fw(e){return e[Fo]||(e[Fo]=[])}function hw(e){return e.cleanup||(e.cleanup=[])}function eu(e,n){const t=e[tt],r=t?t.get(Bn,null):null;r&&r.handleError(n)}function Gf(e,n,t,r,o){for(let i=0;i<t.length;){const s=t[i++],a=t[i++],c=t[i++];nw(e.data[s],n[s],r,a,c,o)}}function GR(e,n){const t=Qt(n,e),r=t[P];!function WR(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}(r,t);const o=t[We];null!==o&&null===t[Kt]&&(t[Kt]=mf(o,t[tt])),Wf(r,t,t[$e])}function Wf(e,n,t){Hd(n);try{const r=e.viewQuery;null!==r&&qf(1,r,t);const o=e.template;null!==o&&rw(e,n,o,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[ir]?.finishViewCreation(e),e.staticContentQueries&&dw(e,n),e.staticViewQueries&&qf(2,e.viewQuery,t);const i=e.components;null!==i&&function JR(e,n){for(let t=0;t<n.length;t++)GR(e,n[t])}(n,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[Q]&=-5,zd()}}function ei(e,n){return!n||null===n.firstChild||Rc(e)}function xs(e,n,t,r=!0){const o=n[P];if(function fR(e,n,t,r){const o=Qe+r,i=t.length;r>0&&(t[o-1][vn]=n),r<i-Qe?(n[vn]=t[o],Rm(t,Qe+r,n)):(t.push(n),n[vn]=null),n[Ke]=t;const s=n[as];null!==s&&t!==s&&function hR(e,n){const t=e[$o];n[Je]!==n[Ke][Ke][Je]&&(e[Q]|=Td.HasTransplantedViews),null===t?e[$o]=[n]:t.push(n)}(s,n);const a=n[ir];null!==a&&a.insertView(e),Ld(n),n[Q]|=128}(o,n,e,t),r){const s=kf(t,e),a=n[ce],c=Kc(a,e[kn]);null!==c&&function lR(e,n,t,r,o,i){r[We]=o,r[yt]=n,Yc(e,r,t,1,o,i)}(o,e[yt],a,n,c,s)}const i=n[Kt];null!==i&&null!==i.firstChild&&(i.firstChild=null)}function Os(e,n,t,r,o=!1){for(;null!==t;){const i=n[t.index];null!==i&&r.push(Fe(i)),Dt(i)&&mw(i,r);const s=t.type;if(8&s)Os(e,n,t.child,r);else if(32&s){const a=Af(t,n);let c;for(;c=a();)r.push(c)}else if(16&s){const a=Ky(n,t);if(Array.isArray(a))r.push(...a);else{const c=no(n[Je]);Os(c[P],c,a,r,!0)}}t=o?t.projectionNext:t.next}return r}function mw(e,n){for(let t=Qe;t<e.length;t++){const r=e[t],o=r[P].firstChild;null!==o&&Os(r[P],r,o,n)}e[kn]!==e[We]&&n.push(e[kn])}let vw=[];const ZR={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{fs(e.lView)},consumerOnSignalRead(){this.lView[eo]=this}},yw=100;function tu(e,n=!0,t=0){const r=e[yn],o=r.rendererFactory;o.begin?.();try{!function XR(e,n){Kf(e,n);let t=0;for(;kd(e);){if(t===yw)throw new x(103,!1);t++,Kf(e,1)}}(e,t)}catch(s){throw n&&eu(e,s),s}finally{o.end?.(),r.inlineEffectRunner?.flush()}}function eN(e,n,t,r){const o=n[Q];if(!(256&~o))return;n[yn].inlineEffectRunner?.flush(),Hd(n);let s=null,a=null;(function tN(e){return 2!==e.type})(e)&&(a=function KR(e){return e[eo]??function QR(e){const n=vw.pop()??Object.create(ZR);return n.lView=e,n}(e)}(n),s=function ie(e){return e&&(e.nextProducerIndex=0),_(e)}(a));try{av(n),function hv(e){return ue.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&rw(e,n,t,2,r);const c=!(3&~o);if(c){const d=e.preOrderCheckHooks;null!==d&&Cc(n,d,null)}else{const d=e.preOrderHooks;null!==d&&Ec(n,d,0,null),qd(n,0)}if(function nN(e){for(let n=Xv(e);null!==n;n=ey(n)){if(!(n[Q]&Td.HasTransplantedViews))continue;const t=n[$o];for(let r=0;r<t.length;r++){JT(t[r])}}}(n),ww(n,0),null!==e.contentQueries&&dw(e,n),c){const d=e.contentCheckHooks;null!==d&&Cc(n,d)}else{const d=e.contentHooks;null!==d&&Ec(n,d,1),qd(n,1)}!function bR(e,n){const t=e.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const o=t[r];if(o<0)ro(~o);else{const i=o,s=t[++r],a=t[++r];iM(s,i),a(2,n[i])}}}finally{ro(-1)}}(e,n);const u=e.components;null!==u&&_w(n,u,0);const l=e.viewQuery;if(null!==l&&qf(2,l,r),c){const d=e.viewCheckHooks;null!==d&&Cc(n,d)}else{const d=e.viewHooks;null!==d&&Ec(n,d,2),qd(n,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[gc]){for(const d of n[gc])d();n[gc]=null}n[Q]&=-73}catch(c){throw fs(n),c}finally{null!==a&&(function X(e,n){if(_(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(G(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)ee(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}(a,s),function YR(e){e.lView[eo]!==e&&(e.lView=null,vw.push(e))}(a)),zd()}}function ww(e,n){for(let t=Xv(e);null!==t;t=ey(t))for(let r=Qe;r<t.length;r++)Dw(t[r],n)}function rN(e,n,t){Dw(Qt(n,e),t)}function Dw(e,n){Pd(e)&&Kf(e,n)}function Kf(e,n){const r=e[P],o=e[Q],i=e[eo];let s=!!(0===n&&16&o);if(s||=!!(64&o&&0===n),s||=!!(1024&o),s||=!(!i?.dirty||!Le(i)),i&&(i.dirty=!1),e[Q]&=-9217,s)eN(r,e,r.template,e[$e]);else if(8192&o){ww(e,1);const a=r.components;null!==a&&_w(e,a,1)}}function _w(e,n,t){for(let r=0;r<n.length;r++)rN(e,n[r],t)}function Ps(e){for(e[yn].changeDetectionScheduler?.notify();e;){e[Q]|=64;const n=no(e);if(Ad(e)&&!n)return e;e=n}return null}class ks{get rootNodes(){const n=this._lView,t=n[P];return Os(t,n,t.firstChild,[])}constructor(n,t,r=!0){this._lView=n,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[$e]}set context(n){this._lView[$e]=n}get destroyed(){return!(256&~this._lView[Q])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Ke];if(Dt(n)){const t=n[8],r=t?t.indexOf(this):-1;r>-1&&(Ts(n,r),oc(t,r))}this._attachedToViewContainer=!1}Jc(this._lView[P],this._lView)}onDestroy(n){yc(this._lView,n)}markForCheck(){Ps(this._cdRefInjectingView||this._lView)}detach(){this._lView[Q]&=-129}reattach(){Ld(this._lView),this._lView[Q]|=128}detectChanges(){this._lView[Q]|=1024,tu(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new x(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,$y(this._lView[P],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new x(902,!1);this._appRef=n,Ld(this._lView)}}let lr=(()=>{class e{static{this.__NG_ELEMENT_ID__=sN}}return e})();const oN=lr,iN=class extends oN{constructor(n,t,r){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t)}createEmbeddedViewImpl(n,t,r){const o=function Ns(e,n,t,r){const o=_(null);try{const i=n.tView,c=Zc(e,i,t,4096&e[Q]?4096:16,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);c[as]=e[n.index];const l=e[ir];return null!==l&&(c[ir]=l.createEmbeddedView(i)),Wf(i,c,t),c}finally{_(o)}}(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:t,dehydratedView:r});return new ks(o)}};function sN(){return nu(Pe(),A())}function nu(e,n){return 4&e.type?new iN(n,e,Wo(e,n)):null}class th{}class RN{}class Mw{}class xN{resolveComponentFactory(n){throw function NN(e){const n=Error(`No component factory found for ${ot(e)}.`);return n.ngComponent=e,n}(n)}}let au=(()=>{class e{static{this.NULL=new xN}}return e})();class Rw{}let $s=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function ON(){const e=A(),t=Qt(Pe().index,e);return(wt(t)?t:e)[ce]}()}}return e})(),PN=(()=>{class e{static{this.\u0275prov=z({token:e,providedIn:"root",factory:()=>null})}}return e})();const nh={},Nw=new Set;function zn(e){Nw.has(e)||(Nw.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function xw(...e){}class Ne{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new bt(!1),this.onMicrotaskEmpty=new bt(!1),this.onStable=new bt(!1),this.onError=new bt(!1),typeof Zone>"u")throw new x(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&t,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function kN(){const e="function"==typeof Re.requestAnimationFrame;let n=Re[e?"requestAnimationFrame":"setTimeout"],t=Re[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&t){const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r);const o=t[Zone.__symbol__("OriginalDelegate")];o&&(t=o)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function jN(e){const n=()=>{!function FN(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Re,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,oh(e),e.isCheckStableRunning=!0,rh(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),oh(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,o,i,s,a)=>{if(function UN(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(o,i,s,a);try{return Ow(e),t.invokeTask(o,i,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||e.shouldCoalesceRunChangeDetection)&&n(),Pw(e)}},onInvoke:(t,r,o,i,s,a,c)=>{try{return Ow(e),t.invoke(o,i,s,a,c)}finally{e.shouldCoalesceRunChangeDetection&&n(),Pw(e)}},onHasTask:(t,r,o,i)=>{t.hasTask(o,i),r===o&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,oh(e),rh(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,r,o,i)=>(t.handleError(o,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ne.isInAngularZone())throw new x(909,!1)}static assertNotInAngularZone(){if(Ne.isInAngularZone())throw new x(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,n,LN,xw,xw);try{return i.runTask(s,t,r)}finally{i.cancelTask(s)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}}const LN={};function rh(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function oh(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Ow(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Pw(e){e._nesting--,rh(e)}class kw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new bt,this.onMicrotaskEmpty=new bt,this.onStable=new bt,this.onError=new bt}run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,o){return n.apply(t,r)}}var ao=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(ao||{});const Lw={destroy(){}};function sh(e,n){!n&&function hc(e){if(!Wm())throw new x(-203,!1)}();const t=n?.injector??N(Ut);if(!function _n(e){return"browser"===(e??N(Ut)).get(Mr)}(t))return Lw;zn("NgAfterNextRender");const r=t.get(Bs),o=r.handler??=new jw,i=n?.phase??ao.MixedReadWrite,s=()=>{o.unregister(c),a()},a=t.get(Go).onDestroy(s),c=Pn(t,()=>new Fw(i,()=>{s(),e()}));return o.register(c),{destroy:s}}class Fw{constructor(n,t){this.phase=n,this.callbackFn=t,this.zone=N(Ne),this.errorHandler=N(Bn,{optional:!0}),N(th,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(n){this.errorHandler?.handleError(n)}}}class jw{constructor(){this.executingCallbacks=!1,this.buckets={[ao.EarlyRead]:new Set,[ao.Write]:new Set,[ao.MixedReadWrite]:new Set,[ao.Read]:new Set},this.deferredCallbacks=new Set}register(n){(this.executingCallbacks?this.deferredCallbacks:this.buckets[n.phase]).add(n)}unregister(n){this.buckets[n.phase].delete(n),this.deferredCallbacks.delete(n)}execute(){this.executingCallbacks=!0;for(const n of Object.values(this.buckets))for(const t of n)t.invoke();this.executingCallbacks=!1;for(const n of this.deferredCallbacks)this.buckets[n.phase].add(n);this.deferredCallbacks.clear()}destroy(){for(const n of Object.values(this.buckets))n.clear();this.deferredCallbacks.clear()}}let Bs=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const t=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const r of t)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=z({token:e,providedIn:"root",factory:()=>new e})}}return e})();function uu(e,n,t){let r=t?e.styles:null,o=t?e.classes:null,i=0;if(null!==n)for(let s=0;s<n.length;s++){const a=n[s];"number"==typeof a?i=a:1==i?o=Xl(o,a):2==i&&(r=Xl(r,a+": "+n[++s]+";"))}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=o:e.classesWithoutHost=o}class Bw extends au{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const t=we(n);return new zs(t,this.ngModule)}}function Vw(e){const n=[];for(const t in e){if(!e.hasOwnProperty(t))continue;const r=e[t];void 0!==r&&n.push({propName:Array.isArray(r)?r[0]:r,templateName:t})}return n}class lu{constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){r=tc(r);const o=this.injector.get(n,nh,r);return o!==nh||t===nh?o:this.parentInjector.get(n,t,r)}}class zs extends Mw{get inputs(){const n=this.componentDef,t=n.inputTransforms,r=Vw(n.inputs);if(null!==t)for(const o of r)t.hasOwnProperty(o.propName)&&(o.transform=t[o.propName]);return r}get outputs(){return Vw(this.componentDef.outputs)}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=function fT(e){return e.map(dT).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}create(n,t,r,o){const i=_(null);try{let s=(o=o||this.ngModule)instanceof At?o:o?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const a=s?new lu(n,s):n,c=a.get(Rw,null);if(null===c)throw new x(407,!1);const u=a.get(PN,null),f={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,afterRenderEventManager:a.get(Bs,null),changeDetectionScheduler:a.get(th,null)},p=c.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",w=r?function ER(e,n,t,r){const i=r.get(my,!1)||t===pn.ShadowDom,s=e.selectRootElement(n,i);return function IR(e){iw(e)}(s),s}(p,r,this.componentDef.encapsulation,a):Wc(p,g,function zN(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(g));let C=512;this.componentDef.signals?C|=4096:this.componentDef.onPush||(C|=16);let T=null;null!==w&&(T=mf(w,a,!0));const M=Bf(0,null,null,1,0,null,null,null,null,null,null),O=Zc(null,M,null,C,null,null,f,p,a,null,T);let V,k;Hd(O);try{const te=this.componentDef;let xe,Ae=null;te.findHostDirectiveDefs?(xe=[],Ae=new Map,te.findHostDirectiveDefs(te,xe,Ae),xe.push(te)):xe=[te];const St=function GN(e,n){const t=e[P],r=fe;return e[r]=n,Xo(t,r,2,"#host",null)}(O,w),h3=function WN(e,n,t,r,o,i,s){const a=o[P];!function JN(e,n,t,r){for(const o of e)n.mergedAttrs=rs(n.mergedAttrs,o.hostAttrs);null!==n.mergedAttrs&&(uu(n,n.mergedAttrs,!0),null!==t&&Xy(r,t,n))}(r,e,n,s);let c=null;null!==n&&(c=mf(n,o[tt]));const u=i.rendererFactory.createRenderer(n,t);let l=16;t.signals?l=4096:t.onPush&&(l=64);const d=Zc(o,ow(t),null,l,o[e.index],e,i,u,null,null,c);return a.firstCreatePass&&Hf(a,e,r.length-1),Xc(o,d),o[e.index]=d}(St,w,te,xe,O,f,p);k=ds(M,fe),w&&function QN(e,n,t,r){if(r)md(e,t,["ng-version","17.3.12"]);else{const{attrs:o,classes:i}=function hT(e){const n=[],t=[];let r=1,o=2;for(;r<e.length;){let i=e[r];if("string"==typeof i)2===o?""!==i&&n.push(i,e[++r]):8===o&&t.push(i);else{if(!mn(o))break;o=i}r++}return{attrs:n,classes:t}}(n.selectors[0]);o&&md(e,t,o),i&&i.length>0&&Zy(e,t,i.join(" "))}}(p,te,w,r),void 0!==t&&function YN(e,n,t){const r=e.projection=[];for(let o=0;o<n.length;o++){const i=t[o];r.push(null!=i?Array.from(i):null)}}(k,this.ngContentSelectors,t),V=function KN(e,n,t,r,o,i){const s=Pe(),a=o[P],c=Rt(s,o);cw(a,o,s,t,null,r);for(let l=0;l<t.length;l++)Ct(oo(o,a,s.directiveStart+l,s),o);uw(a,o,s),c&&Ct(c,o);const u=oo(o,a,s.directiveStart+s.componentOffset,s);if(e[$e]=o[$e]=u,null!==i)for(const l of i)l(u,n);return jf(a,s,o),u}(h3,te,xe,Ae,O,[ZN]),Wf(M,O,null)}finally{zd()}return new qN(this.componentType,V,Wo(k,O),O,k)}finally{_(i)}}}class qN extends RN{constructor(n,t,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new ks(o,void 0,!1),this.componentType=n}setInput(n,t){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;const i=this._rootLView;Gf(i[P],i,o,n,t),this.previousInputValues.set(n,t),Ps(Qt(this._tNode.index,i))}}get injector(){return new at(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function ZN(){const e=Pe();bc(A()[P],e)}let bn=(()=>{class e{static{this.__NG_ELEMENT_ID__=XN}}return e})();function XN(){return qw(Pe(),A())}const ex=bn,Hw=class extends ex{constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return Wo(this._hostTNode,this._hostLView)}get injector(){return new at(this._hostTNode,this._hostLView)}get parentInjector(){const n=Tc(this._hostTNode,this._hostLView);if(Wd(n)){const t=vs(n,this._hostLView),r=ms(n);return new at(t[P].data[r+8],t)}return new at(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const t=zw(this._lContainer);return null!==t&&t[n]||null}get length(){return this._lContainer.length-Qe}createEmbeddedView(n,t,r){let o,i;"number"==typeof r?o=r:null!=r&&(o=r.index,i=r.injector);const a=n.createEmbeddedViewImpl(t||{},i,null);return this.insertImpl(a,o,ei(this._hostTNode,null)),a}createComponent(n,t,r,o,i){const s=n&&!function is(e){return"function"==typeof e}(n);let a;if(s)a=t;else{const g=t||{};a=g.index,r=g.injector,o=g.projectableNodes,i=g.environmentInjector||g.ngModuleRef}const c=s?n:new zs(we(n)),u=r||this.parentInjector;if(!i&&null==c.ngModule){const w=(s?u:this.parentInjector).get(At,null);w&&(i=w)}we(c.componentType??{});const p=c.create(u,o,null,i);return this.insertImpl(p.hostView,a,ei(this._hostTNode,null)),p}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,r){const o=n._lView;if(function WT(e){return Dt(e[Ke])}(o)){const a=this.indexOf(n);if(-1!==a)this.detach(a);else{const c=o[Ke],u=new Hw(c,c[yt],c[Ke]);u.detach(u.indexOf(n))}}const i=this._adjustIndex(t),s=this._lContainer;return xs(s,o,i,r),n.attachToViewContainerRef(),Rm(uh(s),i,n),n}move(n,t){return this.insert(n,t)}indexOf(n){const t=zw(this._lContainer);return null!==t?t.indexOf(n):-1}remove(n){const t=this._adjustIndex(n,-1),r=Ts(this._lContainer,t);r&&(oc(uh(this._lContainer),t),Jc(r[P],r))}detach(n){const t=this._adjustIndex(n,-1),r=Ts(this._lContainer,t);return r&&null!=oc(uh(this._lContainer),t)?new ks(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function zw(e){return e[8]}function uh(e){return e[8]||(e[8]=[])}function qw(e,n){let t;const r=n[e.index];return Dt(r)?t=r:(t=lw(r,n,null,e),n[e.index]=t,Xc(n,t)),Gw(t,n,e,r),new Hw(t,e,n)}let Gw=function Jw(e,n,t,r){if(e[kn])return;let o;o=8&t.type?Fe(r):function tx(e,n){const t=e[ce],r=t.createComment(""),o=Rt(n,e);return so(t,Kc(t,o),r,function vR(e,n){return e.nextSibling(n)}(t,o),!1),r}(n,t),e[kn]=o},lh=()=>!1;class dh{constructor(n){this.queryList=n,this.matches=null}clone(){return new dh(this.queryList)}setDirty(){this.queryList.setDirty()}}class fh{constructor(n=[]){this.queries=n}createEmbeddedView(n){const t=n.queries;if(null!==t){const r=null!==n.contentQueries?n.contentQueries[0]:t.length,o=[];for(let i=0;i<r;i++){const s=t.getByIndex(i);o.push(this.queries[s.indexInDeclarationView].clone())}return new fh(o)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)null!==vh(n,t).matches&&this.queries[t].setDirty()}}class Kw{constructor(n,t,r=null){this.flags=t,this.read=r,this.predicate="string"==typeof n?function ux(e){return e.split(",").map(n=>n.trim())}(n):n}}class hh{constructor(n=[]){this.queries=n}elementStart(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let r=0;r<this.length;r++){const o=null!==t?t.length:0,i=this.getByIndex(r).embeddedTView(n,o);i&&(i.indexInDeclarationView=r,null!==t?t.push(i):t=[i])}return null!==t?new hh(t):null}template(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class ph{constructor(n,t=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new ph(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const t=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let o=0;o<r.length;o++){const i=r[o];this.matchTNodeWithReadOption(n,t,ix(t,i)),this.matchTNodeWithReadOption(n,t,Mc(t,n,i,!1,!1))}else r===lr?4&t.type&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,Mc(t,n,r,!1,!1))}matchTNodeWithReadOption(n,t,r){if(null!==r){const o=this.metadata.read;if(null!==o)if(o===Sr||o===bn||o===lr&&4&t.type)this.addMatch(t.index,-2);else{const i=Mc(t,n,o,!1,!1);null!==i&&this.addMatch(t.index,i)}else this.addMatch(t.index,r)}}addMatch(n,t){null===this.matches?this.matches=[n,t]:this.matches.push(n,t)}}function ix(e,n){const t=e.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===n)return t[r+1];return null}function ax(e,n,t,r){return-1===t?function sx(e,n){return 11&e.type?Wo(e,n):4&e.type?nu(e,n):null}(n,e):-2===t?function cx(e,n,t){return t===Sr?Wo(n,e):t===lr?nu(n,e):t===bn?qw(n,e):void 0}(e,n,r):oo(e,e[P],t,n)}function Qw(e,n,t,r){const o=n[ir].queries[r];if(null===o.matches){const i=e.data,s=t.matches,a=[];for(let c=0;null!==s&&c<s.length;c+=2){const u=s[c];a.push(u<0?null:ax(n,i[u],s[c+1],t.metadata.read))}o.matches=a}return o.matches}function gh(e,n,t,r){const o=e.queries.getByIndex(t),i=o.matches;if(null!==i){const s=Qw(e,n,o,t);for(let a=0;a<i.length;a+=2){const c=i[a];if(c>0)r.push(s[a/2]);else{const u=i[a+1],l=n[-c];for(let d=Qe;d<l.length;d++){const f=l[d];f[as]===f[Ke]&&gh(f[P],f,u,r)}if(null!==l[$o]){const d=l[$o];for(let f=0;f<d.length;f++){const p=d[f];gh(p[P],p,u,r)}}}}}return r}function Zw(e,n,t){const r=_e();return r.firstCreatePass&&(function eD(e,n,t){null===e.queries&&(e.queries=new hh),e.queries.track(new ph(n,t))}(r,new Kw(e,n,t),-1),!(2&~n)&&(r.staticViewQueries=!0)),function Yw(e,n,t){const r=new nf(!(4&~t));return function MR(e,n,t,r){const o=fw(n);o.push(t),e.firstCreatePass&&hw(e).push(r,o.length-1)}(e,n,r,r.destroy),(n[ir]??=new fh).queries.push(new dh(r))-1}(r,A(),n)}function vh(e,n){return e.queries.getByIndex(n)}function tD(e,n){const t=e[P],r=vh(t,n);return r.crossesNgTemplate?gh(t,e,n,[]):Qw(t,e,r,n)}class co{}class _D{}class wh extends co{constructor(n,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Bw(this);const o=vt(n);this._bootstrapComponents=Zt(o.bootstrap),this._r3Injector=Uv(n,t,[{provide:co,useValue:this},{provide:au,useValue:this.componentFactoryResolver},...r],ot(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class Dh extends _D{constructor(n){super(),this.moduleType=n}create(n){return new wh(this.moduleType,n,[])}}class bD extends co{constructor(n){super(),this.componentFactoryResolver=new Bw(this),this.instance=null;const t=new Po([...n.providers,{provide:co,useValue:this},{provide:au,useValue:this.componentFactoryResolver}],n.parent||fc(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function hu(e,n,t=null){return new bD({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}let xr=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new on(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function gu(e){return!!function _h(e){return null!==e&&("function"==typeof e||"object"==typeof e)}(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Ye(e,n,t){return!Object.is(e[n],t)&&(e[n]=t,!0)}function Gn(e,n,t,r,o,i,s,a){const c=A(),u=_e(),l=e+fe,d=u.firstCreatePass?function jx(e,n,t,r,o,i,s,a,c){const u=n.consts,l=Xo(n,e,4,s||null,Fn(u,a));Vf(n,t,l,Fn(u,c)),bc(n,l);const d=l.tView=Bf(2,l,r,o,i,n.directiveRegistry,n.pipeRegistry,null,n.schemas,u,null);return null!==n.queries&&(n.queries.template(n,l),d.queries=n.queries.embeddedTView(l)),l}(l,u,c,n,t,r,o,i,s):u.data[l];jn(d,!1);const f=CD(u,c,d,e);ps()&&Qc(u,c,f,d),Ct(f,c);const p=lw(f,c,f,d);return c[l]=p,Xc(c,p),function Ww(e,n,t){return lh(e,n,t)}(p,d,c),vc(d)&&Uf(u,c,d),null!=s&&$f(c,d,a),Gn}let CD=function ED(e,n,t,r){return Un(!0),n[ce].createComment("")};function bu(e,n){return e<<17|n<<2}function Pr(e){return e>>17&32767}function xh(e){return 2|e}function fo(e){return(131068&e)>>2}function Oh(e,n){return-131069&e|n<<2}function Ph(e){return 1|e}function t_(e,n,t,r){const o=e[t+1],i=null===n;let s=r?Pr(o):fo(o),a=!1;for(;0!==s&&(!1===a||i);){const u=e[s+1];EO(e[s],n)&&(a=!0,e[s+1]=r?Ph(u):xh(u)),s=r?Pr(u):fo(u)}a&&(e[t+1]=r?xh(o):Ph(o))}function EO(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&Oo(e,n)>=0}const ct={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function n_(e){return e.substring(ct.key,ct.keyEnd)}function r_(e,n){const t=ct.textEnd;return t===n?-1:(n=ct.keyEnd=function MO(e,n,t){for(;n<t&&e.charCodeAt(n)>32;)n++;return n}(e,ct.key=n,t),yi(e,n,t))}function yi(e,n,t){for(;n<t&&e.charCodeAt(n)<=32;)n++;return n}function cn(e,n,t){const r=A();return Ye(r,Dn(),n)&&function Bt(e,n,t,r,o,i,s,a){const c=Rt(n,t);let l,u=n.inputs;!a&&null!=u&&(l=u[r])?(Gf(e,t,l,r,o),to(n)&&function xR(e,n){const t=Qt(n,e);16&t[Q]||(t[Q]|=64)}(t,n.index)):3&n.type&&(r=function NR(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),o=null!=s?s(o,n.value||"",r):o,i.setProperty(c,r,o))}(_e(),function Be(){const e=ue.lFrame;return ds(e.tView,e.selectedIndex)}(),r,e,n,r[ce],t,!1),cn}function kh(e,n,t,r,o){const s=o?"class":"style";Gf(e,t,n.inputs[s],s,r)}function l_(e){!function En(e,n,t,r){const o=_e(),i=function ar(e){const n=ue.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}(2);o.firstUpdatePass&&function f_(e,n,t,r){const o=e.data;if(null===o[t+1]){const i=o[_t()],s=d_(e,t);m_(i,r)&&null===n&&!s&&(n=!1),n=function xO(e,n,t,r){const o=function Bd(e){const n=ue.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let i=r?n.residualClasses:n.residualStyles;if(null===o)0===(r?n.classBindings:n.styleBindings)&&(t=Ys(t=Lh(null,e,n,t,r),n.attrs,r),i=null);else{const s=n.directiveStylingLast;if(-1===s||e[s]!==o)if(t=Lh(o,e,n,t,r),null===i){let c=function OO(e,n,t){const r=t?n.classBindings:n.styleBindings;if(0!==fo(r))return e[Pr(r)]}(e,n,r);void 0!==c&&Array.isArray(c)&&(c=Lh(null,e,n,c[1],r),c=Ys(c,n.attrs,r),function PO(e,n,t,r){e[Pr(t?n.classBindings:n.styleBindings)]=r}(e,n,r,c))}else i=function kO(e,n,t){let r;const o=n.directiveEnd;for(let i=1+n.directiveStylingLast;i<o;i++)r=Ys(r,e[i].hostAttrs,t);return Ys(r,n.attrs,t)}(e,n,r)}return void 0!==i&&(r?n.residualClasses=i:n.residualStyles=i),t}(o,i,n,r),function bO(e,n,t,r,o,i){let s=i?n.classBindings:n.styleBindings,a=Pr(s),c=fo(s);e[r]=t;let l,u=!1;if(Array.isArray(t)?(l=t[1],(null===l||Oo(t,l)>0)&&(u=!0)):l=t,o)if(0!==c){const f=Pr(e[a+1]);e[r+1]=bu(f,a),0!==f&&(e[f+1]=Oh(e[f+1],r)),e[a+1]=function DO(e,n){return 131071&e|n<<17}(e[a+1],r)}else e[r+1]=bu(a,0),0!==a&&(e[a+1]=Oh(e[a+1],r)),a=r;else e[r+1]=bu(c,0),0===a?a=r:e[c+1]=Oh(e[c+1],r),c=r;u&&(e[r+1]=xh(e[r+1])),t_(e,l,r,!0),t_(e,l,r,!1),function CO(e,n,t,r,o){const i=o?e.residualClasses:e.residualStyles;null!=i&&"string"==typeof n&&Oo(i,n)>=0&&(t[r+1]=Ph(t[r+1]))}(n,l,e,r,i),s=bu(a,c),i?n.classBindings=s:n.styleBindings=s}(o,i,n,t,s,r)}}(o,null,i,r);const s=A();if(t!==he&&Ye(s,i,t)){const a=o.data[_t()];if(m_(a,r)&&!d_(o,i)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(t=Xl(c,t||"")),kh(o,a,s,t,r)}else!function jO(e,n,t,r,o,i,s,a){o===he&&(o=Ee);let c=0,u=0,l=0<o.length?o[0]:null,d=0<i.length?i[0]:null;for(;null!==l||null!==d;){const f=c<o.length?o[c+1]:void 0,p=u<i.length?i[u+1]:void 0;let w,g=null;l===d?(c+=2,u+=2,f!==p&&(g=d,w=p)):null===d||null!==l&&l<d?(c+=2,g=l):(u+=2,g=d,w=p),null!==g&&p_(e,n,t,r,g,w,s,a),l=c<o.length?o[c]:null,d=u<i.length?i[u]:null}}(o,a,s,s[ce],s[i+1],s[i+1]=function LO(e,n,t){if(null==t||""===t)return Ee;const r=[],o=Yt(t);if(Array.isArray(o))for(let i=0;i<o.length;i++)e(r,o[i],!0);else if("object"==typeof o)for(const i in o)o.hasOwnProperty(i)&&e(r,i,o[i]);else"string"==typeof o&&n(r,o);return r}(e,n,t),r,i)}}(FO,Jn,e,!0)}function Jn(e,n){for(let t=function SO(e){return function i_(e){ct.key=0,ct.keyEnd=0,ct.value=0,ct.valueEnd=0,ct.textEnd=e.length}(e),r_(e,yi(e,0,ct.textEnd))}(n);t>=0;t=r_(n,t))Jt(e,n_(n),!0)}function d_(e,n){return n>=e.expandoStartIndex}function Lh(e,n,t,r,o){let i=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(i=n[a],r=Ys(r,i.hostAttrs,o),i!==e);)a++;return null!==e&&(t.directiveStylingLast=a),r}function Ys(e,n,t){const r=t?1:2;let o=-1;if(null!==n)for(let i=0;i<n.length;i++){const s=n[i];"number"==typeof s?o=s:o===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Jt(e,s,!!t||n[++i]))}return void 0===e?null:e}function FO(e,n,t){const r=String(n);""!==r&&!r.includes(" ")&&Jt(e,r,t)}function p_(e,n,t,r,o,i,s,a){if(!(3&n.type))return;const c=e.data,u=c[a+1],l=function _O(e){return!(1&~e)}(u)?g_(c,n,t,o,fo(u),s):void 0;Cu(l)||(Cu(i)||function wO(e){return!(2&~e)}(u)&&(i=g_(c,null,t,o,a,s)),function DR(e,n,t,r,o){if(n)o?e.addClass(t,r):e.removeClass(t,r);else{let i=-1===r.indexOf("-")?void 0:Ar.DashCase;null==o?e.removeStyle(t,r,i):("string"==typeof o&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Ar.Important),e.setStyle(t,r,o,i))}}(r,s,ls(_t(),t),o,i))}function g_(e,n,t,r,o,i){const s=null===n;let a;for(;o>0;){const c=e[o],u=Array.isArray(c),l=u?c[1]:c,d=null===l;let f=t[o+1];f===he&&(f=d?Ee:void 0);let p=d?pd(f,r):l===r?f:void 0;if(u&&!Cu(p)&&(p=pd(c,r)),Cu(p)&&(a=p,s))return a;const g=e[o+1];o=s?Pr(g):fo(g)}if(null!==n){let c=i?n.residualClasses:n.residualStyles;null!=c&&(a=pd(c,r))}return a}function Cu(e){return void 0!==e}function m_(e,n){return!!(e.flags&(n?8:16))}function ft(e,n,t,r){const o=A(),i=_e(),s=fe+e,a=o[ce],c=i.firstCreatePass?function cP(e,n,t,r,o,i){const s=n.consts,c=Xo(n,e,2,r,Fn(s,o));return Vf(n,t,c,Fn(s,i)),null!==c.attrs&&uu(c,c.attrs,!1),null!==c.mergedAttrs&&uu(c,c.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,c),c}(s,i,o,n,t,r):i.data[s],u=D_(i,o,c,a,n,e);o[s]=u;const l=vc(c);return jn(c,!0),Xy(a,u,c),!function Ws(e){return!(32&~e.flags)}(c)&&ps()&&Qc(i,o,u,c),0===function KT(){return ue.lFrame.elementDepthCount}()&&Ct(u,o),function QT(){ue.lFrame.elementDepthCount++}(),l&&(Uf(i,o,c),jf(i,c,o)),null!==r&&$f(o,c),ft}function Et(){let e=Pe();jd()?function Ud(){ue.lFrame.isParent=!1}():(e=e.parent,jn(e,!1));const n=e;(function ZT(e){return ue.skipHydrationRootTNode===e})(n)&&function nM(){ue.skipHydrationRootTNode=null}(),function YT(){ue.lFrame.elementDepthCount--}();const t=_e();return t.firstCreatePass&&(bc(t,e),Md(e)&&t.queries.elementEnd(e)),null!=n.classesWithoutHost&&function vM(e){return!!(8&e.flags)}(n)&&kh(t,n,A(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function yM(e){return!!(16&e.flags)}(n)&&kh(t,n,A(),n.stylesWithoutHost,!1),Et}function ho(e,n,t,r){return ft(e,n,t,r),Et(),ho}let D_=(e,n,t,r,o,i)=>(Un(!0),Wc(r,o,function Dv(){return ue.lFrame.currentNamespace}()));function Eu(){return A()}const Di="en-US";let T_=Di;function _i(e,n,t,r){const o=A(),i=_e(),s=Pe();return function qh(e,n,t,r,o,i,s){const a=vc(r),u=e.firstCreatePass&&hw(e),l=n[$e],d=fw(n);let f=!0;if(3&r.type||s){const w=Rt(r,n),C=s?s(w):w,T=d.length,M=s?V=>s(Fe(V[r.index])):r.index;let O=null;if(!s&&a&&(O=function f1(e,n,t,r){const o=e.cleanup;if(null!=o)for(let i=0;i<o.length-1;i+=2){const s=o[i];if(s===t&&o[i+1]===r){const a=n[Fo],c=o[i+2];return a.length>c?a[c]:null}"string"==typeof s&&(i+=2)}return null}(e,n,o,r.index)),null!==O)(O.__ngLastListenerFn__||O).__ngNextListenerFn__=i,O.__ngLastListenerFn__=i,f=!1;else{i=t0(r,n,l,i,!1);const V=t.listen(C,o,i);d.push(i,V),u&&u.push(o,M,T,T+1)}}else i=t0(r,n,l,i,!1);const p=r.outputs;let g;if(f&&null!==p&&(g=p[o])){const w=g.length;if(w)for(let C=0;C<w;C+=2){const k=n[g[C]][g[C+1]].subscribe(i),te=d.length;d.push(i,k),u&&u.push(o,r.index,te,-(te+1))}}}(i,o,o[ce],s,e,n,r),_i}function e0(e,n,t,r){const o=_(null);try{return Ln(6,n,t),!1!==t(r)}catch(i){return eu(e,i),!1}finally{Ln(7,n,t),_(o)}}function t0(e,n,t,r,o){return function i(s){if(s===Function)return r;Ps(e.componentOffset>-1?Qt(e.index,n):n);let c=e0(n,t,r,s),u=i.__ngNextListenerFn__;for(;u;)c=e0(n,t,u,s)&&c,u=u.__ngNextListenerFn__;return o&&!1===c&&s.preventDefault(),c}}function dr(e=1){return function cM(e){return(ue.lFrame.contextLView=function cv(e,n){for(;e>0;)n=n[jo],e--;return n}(e,ue.lFrame.contextLView))[$e]}(e)}function Jh(){return function mh(e,n){return e[ir].queries[n].queryList}(A(),Vd())}function go(e,n=""){const t=A(),r=_e(),o=e+fe,i=r.firstCreatePass?Xo(r,o,1,n,null):r.data[o],s=C0(r,t,i,n,e);t[o]=s,ps()&&Qc(r,t,s,i),jn(i,!1)}let C0=(e,n,t,r,o)=>(Un(!0),function Rf(e,n){return e.createText(n)}(n[ce],r));function Au(e){return Kh("",e,""),Au}function Kh(e,n,t){const r=A(),o=function li(e,n,t,r){return Ye(e,Dn(),t)?n+de(t)+r:he}(r,e,n,t);return o!==he&&function ur(e,n,t){const r=ls(n,e);!function Uy(e,n,t){e.setValue(n,t)}(e[ce],r,t)}(r,_t(),o),Kh}let j1=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=yd(0,t.type),o=r.length>0?hu([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,o)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=z({token:e,providedIn:"environment",factory:()=>new e(K(At))})}}return e})();function k0(e){zn("NgStandalone"),e.getStandaloneInjector=n=>n.get(j1).getOrCreateStandaloneInjector(e)}let rb=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const cb=new U(""),Pu=new U("");let ap,ip=(()=>{class e{constructor(t,r,o){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,ap||(function Yk(e){ap=e}(o),o.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ne.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,o){let i=-1;r&&r>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==i),t()},r)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:o})}whenStable(t,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,o){return[]}static{this.\u0275fac=function(r){return new(r||e)(K(Ne),K(sp),K(Pu))}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac})}}return e})(),sp=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return ap?.findTestabilityInTree(this,t,r)??null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function ku(e){return!!e&&"function"==typeof e.then}function ub(e){return!!e&&"function"==typeof e.subscribe}const cp=new U("");let up=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=N(cp,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const o of this.appInits){const i=o();if(ku(i))t.push(i);else if(ub(i)){const s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});t.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(o=>{this.reject(o)}),0===t.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const lp=new U("");function fb(e,n){return Array.isArray(n)?n.reduce(fb,e):{...e,...n}}let kr=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=N(Bv),this.afterRenderEffectManager=N(Bs),this.externalTestViews=new Set,this.beforeRender=new rn,this.afterTick=new rn,this.componentTypes=[],this.components=[],this.isStable=N(xr).hasPendingTasks.pipe(Ie(t=>!t)),this._injector=N(At)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const o=t instanceof Mw;if(!this._injector.get(up).done)throw!o&&function Cr(e){const n=we(e)||it(e)||mt(e);return null!==n&&n.standalone}(t),new x(405,!1);let s;s=o?t:this._injector.get(au).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function Zk(e){return e.isBoundToModule}(s)?void 0:this._injector.get(co),u=s.create(Ut.NULL,[],r||s.selector,a),l=u.location.nativeElement,d=u.injector.get(cb,null);return d?.registerApplication(l),u.onDestroy(()=>{this.detachView(u.hostView),Lu(this.components,u),d?.unregisterApplication(l)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(t){if(this._runningTick)throw new x(101,!1);const r=_(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(t)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,_(r)}}detectChangesInAttachedViews(t){let r=0;const o=this.afterRenderEffectManager;for(;;){if(r===yw)throw new x(103,!1);if(t){const i=0===r;this.beforeRender.next(i);for(let{_lView:s,notifyErrorHandler:a}of this._views)eL(s,i,a)}if(r++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:i})=>dp(i))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:i})=>dp(i))))break}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Lu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(lp,[]);[...this._bootstrapListeners,...r].forEach(o=>o(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Lu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new x(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Lu(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}function eL(e,n,t){!n&&!dp(e)||function tL(e,n,t){let r;t?(r=0,e[Q]|=1024):r=64&e[Q]?0:1,tu(e,n,r)}(e,t,n)}function dp(e){return kd(e)}class nL{constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}}let hb=(()=>{class e{compileModuleSync(t){return new Dh(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),i=Zt(vt(t).declarations).reduce((s,a)=>{const c=we(a);return c&&s.push(new zs(c)),s},[]);return new nL(r,i)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),iL=(()=>{class e{constructor(){this.zone=N(Ne),this.applicationRef=N(kr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function sL(){const e=N(Ne),n=N(Bn);return t=>e.runOutsideAngular(()=>n.handleError(t))}let cL=(()=>{class e{constructor(){this.subscription=new Tt,this.initialized=!1,this.zone=N(Ne),this.pendingTasks=N(xr)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ne.assertNotInAngularZone(),queueMicrotask(()=>{null!==t&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ne.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const fr=new U("",{providedIn:"root",factory:()=>N(fr,De.Optional|De.SkipSelf)||function uL(){return typeof $localize<"u"&&$localize.locale||Di}()}),fp=new U("");let vb=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const o=function $N(e="zone.js",n){return"noop"===e?new kw:"zone.js"===e?new Ne(n):e}(r?.ngZone,function mb(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return o.run(()=>{const i=function xx(e,n,t){return new wh(e,n,t)}(t.moduleType,this.injector,function gb(e){return[{provide:Ne,useFactory:e},{provide:Zr,multi:!0,useFactory:()=>{const n=N(iL,{optional:!0});return()=>n.initialize()}},{provide:Zr,multi:!0,useFactory:()=>{const n=N(cL);return()=>{n.initialize()}}},{provide:Bv,useFactory:sL}]}(()=>o)),s=i.injector.get(Bn,null);return o.runOutsideAngular(()=>{const a=o.onError.subscribe({next:c=>{s.handleError(c)}});i.onDestroy(()=>{Lu(this._modules,i),a.unsubscribe()})}),function db(e,n,t){try{const r=t();return ku(r)?r.catch(o=>{throw n.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}(s,o,()=>{const a=i.injector.get(up);return a.runInitializers(),a.donePromise.then(()=>(function M_(e){"string"==typeof e&&(T_=e.toLowerCase().replace(/_/g,"-"))}(i.injector.get(fr,Di)||Di),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,r=[]){const o=fb({},r);return function oL(e,n,t){const r=new Dh(t);return Promise.resolve(r)}(0,0,t).then(i=>this.bootstrapModuleFactory(i,o))}_moduleDoBootstrap(t){const r=t.injector.get(kr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!t.instance.ngDoBootstrap)throw new x(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new x(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(fp,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||e)(K(Ut))}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),Lr=null;const yb=new U("");function wb(e,n,t=[]){const r=`Platform: ${n}`,o=new U(r);return(i=[])=>{let s=hp();if(!s||s.injector.get(yb,!1)){const a=[...t,...i,{provide:o,useValue:!0}];e?e(a):function fL(e){if(Lr&&!Lr.get(yb,!1))throw new x(400,!1);(function lb(){!function $l(e){Ba=e}(()=>{throw new x(600,!1)})})(),Lr=e;const n=e.get(vb);(function _b(e){e.get(uy,null)?.forEach(t=>t())})(e)}(function Db(e=[],n){return Ut.create({name:n,providers:[{provide:_d,useValue:"platform"},{provide:fp,useValue:new Set([()=>Lr=null])},...e]})}(a,r))}return function hL(e){const n=hp();if(!n)throw new x(401,!1);return n}()}}function hp(){return Lr?.get(vb)??null}let ju=(()=>{class e{static{this.__NG_ELEMENT_ID__=gL}}return e})();function gL(e){return function mL(e,n,t){if(to(e)&&!t){const r=Qt(e.index,n);return new ks(r,r)}return 47&e.type?new ks(n[Je],n):null}(Pe(),A(),!(16&~e))}class Sb{constructor(){}supports(n){return gu(n)}create(n){return new _L(n)}}const DL=(e,n)=>n;class _L{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||DL}forEachItem(n){let t;for(t=this._itHead;null!==t;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,o=0,i=null;for(;t||r;){const s=!r||t&&t.currentIndex<Mb(r,o,i)?t:r,a=Mb(s,o,i),c=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)o++;else{i||(i=[]);const u=a-o,l=c-o;if(u!=l){for(let f=0;f<u;f++){const p=f<i.length?i[f]:i[f]=0,g=p+f;l<=g&&g<u&&(i[f]=p+1)}i[s.previousIndex]=l-u}}a!==c&&n(s,a,c)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)n(t)}diff(n){if(null==n&&(n=[]),!gu(n))throw new x(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let o,i,s,t=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)i=n[a],s=this._trackByFn(a,i),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,i,s,a)),Object.is(t.item,i)||this._addIdentityChange(t,i)):(t=this._mismatch(t,i,s,a),r=!0),t=t._next}else o=0,function Lx(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{const t=e[Symbol.iterator]();let r;for(;!(r=t.next()).done;)n(r.value)}}(n,a=>{s=this._trackByFn(o,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,o)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,o),r=!0),t=t._next,o++}),this.length=o;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,o){let i;return null===n?i=this._itTail:(i=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,i,o)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,o))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,i,o)):n=this._addAfter(new bL(t,r),i,o),n}_verifyReinsertion(n,t,r,o){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?n=this._reinsertAfter(i,n._prev,o):n.currentIndex!=o&&(n.currentIndex=o,this._addToMoves(n,o)),n}_truncate(n){for(;null!==n;){const t=n._next;this._addToRemovals(this._unlink(n)),n=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const o=n._prevRemoved,i=n._nextRemoved;return null===o?this._removalsHead=i:o._nextRemoved=i,null===i?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){const o=null===t?this._itHead:t._next;return n._next=o,n._prev=t,null===o?this._itTail=n:o._prev=n,null===t?this._itHead=n:t._next=n,null===this._linkedRecords&&(this._linkedRecords=new Tb),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const t=n._prev,r=n._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Tb),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class bL{constructor(n,t){this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class CL{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const t=n._prevDup,r=n._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class Tb{constructor(){this.map=new Map}put(n){const t=n.trackById;let r=this.map.get(t);r||(r=new CL,this.map.set(t,r)),r.add(n)}get(n,t){const o=this.map.get(n);return o?o.get(n,t):null}remove(n){const t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Mb(e,n,t){const r=e.previousIndex;if(null===r)return r;let o=0;return t&&r<t.length&&(o=t[r]),r+n+o}function Rb(){return new yp([new Sb])}let yp=(()=>{class e{static{this.\u0275prov=z({token:e,providedIn:"root",factory:Rb})}constructor(t){this.factories=t}static create(t,r){if(null!=r){const o=r.factories.slice();t=t.concat(o)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||Rb()),deps:[[e,new rc,new nc]]}}find(t){const r=this.factories.find(o=>o.supports(t));if(null!=r)return r;throw new x(901,!1)}}return e})();const ML=wb(null,"core",[]);let AL=(()=>{class e{constructor(t){}static{this.\u0275fac=function(r){return new(r||e)(K(kr))}}static{this.\u0275mod=or({type:e})}static{this.\u0275inj=xn({})}}return e})(),eC=null;function Ii(){return eC}class fF{}const Ht=new U("");let bp=(()=>{class e{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=z({token:e,factory:()=>N(pF),providedIn:"platform"})}}return e})();const hF=new U("");let pF=(()=>{class e extends bp{constructor(){super(),this._doc=N(Ht),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ii().getBaseHref(this._doc)}onPopState(t){const r=Ii().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Ii().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){this._history.pushState(t,r,o)}replaceState(t,r,o){this._history.replaceState(t,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=z({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function Cp(e,n){if(0==e.length)return n;if(0==n.length)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?e+n.substring(1):1==t?e+n:e+"/"+n}function tC(e){const n=e.match(/#|\?|$/),t=n&&n.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function hr(e){return e&&"?"!==e[0]?"?"+e:e}let vo=(()=>{class e{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=z({token:e,factory:()=>N(rC),providedIn:"root"})}}return e})();const nC=new U("");let rC=(()=>{class e extends vo{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??N(Ht).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Cp(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+hr(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,i){const s=this.prepareExternalUrl(o+hr(i));this._platformLocation.pushState(t,r,s)}replaceState(t,r,o,i){const s=this.prepareExternalUrl(o+hr(i));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||e)(K(bp),K(nC,8))}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),gF=(()=>{class e extends vo{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){const r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Cp(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,i){let s=this.prepareExternalUrl(o+hr(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,o,i){let s=this.prepareExternalUrl(o+hr(i));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||e)(K(bp),K(nC,8))}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac})}}return e})(),la=(()=>{class e{constructor(t){this._subject=new bt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function yF(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(tC(oC(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+hr(r))}normalize(t){return e.stripTrailingSlash(function vF(e,n){if(!e||!n.startsWith(e))return n;const t=n.substring(e.length);return""===t||["/",";","?","#"].includes(t[0])?t:n}(this._basePath,oC(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+hr(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+hr(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}static{this.normalizeQueryParams=hr}static{this.joinWithSlash=Cp}static{this.stripTrailingSlash=tC}static{this.\u0275fac=function(r){return new(r||e)(K(vo))}}static{this.\u0275prov=z({token:e,factory:()=>function mF(){return new la(K(vo))}(),providedIn:"root"})}}return e})();function oC(e){return e.replace(/\/index.html$/,"")}function hC(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const r=t.indexOf("="),[o,i]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===n)return decodeURIComponent(i)}return null}class oj{constructor(n,t,r,o){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let mC=(()=>{class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,i,s)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new oj(o.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===i?void 0:i);else if(null!==i){const a=r.get(i);r.move(a,s),vC(a,o)}});for(let o=0,i=r.length;o<i;o++){const a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{vC(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(re(bn),re(lr),re(yp))}}static{this.\u0275dir=Mt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function vC(e,n){e.context.$implicit=n.item}let yC=(()=>{class e{constructor(t,r){this._viewContainer=t,this._context=new ij,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){wC("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){wC("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||e)(re(bn),re(lr))}}static{this.\u0275dir=Mt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})();class ij{constructor(){this.$implicit=null,this.ngIf=null}}function wC(e,n){if(n&&!n.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${ot(n)}'.`)}let Nj=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=or({type:e})}static{this.\u0275inj=xn({})}}return e})();const bC="browser";function CC(e){return"server"===e}let Lj=(()=>{class e{static{this.\u0275prov=z({token:e,providedIn:"root",factory:()=>function kj(e){return e===bC}(N(Mr))?new Fj(N(Ht),window):new Uj})}}return e})();class Fj{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n){this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){const t=function jj(e,n){const t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const i=o.shadowRoot;if(i){const s=i.getElementById(n)||i.querySelector(`[name="${n}"]`);if(s)return s}o=r.nextNode()}}return null}(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){this.window.history.scrollRestoration=n}scrollToElement(n){const t=n.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],o-i[1])}}class Uj{setOffset(n){}getScrollPosition(){return[0,0]}scrollToPosition(n){}scrollToAnchor(n){}setHistoryScrollRestoration(n){}}class EC{}class h2 extends fF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Up extends h2{static makeCurrent(){!function dF(e){eC??=e}(new Up)}onAndCancel(n,t,r){return n.addEventListener(t,r),()=>{n.removeEventListener(t,r)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function p2(){return pa=pa||document.querySelector("base"),pa?pa.getAttribute("href"):null}();return null==t?null:function g2(e){return new URL(e,document.baseURI).pathname}(t)}resetBaseElement(){pa=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return hC(document.cookie,n)}}let pa=null,v2=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac})}}return e})();const $p=new U("");let OC=(()=>{class e{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>{o.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(i=>i.supports(t)),!r)throw new x(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||e)(K($p),K(Ne))}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac})}}return e})();class PC{constructor(n){this._doc=n}}const Bp="ng-app-id";let kC=(()=>{class e{constructor(t,r,o,i={}){this.doc=t,this.appId=r,this.nonce=o,this.platformId=i,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=CC(i),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(o=>o.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Bp}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(o=>{null!=o.textContent&&r.set(o.textContent,o)}),r}return null}changeUsageCount(t,r){const o=this.styleRef;if(o.has(t)){const i=o.get(t);return i.usage+=r,i.usage}return o.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const o=this.styleNodesInDOM,i=o?.get(r);if(i?.parentNode===t)return o.delete(r),i.removeAttribute(Bp),i;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Bp,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){const o=this.getStyleElement(t,r),i=this.styleRef,s=i.get(r)?.elements;s?s.push(o):i.set(r,{elements:[o],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||e)(K(Ht),K(Oc),K(ly,8),K(Mr))}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac})}}return e})();const Vp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Hp=/%COMP%/g,_2=new U("",{providedIn:"root",factory:()=>!0});function FC(e,n){return n.map(t=>t.replace(Hp,e))}let jC=(()=>{class e{constructor(t,r,o,i,s,a,c,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=CC(a),this.defaultRenderer=new zp(t,s,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===pn.ShadowDom&&(r={...r,encapsulation:pn.Emulated});const o=this.getOrCreateRenderer(t,r);return o instanceof $C?o.applyToHost(t):o instanceof qp&&o.applyStyles(),o}getOrCreateRenderer(t,r){const o=this.rendererByCompId;let i=o.get(r.id);if(!i){const s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case pn.Emulated:i=new $C(c,u,r,this.appId,l,s,a,d);break;case pn.ShadowDom:return new I2(c,u,t,r,s,a,this.nonce,d);default:i=new qp(c,u,r,l,s,a,d)}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||e)(K(OC),K(kC),K(Oc),K(_2),K(Ht),K(Mr),K(Ne),K(ly))}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac})}}return e})();class zp{constructor(n,t,r,o){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(n,t){return t?this.doc.createElementNS(Vp[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(UC(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(UC(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let r="string"==typeof n?this.doc.querySelector(n):n;if(!r)throw new x(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,o){if(o){t=o+":"+t;const i=Vp[o];i?n.setAttributeNS(i,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){const o=Vp[r];o?n.removeAttributeNS(o,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,o){o&(Ar.DashCase|Ar.Important)?n.style.setProperty(t,r,o&Ar.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&Ar.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){null!=n&&(n[t]=r)}setValue(n,t){n.nodeValue=t}listen(n,t,r){if("string"==typeof n&&!(n=Ii().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${t}`);return this.eventManager.addEventListener(n,t,this.decoratePreventDefault(r))}decoratePreventDefault(n){return t=>{if("__ngUnwrap__"===t)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))&&t.preventDefault()}}}function UC(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class I2 extends zp{constructor(n,t,r,o,i,s,a,c){super(n,i,s,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=FC(o.id,o.styles);for(const l of u){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=l,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class qp extends zp{constructor(n,t,r,o,i,s,a,c){super(n,i,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=o,this.styles=c?FC(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class $C extends qp{constructor(n,t,r,o,i,s,a,c){const u=o+"-"+r.id;super(n,t,r,i,s,a,c,u),this.contentAttr=function b2(e){return"_ngcontent-%COMP%".replace(Hp,e)}(u),this.hostAttr=function C2(e){return"_nghost-%COMP%".replace(Hp,e)}(u)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){const r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}}let S2=(()=>{class e extends PC{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}static{this.\u0275fac=function(r){return new(r||e)(K(Ht))}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac})}}return e})();const BC=["alt","control","meta","shift"],T2={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},M2={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let A2=(()=>{class e extends PC{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,r,o){const i=e.parseEventName(r),s=e.eventCallback(i.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ii().onAndCancel(t,i.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const i=e._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),BC.forEach(u=>{const l=r.indexOf(u);l>-1&&(r.splice(l,1),s+=u+".")}),s+=i,0!=r.length||0===i.length)return null;const c={};return c.domEventName=o,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let o=T2[t.key]||t.key,i="";return r.indexOf("code.")>-1&&(o=t.code,i="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),BC.forEach(s=>{s!==o&&(0,M2[s])(t)&&(i+=s+".")}),i+=o,i===r)}static eventCallback(t,r,o){return i=>{e.matchEventFullKeyCode(i,t)&&o.runGuarded(()=>r(i))}}static _normalizeKey(t){return"esc"===t?"escape":t}static{this.\u0275fac=function(r){return new(r||e)(K(Ht))}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac})}}return e})();const O2=wb(ML,"browser",[{provide:Mr,useValue:bC},{provide:uy,useValue:function R2(){Up.makeCurrent()},multi:!0},{provide:Ht,useFactory:function x2(){return function iA(e){cf=e}(document),document},deps:[]}]),P2=new U(""),zC=[{provide:Pu,useClass:class m2{addToWindow(n){Re.getAngularTestability=(r,o=!0)=>{const i=n.findTestabilityInTree(r,o);if(null==i)throw new x(5103,!1);return i},Re.getAllAngularTestabilities=()=>n.getAllTestabilities(),Re.getAllAngularRootElements=()=>n.getAllRootElements(),Re.frameworkStabilizers||(Re.frameworkStabilizers=[]),Re.frameworkStabilizers.push(r=>{const o=Re.getAllAngularTestabilities();let i=o.length;const s=function(){i--,0==i&&r()};o.forEach(a=>{a.whenStable(s)})})}findTestabilityInTree(n,t,r){return null==t?null:n.getTestability(t)??(r?Ii().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}},deps:[]},{provide:cb,useClass:ip,deps:[Ne,sp,Pu]},{provide:ip,useClass:ip,deps:[Ne,sp,Pu]}],qC=[{provide:_d,useValue:"root"},{provide:Bn,useFactory:function N2(){return new Bn},deps:[]},{provide:$p,useClass:S2,multi:!0,deps:[Ht,Ne,Mr]},{provide:$p,useClass:A2,multi:!0,deps:[Ht]},jC,kC,OC,{provide:Rw,useExisting:jC},{provide:EC,useClass:v2,deps:[]},[]];let k2=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:Oc,useValue:t.appId}]}}static{this.\u0275fac=function(r){return new(r||e)(K(P2,12))}}static{this.\u0275mod=or({type:e})}static{this.\u0275inj=xn({providers:[...qC,...zC],imports:[Nj,AL]})}}return e})(),L2=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||e)(K(Ht))}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),JC=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=z({token:e,factory:function(r){let o=null;return o=r?new(r||e):K($2),o},providedIn:"root"})}}return e})(),$2=(()=>{class e extends JC{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case sn.NONE:return r;case sn.HTML:return Vn(r,"HTML")?Yt(r):Ay(this._doc,String(r)).toString();case sn.STYLE:return Vn(r,"Style")?Yt(r):r;case sn.SCRIPT:if(Vn(r,"Script"))return Yt(r);throw new x(5200,!1);case sn.URL:return Vn(r,"URL")?Yt(r):Vc(String(r));case sn.RESOURCE_URL:if(Vn(r,"ResourceURL"))return Yt(r);throw new x(5201,!1);default:throw new x(5202,!1)}}bypassSecurityTrustHtml(t){return function SA(e){return new DA(e)}(t)}bypassSecurityTrustStyle(t){return function TA(e){return new _A(e)}(t)}bypassSecurityTrustScript(t){return function MA(e){return new bA(e)}(t)}bypassSecurityTrustUrl(t){return function AA(e){return new CA(e)}(t)}bypassSecurityTrustResourceUrl(t){return function RA(e){return new EA(e)}(t)}static{this.\u0275fac=function(r){return new(r||e)(K(Ht))}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function QC(e){return e&&qe(e.schedule)}function Gp(e){return e[e.length-1]}function al(e){return QC(Gp(e))?e.pop():void 0}function Fr(e){return this instanceof Fr?(this.v=e,this):new Fr(e)}function eE(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function Qp(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(i){t[i]=e[i]&&function(s){return new Promise(function(a,c){!function o(i,s,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},s)}(a,c,(s=e[i](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const tE=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function nE(e){return qe(e?.then)}function rE(e){return qe(e[Yl])}function oE(e){return Symbol.asyncIterator&&qe(e?.[Symbol.asyncIterator])}function iE(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const sE=function pU(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function aE(e){return qe(e?.[sE])}function cE(e){return function XC(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=t.apply(e,n||[]),i=[];return o=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function s(p){return function(g){return Promise.resolve(g).then(p,d)}}),o[Symbol.asyncIterator]=function(){return this},o;function a(p,g){r[p]&&(o[p]=function(w){return new Promise(function(C,T){i.push([p,w,C,T])>1||c(p,w)})},g&&(o[p]=g(o[p])))}function c(p,g){try{!function u(p){p.value instanceof Fr?Promise.resolve(p.value.v).then(l,d):f(i[0][2],p)}(r[p](g))}catch(w){f(i[0][3],w)}}function l(p){c("next",p)}function d(p){c("throw",p)}function f(p,g){p(g),i.shift(),i.length&&c(i[0][0],i[0][1])}}(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:r,done:o}=yield Fr(t.read());if(o)return yield Fr(void 0);yield yield Fr(r)}}finally{t.releaseLock()}})}function uE(e){return qe(e?.getReader)}function mr(e){if(e instanceof et)return e;if(null!=e){if(rE(e))return function gU(e){return new et(n=>{const t=e[Yl]();if(qe(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(tE(e))return function mU(e){return new et(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(nE(e))return function vU(e){return new et(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,fm)})}(e);if(oE(e))return lE(e);if(aE(e))return function yU(e){return new et(n=>{for(const t of e)if(n.next(t),n.closed)return;n.complete()})}(e);if(uE(e))return function wU(e){return lE(cE(e))}(e)}throw iE(e)}function lE(e){return new et(n=>{(function DU(e,n){var t,r,o,i;return function YC(e,n,t,r){return new(t||(t=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):function o(i){return i instanceof t?i:new t(function(s){s(i)})}(l.value).then(a,c)}u((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{for(t=eE(e);!(r=yield t.next()).done;)if(n.next(r.value),n.closed)return}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=t.return)&&(yield i.call(t))}finally{if(o)throw o.error}}n.complete()})})(e,n).catch(t=>n.error(t))})}function vr(e,n,t,r=0,o=!1){const i=n.schedule(function(){t(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function dE(e,n=0){return gt((t,r)=>{t.subscribe(dt(r,o=>vr(r,e,()=>r.next(o),n),()=>vr(r,e,()=>r.complete(),n),o=>vr(r,e,()=>r.error(o),n)))})}function fE(e,n=0){return gt((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function hE(e,n){if(!e)throw new Error("Iterable cannot be null");return new et(t=>{vr(t,n,()=>{const r=e[Symbol.asyncIterator]();vr(t,n,()=>{r.next().then(o=>{o.done?t.complete():t.next(o.value)})},0,!0)})})}function ht(e,n){return n?function SU(e,n){if(null!=e){if(rE(e))return function _U(e,n){return mr(e).pipe(fE(n),dE(n))}(e,n);if(tE(e))return function CU(e,n){return new et(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}(e,n);if(nE(e))return function bU(e,n){return mr(e).pipe(fE(n),dE(n))}(e,n);if(oE(e))return hE(e,n);if(aE(e))return function EU(e,n){return new et(t=>{let r;return vr(t,n,()=>{r=e[sE](),vr(t,n,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){return void t.error(s)}i?t.complete():t.next(o)},0,!0)}),()=>qe(r?.return)&&r.return()})}(e,n);if(uE(e))return function IU(e,n){return hE(cE(e),n)}(e,n)}throw iE(e)}(e,n):mr(e)}function le(...e){return ht(e,al(e))}function It(e,n,t=1/0){return qe(n)?It((r,o)=>Ie((i,s)=>n(r,i,o,s))(mr(e(r,o))),t):("number"==typeof n&&(t=n),gt((r,o)=>function TU(e,n,t,r,o,i,s,a){const c=[];let u=0,l=0,d=!1;const f=()=>{d&&!c.length&&!u&&n.complete()},p=w=>u<r?g(w):c.push(w),g=w=>{i&&n.next(w),u++;let C=!1;mr(t(w,l++)).subscribe(dt(n,T=>{o?.(T),i?p(T):n.next(T)},()=>{C=!0},void 0,()=>{if(C)try{for(u--;c.length&&u<r;){const T=c.shift();s?vr(n,s,()=>g(T)):g(T)}f()}catch(T){n.error(T)}}))};return e.subscribe(dt(n,p,()=>{d=!0,f()})),()=>{a?.()}}(r,o,e,t)))}function Ti(e,n){return qe(n)?It(e,n,1):It(e,1)}function yr(e,n){return gt((t,r)=>{let o=0;t.subscribe(dt(r,i=>e.call(n,i,o++)&&r.next(i)))})}function ma(e){return gt((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function dn(e,n){return gt((t,r)=>{let o=null,i=0,s=!1;const a=()=>s&&!o&&r.complete();t.subscribe(dt(r,c=>{o?.unsubscribe();let u=0;const l=i++;mr(e(c,l)).subscribe(o=dt(r,d=>r.next(n?n(c,d,l,u++):d),()=>{o=null,a()}))},()=>{s=!0,a()}))})}class cl{}class ul{}class fn{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const o=t.slice(0,r),i=o.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(o,i),this.headers.has(i)?this.headers.get(i).push(s):this.headers.set(i,[s])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof fn?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){const t=new fn;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof fn?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){const t=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(n.name,t);const o=("a"===n.op?this.headers.get(t):void 0)||[];o.push(...r),this.headers.set(t,o);break;case"d":const i=n.value;if(i){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===i.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(n,t){const r=(Array.isArray(t)?t:[t]).map(i=>i.toString()),o=n.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(n,o)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}}class MU{encodeKey(n){return pE(n)}encodeValue(n){return pE(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const RU=/%(\d[a-f0-9])/gi,NU={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function pE(e){return encodeURIComponent(e).replace(RU,(n,t)=>NU[t]??n)}function ll(e){return`${e}`}class jr{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new MU,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function AU(e,n){const t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(o=>{const i=o.indexOf("="),[s,a]=-1==i?[n.decodeKey(o),""]:[n.decodeKey(o.slice(0,i)),n.decodeValue(o.slice(i+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{const r=n.fromObject[t],o=Array.isArray(r)?r.map(ll):[ll(r)];this.map.set(t,o)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){const t=[];return Object.keys(n).forEach(r=>{const o=n[r];Array.isArray(o)?o.forEach(i=>{t.push({param:r,value:i,op:"a"})}):t.push({param:r,value:o,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const t=this.encoder.encodeKey(n);return this.map.get(n).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const t=new jr({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const t=("a"===n.op?this.map.get(n.param):void 0)||[];t.push(ll(n.value)),this.map.set(n.param,t);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let r=this.map.get(n.param)||[];const o=r.indexOf(ll(n.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class xU{constructor(){this.map=new Map}set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function gE(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function mE(e){return typeof Blob<"u"&&e instanceof Blob}function vE(e){return typeof FormData<"u"&&e instanceof FormData}class va{constructor(n,t,r,o){let i;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function OU(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,i=o):i=r,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),this.transferCache=i.transferCache),this.headers??=new fn,this.context??=new xU,this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new jr,this.urlWithParams=t}serializeBody(){return null===this.body?null:"string"==typeof this.body||gE(this.body)||mE(this.body)||vE(this.body)||function PU(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)?this.body:this.body instanceof jr?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||vE(this.body)?null:mE(this.body)?this.body.type||null:gE(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof jr?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const t=n.method||this.method,r=n.url||this.url,o=n.responseType||this.responseType,i=n.transferCache??this.transferCache,s=void 0!==n.body?n.body:this.body,a=n.withCredentials??this.withCredentials,c=n.reportProgress??this.reportProgress;let u=n.headers||this.headers,l=n.params||this.params;const d=n.context??this.context;return void 0!==n.setHeaders&&(u=Object.keys(n.setHeaders).reduce((f,p)=>f.set(p,n.setHeaders[p]),u)),n.setParams&&(l=Object.keys(n.setParams).reduce((f,p)=>f.set(p,n.setParams[p]),l)),new va(t,r,s,{params:l,headers:u,context:d,reportProgress:c,responseType:o,withCredentials:a,transferCache:i})}}var Ur=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(Ur||{});class Zp{constructor(n,t=ya.Ok,r="OK"){this.headers=n.headers||new fn,this.status=void 0!==n.status?n.status:t,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class dl extends Zp{constructor(n={}){super(n),this.type=Ur.ResponseHeader}clone(n={}){return new dl({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class yo extends Zp{constructor(n={}){super(n),this.type=Ur.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new yo({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class Mi extends Zp{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}var ya=function(e){return e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Processing=102]="Processing",e[e.EarlyHints=103]="EarlyHints",e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultiStatus=207]="MultiStatus",e[e.AlreadyReported=208]="AlreadyReported",e[e.ImUsed=226]="ImUsed",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.Unused=306]="Unused",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.PayloadTooLarge=413]="PayloadTooLarge",e[e.UriTooLong=414]="UriTooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RangeNotSatisfiable=416]="RangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.ImATeapot=418]="ImATeapot",e[e.MisdirectedRequest=421]="MisdirectedRequest",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.Locked=423]="Locked",e[e.FailedDependency=424]="FailedDependency",e[e.TooEarly=425]="TooEarly",e[e.UpgradeRequired=426]="UpgradeRequired",e[e.PreconditionRequired=428]="PreconditionRequired",e[e.TooManyRequests=429]="TooManyRequests",e[e.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",e[e.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HttpVersionNotSupported=505]="HttpVersionNotSupported",e[e.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",e[e.InsufficientStorage=507]="InsufficientStorage",e[e.LoopDetected=508]="LoopDetected",e[e.NotExtended=510]="NotExtended",e[e.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",e}(ya||{});function Xp(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}let kU=(()=>{class e{constructor(t){this.handler=t}request(t,r,o={}){let i;if(t instanceof va)i=t;else{let c,u;c=o.headers instanceof fn?o.headers:new fn(o.headers),o.params&&(u=o.params instanceof jr?o.params:new jr({fromObject:o.params})),i=new va(t,r,void 0!==o.body?o.body:null,{headers:c,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}const s=le(i).pipe(Ti(c=>this.handler.handle(c)));if(t instanceof va||"events"===o.observe)return s;const a=s.pipe(yr(c=>c instanceof yo));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(Ie(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(Ie(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(Ie(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(Ie(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new jr).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,Xp(o,r))}post(t,r,o={}){return this.request("POST",t,Xp(o,r))}put(t,r,o={}){return this.request("PUT",t,Xp(o,r))}static{this.\u0275fac=function(r){return new(r||e)(K(cl))}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac})}}return e})();function wE(e,n){return n(e)}function $U(e,n){return(t,r)=>n.intercept(t,{handle:o=>e(o,r)})}const VU=new U(""),wa=new U(""),DE=new U(""),_E=new U("");function HU(){let e=null;return(n,t)=>{null===e&&(e=(N(VU,{optional:!0})??[]).reduceRight($U,wE));const r=N(xr),o=r.add();return e(n,t).pipe(ma(()=>r.remove(o)))}}let bE=(()=>{class e extends cl{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=N(xr);const o=N(_E,{optional:!0});this.backend=o??t}handle(t){if(null===this.chain){const o=Array.from(new Set([...this.injector.get(wa),...this.injector.get(DE,[])]));this.chain=o.reduceRight((i,s)=>function BU(e,n,t){return(r,o)=>Pn(t,()=>n(r,i=>e(i,o)))}(i,s,this.injector),wE)}const r=this.pendingTasks.add();return this.chain(t,o=>this.backend.handle(o)).pipe(ma(()=>this.pendingTasks.remove(r)))}static{this.\u0275fac=function(r){return new(r||e)(K(ul),K(At))}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac})}}return e})();const JU=/^\)\]\}',?\n/;let EE=(()=>{class e{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new x(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?ht(r.\u0275loadImpl()):le(null)).pipe(dn(()=>new et(i=>{const s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((w,C)=>s.setRequestHeader(w,C.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const w=t.detectContentTypeHeader();null!==w&&s.setRequestHeader("Content-Type",w)}if(t.responseType){const w=t.responseType.toLowerCase();s.responseType="json"!==w?w:"text"}const a=t.serializeBody();let c=null;const u=()=>{if(null!==c)return c;const w=s.statusText||"OK",C=new fn(s.getAllResponseHeaders()),T=function KU(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(s)||t.url;return c=new dl({headers:C,status:s.status,statusText:w,url:T}),c},l=()=>{let{headers:w,status:C,statusText:T,url:M}=u(),O=null;C!==ya.NoContent&&(O=typeof s.response>"u"?s.responseText:s.response),0===C&&(C=O?ya.Ok:0);let V=C>=200&&C<300;if("json"===t.responseType&&"string"==typeof O){const k=O;O=O.replace(JU,"");try{O=""!==O?JSON.parse(O):null}catch(te){O=k,V&&(V=!1,O={error:te,text:O})}}V?(i.next(new yo({body:O,headers:w,status:C,statusText:T,url:M||void 0})),i.complete()):i.error(new Mi({error:O,headers:w,status:C,statusText:T,url:M||void 0}))},d=w=>{const{url:C}=u(),T=new Mi({error:w,status:s.status||0,statusText:s.statusText||"Unknown Error",url:C||void 0});i.error(T)};let f=!1;const p=w=>{f||(i.next(u()),f=!0);let C={type:Ur.DownloadProgress,loaded:w.loaded};w.lengthComputable&&(C.total=w.total),"text"===t.responseType&&s.responseText&&(C.partialText=s.responseText),i.next(C)},g=w=>{let C={type:Ur.UploadProgress,loaded:w.loaded};w.lengthComputable&&(C.total=w.total),i.next(C)};return s.addEventListener("load",l),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),t.reportProgress&&(s.addEventListener("progress",p),null!==a&&s.upload&&s.upload.addEventListener("progress",g)),s.send(a),i.next({type:Ur.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",l),s.removeEventListener("timeout",d),t.reportProgress&&(s.removeEventListener("progress",p),null!==a&&s.upload&&s.upload.removeEventListener("progress",g)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||e)(K(EC))}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac})}}return e})();const ng=new U(""),IE=new U("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),SE=new U("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class TE{}let ZU=(()=>{class e{constructor(t,r,o){this.doc=t,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=hC(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||e)(K(Ht),K(Mr),K(IE))}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac})}}return e})();function XU(e,n){const t=e.url.toLowerCase();if(!N(ng)||"GET"===e.method||"HEAD"===e.method||t.startsWith("http://")||t.startsWith("https://"))return n(e);const r=N(TE).getToken(),o=N(SE);return null!=r&&!e.headers.has(o)&&(e=e.clone({headers:e.headers.set(o,r)})),n(e)}var $r=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}($r||{});function wo(e,n){return{\u0275kind:e,\u0275providers:n}}function e$(...e){const n=[kU,EE,bE,{provide:cl,useExisting:bE},{provide:ul,useExisting:EE},{provide:wa,useValue:XU,multi:!0},{provide:ng,useValue:!0},{provide:TE,useClass:ZU}];for(const t of e)n.push(...t.\u0275providers);return function os(e){return{\u0275providers:e}}(n)}const ME=new U("");let n$=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=or({type:e})}static{this.\u0275inj=xn({providers:[e$(wo($r.LegacyInterceptors,[{provide:ME,useFactory:HU},{provide:wa,useExisting:ME,multi:!0}]))]})}}return e})();var rg=S(314);const c$=["qrcElement"];let u$=(()=>{class e{constructor(t,r){this.renderer=t,this.sanitizer=r,this.allowEmptyString=!1,this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.qrdata="",this.scale=4,this.width=10,this.qrCodeURL=new bt,this.context=null}ngOnChanges(){var t=this;return h(function*(){yield t.createQRCode()})()}isValidQrCodeText(t){return!1===this.allowEmptyString?!(typeof t>"u"||""===t||"null"===t||null===t):!(typeof t>"u")}toDataURL(t){return new Promise((r,o)=>{(0,rg.dY)(this.qrdata,t,(i,s)=>{i?o(i):r(s)})})}toCanvas(t,r){return new Promise((o,i)=>{(0,rg.mo)(t,this.qrdata,r,s=>{s?i(s):o("success")})})}toSVG(t){return new Promise((r,o)=>{(0,rg.toString)(this.qrdata,t,(i,s)=>{i?o(i):r(s)})})}renderElement(t){for(const r of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,r);this.renderer.appendChild(this.qrcElement.nativeElement,t)}createQRCode(){var t=this;return h(function*(){t.version&&t.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),t.version=40):t.version&&t.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),t.version=1):void 0!==t.version&&isNaN(t.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),t.version=void 0);try{if(!t.isValidQrCodeText(t.qrdata))throw new Error("[angularx-qrcode] Field `qrdata` is empty, set 'allowEmptyString=\"true\"' to overwrite this behaviour.");t.isValidQrCodeText(t.qrdata)&&""===t.qrdata&&(t.qrdata=" ");const r={color:{dark:t.colorDark,light:t.colorLight},errorCorrectionLevel:t.errorCorrectionLevel,margin:t.margin,scale:t.scale,version:t.version,width:t.width},o=t.imageSrc,i=t.imageHeight||40,s=t.imageWidth||40;switch(t.elementType){case"canvas":{const a=t.renderer.createElement("canvas");t.context=a.getContext("2d"),t.toCanvas(a,r).then(()=>{if(t.ariaLabel&&t.renderer.setAttribute(a,"aria-label",`${t.ariaLabel}`),t.title&&t.renderer.setAttribute(a,"title",`${t.title}`),o&&t.context){t.centerImage=new Image(s,i),o!==t.centerImage.src&&(t.centerImage.src=o),i!==t.centerImage.height&&(t.centerImage.height=i),s!==t.centerImage.width&&(t.centerImage.width=s);const c=t.centerImage;c&&(c.onload=()=>{t.context?.drawImage(c,a.width/2-s/2,a.height/2-i/2,s,i)})}t.renderElement(a),t.emitQRCodeURL(a)}).catch(c=>{console.error("[angularx-qrcode] canvas error:",c)});break}case"svg":{const a=t.renderer.createElement("div");t.toSVG(r).then(c=>{t.renderer.setProperty(a,"innerHTML",c);const u=a.firstChild;t.renderer.setAttribute(u,"height",`${t.width}`),t.renderer.setAttribute(u,"width",`${t.width}`),t.renderElement(u),t.emitQRCodeURL(u)}).catch(c=>{console.error("[angularx-qrcode] svg error:",c)});break}default:{const a=t.renderer.createElement("img");t.toDataURL(r).then(c=>{t.alt&&a.setAttribute("alt",t.alt),t.ariaLabel&&a.setAttribute("aria-label",t.ariaLabel),a.setAttribute("src",c),t.title&&a.setAttribute("title",t.title),t.renderElement(a),t.emitQRCodeURL(a)}).catch(c=>{console.error("[angularx-qrcode] img/url error:",c)})}}}catch(r){console.error("[angularx-qrcode] Error generating QR Code:",r.message)}})()}emitQRCodeURL(t){const r=t.constructor.name;if(r===SVGSVGElement.name){const s=new Blob([t.outerHTML],{type:"image/svg+xml"}),a=URL.createObjectURL(s),c=this.sanitizer.bypassSecurityTrustUrl(a);return void this.qrCodeURL.emit(c)}let o="";r===HTMLCanvasElement.name&&(o=t.toDataURL("image/png")),r===HTMLImageElement.name&&(o=t.src),fetch(o).then(i=>i.blob()).then(i=>URL.createObjectURL(i)).then(i=>this.sanitizer.bypassSecurityTrustUrl(i)).then(i=>{this.qrCodeURL.emit(i)}).catch(i=>{console.error("[angularx-qrcode] Error when fetching image/png URL: "+i)})}static{this.\u0275fac=function(r){return new(r||e)(re($s),re(JC))}}static{this.\u0275cmp=cc({type:e,selectors:[["qrcode"]],viewQuery:function(r,o){if(1&r&&function h0(e,n,t){Zw(e,n,t)}(c$,7),2&r){let i;(function Wh(e){const n=A(),t=_e(),r=Vd();_c(r+1);const o=vh(t,r);if(e.dirty&&function GT(e){return!(4&~e[Q])}(n)===!(2&~o.metadata.flags)){if(null===o.matches)e.reset([]);else{const i=tD(n,r);e.reset(i,Hv),e.notifyOnChanges()}return!0}return!1})(i=Jh())&&(o.qrcElement=i.first)}},inputs:{allowEmptyString:"allowEmptyString",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",margin:"margin",qrdata:"qrdata",scale:"scale",version:"version",width:"width",alt:"alt",ariaLabel:"ariaLabel",title:"title"},outputs:{qrCodeURL:"qrCodeURL"},features:[Ir],decls:2,vars:2,consts:[["qrcElement",""]],template:function(r,o){1&r&&ho(0,"div",null,0),2&r&&l_(o.cssClass)},encapsulation:2,changeDetection:0})}}return e})(),l$=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=or({type:e})}static{this.\u0275inj=xn({})}}return e})();const{isArray:f$}=Array,{getPrototypeOf:h$,prototype:p$,keys:g$}=Object;const{isArray:y$}=Array;function og(...e){const n=al(e),t=function B2(e){return qe(Gp(e))?e.pop():void 0}(e),{args:r,keys:o}=function m$(e){if(1===e.length){const n=e[0];if(f$(n))return{args:n,keys:null};if(function v$(e){return e&&"object"==typeof e&&h$(e)===p$}(n)){const t=g$(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}(e);if(0===r.length)return ht([],n);const i=new et(function b$(e,n,t=Qr){return r=>{LE(n,()=>{const{length:o}=e,i=new Array(o);let s=o,a=o;for(let c=0;c<o;c++)LE(n,()=>{const u=ht(e[c],n);let l=!1;u.subscribe(dt(r,d=>{i[c]=d,l||(l=!0,a--),a||r.next(t(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,n,o?s=>function _$(e,n){return e.reduce((t,r,o)=>(t[r]=n[o],t),{})}(o,s):Qr));return t?i.pipe(function D$(e){return Ie(n=>function w$(e,n){return y$(n)?e(...n):e(n)}(e,n))}(t)):i}function LE(e,n,t){e?vr(t,e,n):n()}const hl=Hl(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Da(e=1/0){return It(Qr,e)}function ig(...e){return function C$(){return Da(1)}()(ht(e,al(e)))}function FE(e){return new et(n=>{mr(e()).subscribe(n)})}function pl(e,n){const t=qe(e)?e:()=>e,r=o=>o.error(t());return new et(n?o=>n.schedule(r,0,o):r)}const Kn=new et(e=>e.complete());function sg(){return gt((e,n)=>{let t=null;e._refCount++;const r=dt(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const o=e._connection,i=t;t=null,o&&(!i||o===i)&&o.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}class jE extends et{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,mm(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Tt;const t=this.getSubject();n.add(this.source.subscribe(dt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Tt.EMPTY)}return n}refCount(){return sg()(this)}}function Ai(e){return e<=0?()=>Kn:gt((n,t)=>{let r=0;n.subscribe(dt(t,o=>{++r<=e&&(t.next(o),e<=r&&t.complete())}))})}function gl(e){return gt((n,t)=>{let r=!1;n.subscribe(dt(t,o=>{r=!0,t.next(o)},()=>{r||t.next(e),t.complete()}))})}function UE(e=S$){return gt((n,t)=>{let r=!1;n.subscribe(dt(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(e())))})}function S$(){return new hl}function Do(e,n){const t=arguments.length>=2;return r=>r.pipe(e?yr((o,i)=>e(o,i,r)):Qr,Ai(1),t?gl(n):UE(()=>new hl))}function kt(e,n,t){const r=qe(e)||n||t?{next:e,error:n,complete:t}:e;return r?gt((o,i)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;o.subscribe(dt(i,c=>{var u;null===(u=r.next)||void 0===u||u.call(r,c),i.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),i.complete()},c=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,c),i.error(c)},()=>{var c,u;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):Qr}function Ri(e){return gt((n,t)=>{let i,r=null,o=!1;r=n.subscribe(dt(t,void 0,void 0,s=>{i=mr(e(s,Ri(e)(n))),r?(r.unsubscribe(),r=null,i.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(t))})}function ag(e){return e<=0?()=>Kn:gt((n,t)=>{let r=[];n.subscribe(dt(t,o=>{r.push(o),e<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}const ve="primary",_a=Symbol("RouteTitle");class x${constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ni(e){return new x$(e)}function O$(e,n,t){const r=t.path.split("/");if(r.length>e.length||"full"===t.pathMatch&&(n.hasChildren()||r.length<e.length))return null;const o={};for(let i=0;i<r.length;i++){const s=r[i],a=e[i];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:o}}function Qn(e,n){const t=e?cg(e):void 0,r=n?cg(n):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let i=0;i<t.length;i++)if(o=t[i],!$E(e[o],n[o]))return!1;return!0}function cg(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function $E(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;const t=[...e].sort(),r=[...n].sort();return t.every((o,i)=>r[i]===o)}return e===n}function BE(e){return e.length>0?e[e.length-1]:null}function Br(e){return function d$(e){return!!e&&(e instanceof et||qe(e.lift)&&qe(e.subscribe))}(e)?e:ku(e)?ht(Promise.resolve(e)):le(e)}const k$={exact:function zE(e,n,t){if(!_o(e.segments,n.segments)||!ml(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!e.children[r]||!zE(e.children[r],n.children[r],t))return!1;return!0},subset:qE},VE={exact:function L$(e,n){return Qn(e,n)},subset:function F$(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>$E(e[t],n[t]))},ignored:()=>!0};function HE(e,n,t){return k$[t.paths](e.root,n.root,t.matrixParams)&&VE[t.queryParams](e.queryParams,n.queryParams)&&!("exact"===t.fragment&&e.fragment!==n.fragment)}function qE(e,n,t){return GE(e,n,n.segments,t)}function GE(e,n,t,r){if(e.segments.length>t.length){const o=e.segments.slice(0,t.length);return!(!_o(o,t)||n.hasChildren()||!ml(o,t,r))}if(e.segments.length===t.length){if(!_o(e.segments,t)||!ml(e.segments,t,r))return!1;for(const o in n.children)if(!e.children[o]||!qE(e.children[o],n.children[o],r))return!1;return!0}{const o=t.slice(0,e.segments.length),i=t.slice(e.segments.length);return!!(_o(e.segments,o)&&ml(e.segments,o,r)&&e.children[ve])&&GE(e.children[ve],n,i,r)}}function ml(e,n,t){return n.every((r,o)=>VE[t](e[o].parameters,r.parameters))}class xi{constructor(n=new je([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ni(this.queryParams),this._queryParamMap}toString(){return $$.serialize(this)}}class je{constructor(n,t){this.segments=n,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vl(this)}}class ba{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=Ni(this.parameters),this._parameterMap}toString(){return KE(this)}}function _o(e,n){return e.length===n.length&&e.every((t,r)=>t.path===n[r].path)}let Oi=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=z({token:e,factory:()=>new ug,providedIn:"root"})}}return e})();class ug{parse(n){const t=new Y$(n);return new xi(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){const t=`/${Ca(n.root,!0)}`,r=function H$(e){const n=Object.entries(e).map(([t,r])=>Array.isArray(r)?r.map(o=>`${yl(t)}=${yl(o)}`).join("&"):`${yl(t)}=${yl(r)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${t}${r}${"string"==typeof n.fragment?`#${function B$(e){return encodeURI(e)}(n.fragment)}`:""}`}}const $$=new ug;function vl(e){return e.segments.map(n=>KE(n)).join("/")}function Ca(e,n){if(!e.hasChildren())return vl(e);if(n){const t=e.children[ve]?Ca(e.children[ve],!1):"",r=[];return Object.entries(e.children).forEach(([o,i])=>{o!==ve&&r.push(`${o}:${Ca(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function U$(e,n){let t=[];return Object.entries(e.children).forEach(([r,o])=>{r===ve&&(t=t.concat(n(o,r)))}),Object.entries(e.children).forEach(([r,o])=>{r!==ve&&(t=t.concat(n(o,r)))}),t}(e,(r,o)=>o===ve?[Ca(e.children[ve],!1)]:[`${o}:${Ca(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[ve]?`${vl(e)}/${t[0]}`:`${vl(e)}/(${t.join("//")})`}}function WE(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yl(e){return WE(e).replace(/%3B/gi,";")}function lg(e){return WE(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wl(e){return decodeURIComponent(e)}function JE(e){return wl(e.replace(/\+/g,"%20"))}function KE(e){return`${lg(e.path)}${function V$(e){return Object.entries(e).map(([n,t])=>`;${lg(n)}=${lg(t)}`).join("")}(e.parameters)}`}const z$=/^[^\/()?;#]+/;function dg(e){const n=e.match(z$);return n?n[0]:""}const q$=/^[^\/()?;=#]+/,W$=/^[^=?&#]+/,K$=/^[^&#]+/;class Y${constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new je([],{}):new je([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[ve]=new je(n,t)),r}parseSegment(){const n=dg(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new x(4009,!1);return this.capture(n),new ba(wl(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const t=function G$(e){const n=e.match(q$);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=dg(this.remaining);o&&(r=o,this.capture(r))}n[wl(t)]=wl(r)}parseQueryParam(n){const t=function J$(e){const n=e.match(W$);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function Q$(e){const n=e.match(K$);return n?n[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const o=JE(t),i=JE(r);if(n.hasOwnProperty(o)){let s=n[o];Array.isArray(s)||(s=[s],n[o]=s),s.push(i)}else n[o]=i}parseParens(n){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=dg(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new x(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):n&&(i=ve);const s=this.parseChildren();t[i]=1===Object.keys(s).length?s[ve]:new je([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new x(4011,!1)}}function QE(e){return e.segments.length>0?new je([],{[ve]:e}):e}function YE(e){const n={};for(const[r,o]of Object.entries(e.children)){const i=YE(o);if(r===ve&&0===i.segments.length&&i.hasChildren())for(const[s,a]of Object.entries(i.children))n[s]=a;else(i.segments.length>0||i.hasChildren())&&(n[r]=i)}return function Z$(e){if(1===e.numberOfChildren&&e.children[ve]){const n=e.children[ve];return new je(e.segments.concat(n.segments),n.children)}return e}(new je(e.segments,n))}function Pi(e){return e instanceof xi}function ZE(e){let n;const o=QE(function t(i){const s={};for(const c of i.children){const u=t(c);s[c.outlet]=u}const a=new je(i.url,s);return i===e&&(n=a),a}(e.root));return n??o}function XE(e,n,t,r){let o=e;for(;o.parent;)o=o.parent;if(0===n.length)return fg(o,o,o,t,r);const i=function eB(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new tI(!0,0,e);let n=0,t=!1;const r=e.reduce((o,i,s)=>{if("object"==typeof i&&null!=i){if(i.outlets){const a={};return Object.entries(i.outlets).forEach(([c,u])=>{a[c]="string"==typeof u?u.split("/"):u}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return"string"!=typeof i?[...o,i]:0===s?(i.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?n++:""!=a&&o.push(a))}),o):[...o,i]},[]);return new tI(t,n,r)}(n);if(i.toRoot())return fg(o,o,new je([],{}),t,r);const s=function tB(e,n,t){if(e.isAbsolute)return new _l(n,!0,0);if(!t)return new _l(n,!1,NaN);if(null===t.parent)return new _l(t,!0,0);const r=Dl(e.commands[0])?0:1;return function nB(e,n,t){let r=e,o=n,i=t;for(;i>o;){if(i-=o,r=r.parent,!r)throw new x(4005,!1);o=r.segments.length}return new _l(r,!1,o-i)}(t,t.segments.length-1+r,e.numberOfDoubleDots)}(i,o,e),a=s.processChildren?Ia(s.segmentGroup,s.index,i.commands):nI(s.segmentGroup,s.index,i.commands);return fg(o,s.segmentGroup,a,t,r)}function Dl(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Ea(e){return"object"==typeof e&&null!=e&&e.outlets}function fg(e,n,t,r,o){let s,i={};r&&Object.entries(r).forEach(([c,u])=>{i[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),s=e===n?t:eI(e,n,t);const a=QE(YE(s));return new xi(a,i,o)}function eI(e,n,t){const r={};return Object.entries(e.children).forEach(([o,i])=>{r[o]=i===n?t:eI(i,n,t)}),new je(e.segments,r)}class tI{constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&Dl(r[0]))throw new x(4003,!1);const o=r.find(Ea);if(o&&o!==BE(r))throw new x(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _l{constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}}function nI(e,n,t){if(e??=new je([],{}),0===e.segments.length&&e.hasChildren())return Ia(e,n,t);const r=function oB(e,n,t){let r=0,o=n;const i={match:!1,pathIndex:0,commandIndex:0};for(;o<e.segments.length;){if(r>=t.length)return i;const s=e.segments[o],a=t[r];if(Ea(a))break;const c=`${a}`,u=r<t.length-1?t[r+1]:null;if(o>0&&void 0===c)break;if(c&&u&&"object"==typeof u&&void 0===u.outlets){if(!oI(c,u,s))return i;r+=2}else{if(!oI(c,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(e,n,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const i=new je(e.segments.slice(0,r.pathIndex),{});return i.children[ve]=new je(e.segments.slice(r.pathIndex),e.children),Ia(i,0,o)}return r.match&&0===o.length?new je(e.segments,{}):r.match&&!e.hasChildren()?hg(e,n,t):r.match?Ia(e,0,o):hg(e,n,t)}function Ia(e,n,t){if(0===t.length)return new je(e.segments,{});{const r=function rB(e){return Ea(e[0])?e[0].outlets:{[ve]:e}}(t),o={};if(Object.keys(r).some(i=>i!==ve)&&e.children[ve]&&1===e.numberOfChildren&&0===e.children[ve].segments.length){const i=Ia(e.children[ve],n,t);return new je(e.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(o[i]=nI(e.children[i],n,s))}),Object.entries(e.children).forEach(([i,s])=>{void 0===r[i]&&(o[i]=s)}),new je(e.segments,o)}}function hg(e,n,t){const r=e.segments.slice(0,n);let o=0;for(;o<t.length;){const i=t[o];if(Ea(i)){const c=iB(i.outlets);return new je(r,c)}if(0===o&&Dl(t[0])){r.push(new ba(e.segments[n].path,rI(t[0]))),o++;continue}const s=Ea(i)?i.outlets[ve]:`${i}`,a=o<t.length-1?t[o+1]:null;s&&a&&Dl(a)?(r.push(new ba(s,rI(a))),o+=2):(r.push(new ba(s,{})),o++)}return new je(r,{})}function iB(e){const n={};return Object.entries(e).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(n[t]=hg(new je([],{}),0,r))}),n}function rI(e){const n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function oI(e,n,t){return e==t.path&&Qn(n,t.parameters)}const Sa="imperative";var Ce=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Ce||{});class Yn{constructor(n,t){this.id=n,this.url=t}}class bl extends Yn{constructor(n,t,r="imperative",o=null){super(n,t),this.type=Ce.NavigationStart,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class wr extends Yn{constructor(n,t,r){super(n,t),this.urlAfterRedirects=r,this.type=Ce.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var nn=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(nn||{}),Cl=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Cl||{});class ki extends Yn{constructor(n,t,r,o){super(n,t),this.reason=r,this.code=o,this.type=Ce.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Li extends Yn{constructor(n,t,r,o){super(n,t),this.reason=r,this.code=o,this.type=Ce.NavigationSkipped}}class El extends Yn{constructor(n,t,r,o){super(n,t),this.error=r,this.target=o,this.type=Ce.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class iI extends Yn{constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o,this.type=Ce.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sB extends Yn{constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o,this.type=Ce.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aB extends Yn{constructor(n,t,r,o,i){super(n,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i,this.type=Ce.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class cB extends Yn{constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o,this.type=Ce.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uB extends Yn{constructor(n,t,r,o){super(n,t),this.urlAfterRedirects=r,this.state=o,this.type=Ce.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lB{constructor(n){this.route=n,this.type=Ce.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class dB{constructor(n){this.route=n,this.type=Ce.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class fB{constructor(n){this.snapshot=n,this.type=Ce.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hB{constructor(n){this.snapshot=n,this.type=Ce.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pB{constructor(n){this.snapshot=n,this.type=Ce.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gB{constructor(n){this.snapshot=n,this.type=Ce.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sI{constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r,this.type=Ce.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class pg{}class gg{constructor(n){this.url=n}}class mB{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ta,this.attachRef=null}}let Ta=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new mB,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class aI{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){const t=mg(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){const t=mg(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){const t=vg(n,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==n)}pathFromRoot(n){return vg(n,this._root).map(t=>t.value)}}function mg(e,n){if(e===n.value)return n;for(const t of n.children){const r=mg(e,t);if(r)return r}return null}function vg(e,n){if(e===n.value)return[n];for(const t of n.children){const r=vg(e,t);if(r.length)return r.unshift(n),r}return[]}class Tn{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}}function Fi(e){const n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}class cI extends aI{constructor(n,t){super(n),this.snapshot=t,Dg(this,n)}toString(){return this.snapshot.toString()}}function uI(e){const n=function vB(e){const i=new wg([],{},{},"",{},ve,e,null,{});return new lI("",new Tn(i,[]))}(e),t=new on([new ba("",{})]),r=new on({}),o=new on({}),i=new on({}),s=new on(""),a=new ji(t,r,i,s,o,ve,e,n.root);return a.snapshot=n.root,new cI(new Tn(a,[]),n)}class ji{constructor(n,t,r,o,i,s,a,c){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(Ie(u=>u[_a]))??le(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ie(n=>Ni(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ie(n=>Ni(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function yg(e,n,t="emptyOnly"){let r;const{routeConfig:o}=e;return r=null===n||"always"!==t&&""!==o?.path&&(n.component||n.routeConfig?.loadComponent)?{params:{...e.params},data:{...e.data},resolve:{...e.data,...e._resolvedData??{}}}:{params:{...n.params,...e.params},data:{...n.data,...e.data},resolve:{...e.data,...n.data,...o?.data,...e._resolvedData}},o&&fI(o)&&(r.resolve[_a]=o.title),r}class wg{get title(){return this.data?.[_a]}constructor(n,t,r,o,i,s,a,c,u){this.url=n,this.params=t,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ni(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ni(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class lI extends aI{constructor(n,t){super(t),this.url=n,Dg(this,t)}toString(){return dI(this._root)}}function Dg(e,n){n.value._routerState=e,n.children.forEach(t=>Dg(e,t))}function dI(e){const n=e.children.length>0?` { ${e.children.map(dI).join(", ")} } `:"";return`${e.value}${n}`}function _g(e){if(e.snapshot){const n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,Qn(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),Qn(n.params,t.params)||e.paramsSubject.next(t.params),function P$(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!Qn(e[t],n[t]))return!1;return!0}(n.url,t.url)||e.urlSubject.next(t.url),Qn(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function bg(e,n){const t=Qn(e.params,n.params)&&function j$(e,n){return _o(e,n)&&e.every((t,r)=>Qn(t.parameters,n[r].parameters))}(e.url,n.url);return t&&!(!e.parent!=!n.parent)&&(!e.parent||bg(e.parent,n.parent))}function fI(e){return"string"==typeof e.title||null===e.title}let hI=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ve,this.activateEvents=new bt,this.deactivateEvents=new bt,this.attachEvents=new bt,this.detachEvents=new bt,this.parentContexts=N(Ta),this.location=N(bn),this.changeDetector=N(ju),this.environmentInjector=N(At),this.inputBinder=N(Il,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new x(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new x(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new x(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new x(4013,!1);this._activatedRoute=t;const o=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Cg(t,a,o.injector);this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=Mt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ir]})}}return e})();class Cg{__ngOutletInjector(n){return new Cg(this.route,this.childContexts,n)}constructor(n,t,r){this.route=n,this.childContexts=t,this.parent=r}get(n,t){return n===ji?this.route:n===Ta?this.childContexts:this.parent.get(n,t)}}const Il=new U("");let pI=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,o=og([r.queryParams,r.params,r.data]).pipe(dn(([i,s,a],c)=>(a={...i,...s,...a},0===c?le(a):Promise.resolve(a)))).subscribe(i=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const s=function lF(e){const n=we(e);if(!n)return null;const t=new zs(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,i[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,o)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac})}}return e})();function Ma(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=n.value;const o=function wB(e,n,t){return n.children.map(r=>{for(const o of t.children)if(e.shouldReuseRoute(r.value,o.value.snapshot))return Ma(e,r,o);return Ma(e,r)})}(e,n,t);return new Tn(r,o)}{if(e.shouldAttach(n.value)){const i=e.retrieve(n.value);if(null!==i){const s=i.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>Ma(e,a)),s}}const r=function DB(e){return new ji(new on(e.url),new on(e.params),new on(e.queryParams),new on(e.fragment),new on(e.data),e.outlet,e.component,e)}(n.value),o=n.children.map(i=>Ma(e,i));return new Tn(r,o)}}const gI="ngNavigationCancelingError";function mI(e,n){const{redirectTo:t,navigationBehaviorOptions:r}=Pi(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,o=vI(!1,nn.Redirect);return o.url=t,o.navigationBehaviorOptions=r,o}function vI(e,n){const t=new Error(`NavigationCancelingError: ${e||""}`);return t[gI]=!0,t.cancellationCode=n,t}function yI(e){return!!e&&e[gI]}let wI=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=cc({type:e,selectors:[["ng-component"]],standalone:!0,features:[k0],decls:1,vars:0,template:function(r,o){1&r&&ho(0,"router-outlet")},dependencies:[hI],encapsulation:2})}}return e})();function Eg(e){const n=e.children&&e.children.map(Eg),t=n?{...e,children:n}:{...e};return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==ve&&(t.component=wI),t}function Zn(e){return e.outlet||ve}function Aa(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){const t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class MB{constructor(n,t,r,o,i){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(n){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),_g(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){const o=Fi(t);n.children.forEach(i=>{const s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(n,t,r){const o=n.value,i=t?t.value:null;if(o===i)if(o.component){const s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,r);else i&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){const r=t.getContext(n.value.outlet),o=r&&n.value.component?r.children:t,i=Fi(n);for(const s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){const r=t.getContext(n.value.outlet),o=r&&n.value.component?r.children:t,i=Fi(n);for(const s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){const o=Fi(t);n.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new gB(i.value.snapshot))}),n.children.length&&this.forwardEvent(new hB(n.value.snapshot))}activateRoutes(n,t,r){const o=n.value,i=t?t.value:null;if(_g(o),o===i)if(o.component){const s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,r);else if(o.component){const s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),_g(a.route.value),this.activateChildRoutes(n,null,s.children)}else{const a=Aa(o.snapshot);s.attachRef=null,s.route=o,s.injector=a,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(n,null,s.children)}}else this.activateChildRoutes(n,null,r)}}class DI{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class Sl{constructor(n,t){this.component=n,this.route=t}}function AB(e,n,t){const r=e._root;return Ra(r,n?n._root:null,t,[r.value])}function Ui(e,n){const t=Symbol(),r=n.get(e,t);return r===t?"function"!=typeof e||function FS(e){return null!==Ya(e)}(e)?n.get(e):e:r}function Ra(e,n,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=Fi(n);return e.children.forEach(s=>{(function NB(e,n,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const i=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){const c=function xB(e,n,t){if("function"==typeof t)return t(e,n);switch(t){case"pathParamsChange":return!_o(e.url,n.url);case"pathParamsOrQueryParamsChange":return!_o(e.url,n.url)||!Qn(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bg(e,n)||!Qn(e.queryParams,n.queryParams);default:return!bg(e,n)}}(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new DI(r)):(i.data=s.data,i._resolvedData=s._resolvedData),Ra(e,n,i.component?a?a.children:null:t,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new Sl(a.outlet.component,s))}else s&&Na(n,a,o),o.canActivateChecks.push(new DI(r)),Ra(e,null,i.component?a?a.children:null:t,r,o)})(s,i[s.value.outlet],t,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>Na(a,t.getContext(s),o)),o}function Na(e,n,t){const r=Fi(e),o=e.value;Object.entries(r).forEach(([i,s])=>{Na(s,o.component?n?n.children.getContext(i):null:n,t)}),t.canDeactivateChecks.push(new Sl(o.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,o))}function xa(e){return"function"==typeof e}function _I(e){return e instanceof hl||"EmptyError"===e?.name}const Tl=Symbol("INITIAL_VALUE");function $i(){return dn(e=>og(e.map(n=>n.pipe(Ai(1),function I$(...e){const n=al(e);return gt((t,r)=>{(n?ig(e,t,n):ig(e,t)).subscribe(r)})}(Tl)))).pipe(Ie(n=>{for(const t of n)if(!0!==t){if(t===Tl)return Tl;if(!1===t||t instanceof xi)return t}return!0}),yr(n=>n!==Tl),Ai(1)))}function bI(e){return function TS(...e){return hm(e)}(kt(n=>{if(Pi(n))throw mI(0,n)}),Ie(n=>!0===n))}class Ig{constructor(n){this.segmentGroup=n||null}}class Sg extends Error{constructor(n){super(),this.urlTree=n}}function Bi(e){return pl(new Ig(e))}class YB{constructor(n,t){this.urlSerializer=n,this.urlTree=t}lineralizeSegments(n,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return le(r);if(o.numberOfChildren>1||!o.children[ve])return pl(new x(4e3,!1));o=o.children[ve]}}applyRedirectCommands(n,t,r){const o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,r);if(t.startsWith("/"))throw new Sg(o);return o}applyRedirectCreateUrlTree(n,t,r,o){const i=this.createSegmentGroup(n,t.root,r,o);return new xi(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){const r={};return Object.entries(n).forEach(([o,i])=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[o]=t[a]}else r[o]=i}),r}createSegmentGroup(n,t,r,o){const i=this.createSegments(n,t.segments,r,o);let s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(n,c,r,o)}),new je(i,s)}createSegments(n,t,r,o){return t.map(i=>i.path.startsWith(":")?this.findPosParam(n,i,o):this.findOrReturn(i,r))}findPosParam(n,t,r){const o=r[t.path.substring(1)];if(!o)throw new x(4001,!1);return o}findOrReturn(n,t){let r=0;for(const o of t){if(o.path===n.path)return t.splice(r),o;r++}return n}}const Tg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ZB(e,n,t,r,o){const i=Mg(e,n,t);return i.matched?(r=function bB(e,n){return e.providers&&!e._injector&&(e._injector=hu(e.providers,n,`Route: ${e.path}`)),e._injector??n}(n,r),function JB(e,n,t,r){const o=n.canMatch;return o&&0!==o.length?le(o.map(s=>{const a=Ui(s,e);return Br(function jB(e){return e&&xa(e.canMatch)}(a)?a.canMatch(n,t):Pn(e,()=>a(n,t)))})).pipe($i(),bI()):le(!0)}(r,n,t).pipe(Ie(s=>!0===s?i:{...Tg}))):le(i)}function Mg(e,n,t){if("**"===n.path)return function XB(e){return{matched:!0,parameters:e.length>0?BE(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(t);if(""===n.path)return"full"===n.pathMatch&&(e.hasChildren()||t.length>0)?{...Tg}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(n.matcher||O$)(t,e,n);if(!o)return{...Tg};const i={};Object.entries(o.posParams??{}).forEach(([a,c])=>{i[a]=c.path});const s=o.consumed.length>0?{...i,...o.consumed[o.consumed.length-1].parameters}:i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function CI(e,n,t,r){return t.length>0&&function nV(e,n,t){return t.some(r=>Ml(e,n,r)&&Zn(r)!==ve)}(e,t,r)?{segmentGroup:new je(n,tV(r,new je(t,e.children))),slicedSegments:[]}:0===t.length&&function rV(e,n,t){return t.some(r=>Ml(e,n,r))}(e,t,r)?{segmentGroup:new je(e.segments,eV(e,t,r,e.children)),slicedSegments:t}:{segmentGroup:new je(e.segments,e.children),slicedSegments:t}}function eV(e,n,t,r){const o={};for(const i of t)if(Ml(e,n,i)&&!r[Zn(i)]){const s=new je([],{});o[Zn(i)]=s}return{...r,...o}}function tV(e,n){const t={};t[ve]=n;for(const r of e)if(""===r.path&&Zn(r)!==ve){const o=new je([],{});t[Zn(r)]=o}return t}function Ml(e,n,t){return(!(e.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}class sV{}class uV{constructor(n,t,r,o,i,s,a){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new YB(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(n){return new x(4002,`'${n.segmentGroup}'`)}recognize(){const n=CI(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(Ie(t=>{const r=new wg([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ve,this.rootComponentType,null,{}),o=new Tn(r,t),i=new lI("",o),s=function X$(e,n,t=null,r=null){return XE(ZE(e),n,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(i._root,null),{state:i,tree:s}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n,ve).pipe(Ri(r=>{if(r instanceof Sg)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ig?this.noMatchError(r):r}))}inheritParamsAndData(n,t){const r=n.value,o=yg(r,t,this.paramsInheritanceStrategy);r.params=Object.freeze(o.params),r.data=Object.freeze(o.data),n.children.forEach(i=>this.inheritParamsAndData(i,r))}processSegmentGroup(n,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,t,r):this.processSegment(n,t,r,r.segments,o,!0).pipe(Ie(i=>i instanceof Tn?[i]:[]))}processChildren(n,t,r){const o=[];for(const i of Object.keys(r.children))"primary"===i?o.unshift(i):o.push(i);return ht(o).pipe(Ti(i=>{const s=r.children[i],a=function SB(e,n){const t=e.filter(r=>Zn(r)===n);return t.push(...e.filter(r=>Zn(r)!==n)),t}(t,i);return this.processSegmentGroup(n,a,s,i)}),function M$(e,n){return gt(function T$(e,n,t,r,o){return(i,s)=>{let a=t,c=n,u=0;i.subscribe(dt(s,l=>{const d=u++;c=a?e(c,l,d):(a=!0,l),r&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}(e,n,arguments.length>=2,!0))}((i,s)=>(i.push(...s),i)),gl(null),function A$(e,n){const t=arguments.length>=2;return r=>r.pipe(e?yr((o,i)=>e(o,i,r)):Qr,ag(1),t?gl(n):UE(()=>new hl))}(),It(i=>{if(null===i)return Bi(r);const s=EI(i);return function lV(e){e.sort((n,t)=>n.value.outlet===ve?-1:t.value.outlet===ve?1:n.value.outlet.localeCompare(t.value.outlet))}(s),le(s)}))}processSegment(n,t,r,o,i,s){return ht(t).pipe(Ti(a=>this.processSegmentAgainstRoute(a._injector??n,t,a,r,o,i,s).pipe(Ri(c=>{if(c instanceof Ig)return le(null);throw c}))),Do(a=>!!a),Ri(a=>{if(_I(a))return function iV(e,n,t){return 0===n.length&&!e.children[t]}(r,o,i)?le(new sV):Bi(r);throw a}))}processSegmentAgainstRoute(n,t,r,o,i,s,a){return function oV(e,n,t,r){return!!(Zn(e)===r||r!==ve&&Ml(n,t,e))&&Mg(n,e,t).matched}(r,o,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(n,o,r,i,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(n,o,t,r,i,s):Bi(o):Bi(o)}expandSegmentAgainstRouteUsingRedirect(n,t,r,o,i,s){const{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:l}=Mg(t,o,i);if(!a)return Bi(t);o.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const d=this.applyRedirects.applyRedirectCommands(c,o.redirectTo,u);return this.applyRedirects.lineralizeSegments(o,d).pipe(It(f=>this.processSegment(n,r,t,f.concat(l),s,!1)))}matchSegmentAgainstRoute(n,t,r,o,i){const s=ZB(t,r,o,n);return"**"===r.path&&(t.children={}),s.pipe(dn(a=>a.matched?this.getChildConfig(n=r._injector??n,r,o).pipe(dn(({routes:c})=>{const u=r._loadedInjector??n,{consumedSegments:l,remainingSegments:d,parameters:f}=a,p=new wg(l,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function fV(e){return e.data||{}}(r),Zn(r),r.component??r._loadedComponent??null,r,function hV(e){return e.resolve||{}}(r)),{segmentGroup:g,slicedSegments:w}=CI(t,l,d,c);if(0===w.length&&g.hasChildren())return this.processChildren(u,c,g).pipe(Ie(T=>null===T?null:new Tn(p,T)));if(0===c.length&&0===w.length)return le(new Tn(p,[]));const C=Zn(r)===i;return this.processSegment(u,c,g,w,C?ve:i,!0).pipe(Ie(T=>new Tn(p,T instanceof Tn?[T]:[])))})):Bi(t)))}getChildConfig(n,t,r){return t.children?le({routes:t.children,injector:n}):t.loadChildren?void 0!==t._loadedRoutes?le({routes:t._loadedRoutes,injector:t._loadedInjector}):function WB(e,n,t,r){const o=n.canLoad;return void 0===o||0===o.length?le(!0):le(o.map(s=>{const a=Ui(s,e);return Br(function PB(e){return e&&xa(e.canLoad)}(a)?a.canLoad(n,t):Pn(e,()=>a(n,t)))})).pipe($i(),bI())}(n,t,r).pipe(It(o=>o?this.configLoader.loadChildren(n,t).pipe(kt(i=>{t._loadedRoutes=i.routes,t._loadedInjector=i.injector})):function QB(e){return pl(vI(!1,nn.GuardRejected))}())):le({routes:[],injector:n})}}function dV(e){const n=e.value.routeConfig;return n&&""===n.path}function EI(e){const n=[],t=new Set;for(const r of e){if(!dV(r)){n.push(r);continue}const o=n.find(i=>r.value.routeConfig===i.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):n.push(r)}for(const r of t){const o=EI(r.children);n.push(new Tn(r.value,o))}return n.filter(r=>!t.has(r))}function II(e){const n=e.children.map(t=>II(t)).flat();return[e,...n]}function Ag(e){return dn(n=>{const t=e(n);return t?ht(t).pipe(Ie(()=>n)):le(n)})}let SI=(()=>{class e{buildTitle(t){let r,o=t.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===ve);return r}getResolvedTitleForRoute(t){return t.data[_a]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=z({token:e,factory:()=>N(wV),providedIn:"root"})}}return e})(),wV=(()=>{class e extends SI{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||e)(K(L2))}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Vi=new U("",{providedIn:"root",factory:()=>({})}),Hi=new U("");let Rg=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=N(hb)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return le(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Br(t.loadComponent()).pipe(Ie(TI),kt(i=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=i}),ma(()=>{this.componentLoaders.delete(t)})),o=new jE(r,()=>new rn).pipe(sg());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return le({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const i=function DV(e,n,t,r){return Br(e.loadChildren()).pipe(Ie(TI),It(o=>o instanceof _D||Array.isArray(o)?le(o):ht(n.compileModuleAsync(o))),Ie(o=>{r&&r(e);let i,s,a=!1;return Array.isArray(o)?(s=o,!0):(i=o.create(t).injector,s=i.get(Hi,[],{optional:!0,self:!0}).flat()),{routes:s.map(Eg),injector:i}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(ma(()=>{this.childrenLoaders.delete(r)})),s=new jE(i,()=>new rn).pipe(sg());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function TI(e){return function _V(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let Ng=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=z({token:e,factory:()=>N(bV),providedIn:"root"})}}return e})(),bV=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const MI=new U(""),AI=new U("");function CV(e,n,t){const r=e.get(AI),o=e.get(Ht);return e.get(Ne).runOutsideAngular(()=>{if(!o.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let i;const s=new Promise(u=>{i=u}),a=o.startViewTransition(()=>(i(),function EV(e){return new Promise(n=>{sh(n,{injector:e})})}(e))),{onViewTransitionCreated:c}=r;return c&&Pn(e,()=>c({transition:a,from:n,to:t})),s})}let Al=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new rn,this.transitionAbortSubject=new rn,this.configLoader=N(Rg),this.environmentInjector=N(At),this.urlSerializer=N(Oi),this.rootContexts=N(Ta),this.location=N(la),this.inputBindingEnabled=null!==N(Il,{optional:!0}),this.titleStrategy=N(SI),this.options=N(Vi,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=N(Ng),this.createViewTransition=N(MI,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>le(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new dB(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new lB(o))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,o){return this.transitions=new on({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Sa,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(yr(i=>0!==i.id),Ie(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),dn(i=>{let s=!1,a=!1;return le(i).pipe(dn(c=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",nn.SupersededByNewNavigation),Kn;this.currentTransition=i,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const u=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!u&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const d="";return this.events.next(new Li(c.id,this.urlSerializer.serialize(c.rawUrl),d,Cl.IgnoredSameUrlNavigation)),c.resolve(null),Kn}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return le(c).pipe(dn(d=>{const f=this.transitions?.getValue();return this.events.next(new bl(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),f!==this.transitions?.getValue()?Kn:Promise.resolve(d)}),function pV(e,n,t,r,o,i){return It(s=>function aV(e,n,t,r,o,i,s="emptyOnly"){return new uV(e,n,t,r,o,s,i).recognize()}(e,n,t,r,s.extractedUrl,o,i).pipe(Ie(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),kt(d=>{i.targetSnapshot=d.targetSnapshot,i.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects};const f=new iI(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:d,extractedUrl:f,source:p,restoredState:g,extras:w}=c,C=new bl(d,this.urlSerializer.serialize(f),p,g);this.events.next(C);const T=uI(this.rootComponentType).snapshot;return this.currentTransition=i={...c,targetSnapshot:T,urlAfterRedirects:f,extras:{...w,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=f,le(i)}{const d="";return this.events.next(new Li(c.id,this.urlSerializer.serialize(c.extractedUrl),d,Cl.IgnoredByUrlHandlingStrategy)),c.resolve(null),Kn}}),kt(c=>{const u=new sB(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Ie(c=>(this.currentTransition=i={...c,guards:AB(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},i)),function UB(e,n){return It(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=t;return 0===s.length&&0===i.length?le({...t,guardsResult:!0}):function $B(e,n,t,r){return ht(e).pipe(It(o=>function GB(e,n,t,r,o){const i=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return i&&0!==i.length?le(i.map(a=>{const c=Aa(n)??o,u=Ui(a,c);return Br(function FB(e){return e&&xa(e.canDeactivate)}(u)?u.canDeactivate(e,n,t,r):Pn(c,()=>u(e,n,t,r))).pipe(Do())})).pipe($i()):le(!0)}(o.component,o.route,t,n,r)),Do(o=>!0!==o,!0))}(s,r,o,e).pipe(It(a=>a&&function OB(e){return"boolean"==typeof e}(a)?function BB(e,n,t,r){return ht(n).pipe(Ti(o=>ig(function HB(e,n){return null!==e&&n&&n(new fB(e)),le(!0)}(o.route.parent,r),function VB(e,n){return null!==e&&n&&n(new pB(e)),le(!0)}(o.route,r),function qB(e,n,t){const r=n[n.length-1],i=n.slice(0,n.length-1).reverse().map(s=>function RB(e){const n=e.routeConfig?e.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:e,guards:n}:null}(s)).filter(s=>null!==s).map(s=>FE(()=>le(s.guards.map(c=>{const u=Aa(s.node)??t,l=Ui(c,u);return Br(function LB(e){return e&&xa(e.canActivateChild)}(l)?l.canActivateChild(r,e):Pn(u,()=>l(r,e))).pipe(Do())})).pipe($i())));return le(i).pipe($i())}(e,o.path,t),function zB(e,n,t){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return le(!0);const o=r.map(i=>FE(()=>{const s=Aa(n)??t,a=Ui(i,s);return Br(function kB(e){return e&&xa(e.canActivate)}(a)?a.canActivate(n,e):Pn(s,()=>a(n,e))).pipe(Do())}));return le(o).pipe($i())}(e,o.route,t))),Do(o=>!0!==o,!0))}(r,i,e,n):le(a)),Ie(a=>({...t,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),kt(c=>{if(i.guardsResult=c.guardsResult,Pi(c.guardsResult))throw mI(0,c.guardsResult);const u=new aB(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),yr(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",nn.GuardRejected),!1)),Ag(c=>{if(c.guards.canActivateChecks.length)return le(c).pipe(kt(u=>{const l=new cB(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),dn(u=>{let l=!1;return le(u).pipe(function gV(e,n){return It(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return le(t);const i=new Set(o.map(c=>c.route)),s=new Set;for(const c of i)if(!s.has(c))for(const u of II(c))s.add(u);let a=0;return ht(s).pipe(Ti(c=>i.has(c)?function mV(e,n,t,r){const o=e.routeConfig,i=e._resolve;return void 0!==o?.title&&!fI(o)&&(i[_a]=o.title),function vV(e,n,t,r){const o=cg(e);if(0===o.length)return le({});const i={};return ht(o).pipe(It(s=>function yV(e,n,t,r){const o=Aa(n)??r,i=Ui(e,o);return Br(i.resolve?i.resolve(n,t):Pn(o,()=>i(n,t)))}(e[s],n,t,r).pipe(Do(),kt(a=>{i[s]=a}))),ag(1),function R$(e){return Ie(()=>e)}(i),Ri(s=>_I(s)?Kn:pl(s)))}(i,e,n,r).pipe(Ie(s=>(e._resolvedData=s,e.data=yg(e,e.parent,t).resolve,null)))}(c,r,e,n):(c.data=yg(c,c.parent,e).resolve,le(void 0))),kt(()=>a++),ag(1),It(c=>a===s.size?le(t):Kn))})}(this.paramsInheritanceStrategy,this.environmentInjector),kt({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(u,"",nn.NoDataFromResolver)}}))}),kt(u=>{const l=new uB(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}))}),Ag(c=>{const u=l=>{const d=[];l.routeConfig?.loadComponent&&!l.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(l.routeConfig).pipe(kt(f=>{l.component=f}),Ie(()=>{})));for(const f of l.children)d.push(...u(f));return d};return og(u(c.targetSnapshot.root)).pipe(gl(null),Ai(1))}),Ag(()=>this.afterPreactivation()),dn(()=>{const{currentSnapshot:c,targetSnapshot:u}=i,l=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return l?ht(l).pipe(Ie(()=>i)):le(i)}),Ie(c=>{const u=function yB(e,n,t){const r=Ma(e,n._root,t?t._root:void 0);return new cI(r,n)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=i={...c,targetRouterState:u},this.currentNavigation.targetRouterState=u,i}),kt(()=>{this.events.next(new pg)}),((e,n,t,r)=>Ie(o=>(new MB(n,o.targetRouterState,o.currentRouterState,t,r).activate(e),o)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Ai(1),kt({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new wr(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),function N$(e){return gt((n,t)=>{mr(e).subscribe(dt(t,()=>t.complete(),ql)),!t.closed&&n.subscribe(t)})}(this.transitionAbortSubject.pipe(kt(c=>{throw c}))),ma(()=>{!s&&!a&&this.cancelNavigationTransition(i,"",nn.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ri(c=>{if(a=!0,yI(c))this.events.next(new ki(i.id,this.urlSerializer.serialize(i.extractedUrl),c.message,c.cancellationCode)),function _B(e){return yI(e)&&Pi(e.url)}(c)?this.events.next(new gg(c.url)):i.resolve(!1);else{this.events.next(new El(i.id,this.urlSerializer.serialize(i.extractedUrl),c,i.targetSnapshot??void 0));try{i.resolve(t.errorHandler(c))}catch(u){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(u)}}return Kn}))}))}cancelNavigationTransition(t,r,o){const i=new ki(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(i),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function IV(e){return e!==Sa}let SV=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=z({token:e,factory:()=>N(MV),providedIn:"root"})}}return e})();class TV{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}}let MV=(()=>{class e extends TV{static{this.\u0275fac=(()=>{let t;return function(o){return(t||(t=Yd(e)))(o||e)}})()}static{this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),RI=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=z({token:e,factory:()=>N(AV),providedIn:"root"})}}return e})(),AV=(()=>{class e extends RI{constructor(){super(...arguments),this.location=N(la),this.urlSerializer=N(Oi),this.options=N(Vi,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=N(Ng),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new xi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=uI(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{"popstate"===r.type&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof bl)this.stateMemento=this.createStateMemento();else if(t instanceof Li)this.rawUrlTree=r.initialUrl;else if(t instanceof iI){if("eager"===this.urlUpdateStrategy&&!r.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(o,r)}}else t instanceof pg?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):t instanceof ki&&(t.code===nn.GuardRejected||t.code===nn.NoDataFromResolver)?this.restoreHistory(r):t instanceof El?this.restoreHistory(r,!0):t instanceof wr&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(o,"",s)}else{const i={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(o,"",i)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-this.browserPageId;0!==i?this.location.historyGo(i):this.currentUrlTree===t.finalUrl&&0===i&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(o){return(t||(t=Yd(e)))(o||e)}})()}static{this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Oa=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Oa||{});function NI(e,n){e.events.pipe(yr(t=>t instanceof wr||t instanceof ki||t instanceof El||t instanceof Li),Ie(t=>t instanceof wr||t instanceof Li?Oa.COMPLETE:t instanceof ki&&(t.code===nn.Redirect||t.code===nn.SupersededByNewNavigation)?Oa.REDIRECTING:Oa.FAILED),yr(t=>t!==Oa.REDIRECTING),Ai(1)).subscribe(()=>{n()})}function RV(e){throw e}const NV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Mn=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=N(rb),this.stateManager=N(RI),this.options=N(Vi,{optional:!0})||{},this.pendingTasks=N(xr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=N(Al),this.urlSerializer=N(Oi),this.location=N(la),this.urlHandlingStrategy=N(Ng),this._events=new rn,this.errorHandler=this.options.errorHandler||RV,this.navigated=!1,this.routeReuseStrategy=N(SV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=N(Hi,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!N(Il,{optional:!0}),this.eventsSubscription=new Tt,this.isNgZoneEnabled=N(Ne)instanceof Ne&&Ne.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const o=this.navigationTransitions.currentTransition,i=this.navigationTransitions.currentNavigation;if(null!==o&&null!==i)if(this.stateManager.handleRouterEvent(r,i),r instanceof ki&&r.code!==nn.Redirect&&r.code!==nn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof wr)this.navigated=!0;else if(r instanceof gg){const s=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),a={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||IV(o.source)};this.scheduleNavigation(s,Sa,null,a,{resolve:o.resolve,reject:o.reject,promise:o.promise})}(function PV(e){return!(e instanceof pg||e instanceof gg)})(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Sa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,o){const i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){const c={...o};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(i.state=c)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Eg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s;let d,l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...i};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=i||null}null!==l&&(l=this.removeEmptyProps(l));try{d=ZE(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),d=this.currentUrlTree.root}return XE(d,t,l,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=Pi(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,Sa,null,r)}navigate(t,r={skipLocationChange:!1}){return function OV(e){for(let n=0;n<e.length;n++)if(null==e[n])throw new x(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let o;if(o=!0===r?{...NV}:!1===r?{...xV}:r,Pi(t))return HE(this.currentUrlTree,t,o);const i=this.parseUrl(t);return HE(this.currentUrlTree,i,o)}removeEmptyProps(t){return Object.entries(t).reduce((r,[o,i])=>(null!=i&&(r[o]=i),r),{})}scheduleNavigation(t,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((d,f)=>{a=d,c=f});const l=this.pendingTasks.add();return NI(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:i,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class xI{}let FV=(()=>{class e{constructor(t,r,o,i,s){this.router=t,this.injector=o,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(yr(t=>t instanceof wr),Ti(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const i of r){i.providers&&!i._injector&&(i._injector=hu(i.providers,t,`Route: ${i.path}`));const s=i._injector??t,a=i._loadedInjector??s;(i.loadChildren&&!i._loadedRoutes&&void 0===i.canLoad||i.loadComponent&&!i._loadedComponent)&&o.push(this.preloadConfig(s,i)),(i.children||i._loadedRoutes)&&o.push(this.processRoutes(a,i.children??i._loadedRoutes))}return ht(o).pipe(Da())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):le(null);const i=o.pipe(It(s=>null===s?le(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?ht([i,this.loader.loadComponent(r)]).pipe(Da()):i})}static{this.\u0275fac=function(r){return new(r||e)(K(Mn),K(hb),K(At),K(xI),K(Rg))}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const Og=new U("");let OI=(()=>{class e{constructor(t,r,o,i,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=o,this.zone=i,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=N(At),s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof bl?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof wr?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Li&&t.code===Cl.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof sI&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){var o=this;this.zone.runOutsideAngular(h(function*(){yield new Promise(i=>{setTimeout(()=>{i()}),sh(()=>{i()},{injector:o.environmentInjector})}),o.zone.run(()=>{o.transitions.events.next(new sI(t,"popstate"===o.lastSource?o.store[o.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){!function tw(){throw new Error("invalid")}()}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac})}}return e})();function Xn(e,n){return{\u0275kind:e,\u0275providers:n}}function kI(){const e=N(Ut);return n=>{const t=e.get(kr);if(n!==t.components[0])return;const r=e.get(Mn),o=e.get(LI);1===e.get(Pg)&&r.initialNavigation(),e.get(FI,null,De.Optional)?.setUpPreloading(),e.get(Og,null,De.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const LI=new U("",{factory:()=>new rn}),Pg=new U("",{providedIn:"root",factory:()=>1}),FI=new U("");function BV(e){return Xn(0,[{provide:FI,useExisting:FV},{provide:xI,useExisting:e}])}function HV(e){return Xn(9,[{provide:MI,useValue:CV},{provide:AI,useValue:{skipNextTransition:!!e?.skipInitialTransition,...e}}])}const jI=new U("ROUTER_FORROOT_GUARD"),zV=[la,{provide:Oi,useClass:ug},Mn,Ta,{provide:ji,useFactory:function PI(e){return e.routerState.root},deps:[Mn]},Rg,[]];let UI=(()=>{class e{constructor(t){}static forRoot(t,r){return{ngModule:e,providers:[zV,[],{provide:Hi,multi:!0,useValue:t},{provide:jI,useFactory:JV,deps:[[Mn,new nc,new rc]]},{provide:Vi,useValue:r||{}},r?.useHash?{provide:vo,useClass:gF}:{provide:vo,useClass:rC},{provide:Og,useFactory:()=>{const e=N(Lj),n=N(Ne),t=N(Vi),r=N(Al),o=N(Oi);return t.scrollOffset&&e.setOffset(t.scrollOffset),new OI(o,r,e,n,t)}},r?.preloadingStrategy?BV(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?KV(r):[],r?.bindToComponentInputs?Xn(8,[pI,{provide:Il,useExisting:pI}]).\u0275providers:[],r?.enableViewTransitions?HV().\u0275providers:[],[{provide:$I,useFactory:kI},{provide:lp,multi:!0,useExisting:$I}]]}}static forChild(t){return{ngModule:e,providers:[{provide:Hi,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||e)(K(jI,8))}}static{this.\u0275mod=or({type:e})}static{this.\u0275inj=xn({})}}return e})();function JV(e){return"guarded"}function KV(e){return["disabled"===e.initialNavigation?Xn(3,[{provide:cp,multi:!0,useFactory:()=>{const n=N(Mn);return()=>{n.setUpLocationChangeListener()}}},{provide:Pg,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Xn(2,[{provide:Pg,useValue:0},{provide:cp,multi:!0,deps:[Ut],useFactory:n=>{const t=n.get(hF,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const o=n.get(Mn),i=n.get(LI);NI(o,()=>{r(!0)}),n.get(Al).afterPreactivation=()=>(r(!0),i.closed?le(void 0):i),o.initialNavigation()}))}}]).\u0275providers:[]]}const $I=new U(""),YV=[];let ZV=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=or({type:e})}static{this.\u0275inj=xn({imports:[UI.forRoot(YV),UI]})}}return e})();class XV extends Tt{constructor(n,t){super()}schedule(n,t=0){return this}}const Rl={setInterval(e,n,...t){const{delegate:r}=Rl;return r?.setInterval?r.setInterval(e,n,...t):setInterval(e,n,...t)},clearInterval(e){const{delegate:n}=Rl;return(n?.clearInterval||clearInterval)(e)},delegate:void 0},BI={now:()=>(BI.delegate||Date).now(),delegate:void 0};class Pa{constructor(n,t=Pa.now){this.schedulerActionCtor=n,this.now=t}schedule(n,t=0,r){return new this.schedulerActionCtor(this,n).schedule(r,t)}}Pa.now=BI.now;const VI=new class tH extends Pa{constructor(n,t=Pa.now){super(n,t),this.actions=[],this._active=!1}flush(n){const{actions:t}=this;if(this._active)return void t.push(n);let r;this._active=!0;do{if(r=n.execute(n.state,n.delay))break}while(n=t.shift());if(this._active=!1,r){for(;n=t.shift();)n.unsubscribe();throw r}}}(class eH extends XV{constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){var r;if(this.closed)return this;this.state=n;const o=this.id,i=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(i,o,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(i,this.id,t),this}requestAsyncId(n,t,r=0){return Rl.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Rl.clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(n,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let o,r=!1;try{this.work(n)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:n,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,qa(r,this),null!=n&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null,super.unsubscribe()}}}),nH=VI;class kg extends Error{constructor(n,t="FunctionsError",r){super(n),this.name=t,this.context=r}}class aH extends kg{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class cH extends kg{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class uH extends kg{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var HI=function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e}(HI||{});class dH{constructor(n,{headers:t={},customFetch:r,region:o=HI.Any}={}){this.url=n,this.headers=t,this.region=o,this.fetch=(e=>{let n;return n=e||(typeof fetch>"u"?(...t)=>Promise.resolve().then(S.bind(S,286)).then(({default:r})=>r(...t)):fetch),(...t)=>n(...t)})(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,t={}){var r;return function(e,n,t,r){return new(t||(t=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):function o(i){return i instanceof t?i:new t(function(s){s(i)})}(l.value).then(a,c)}u((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{const{headers:o,method:i,body:s}=t;let u,a={},{region:c}=t;c||(c=this.region),c&&"any"!==c&&(a["x-region"]=c),s&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=s):"string"==typeof s?(a["Content-Type"]="text/plain",u=s):typeof FormData<"u"&&s instanceof FormData?u=s:(a["Content-Type"]="application/json",u=JSON.stringify(s)));const l=yield this.fetch(`${this.url}/${n}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),o),body:u}).catch(g=>{throw new aH(g)}),d=l.headers.get("x-relay-error");if(d&&"true"===d)throw new cH(l);if(!l.ok)throw new uH(l);let p,f=(null!==(r=l.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return p="application/json"===f?yield l.json():"application/octet-stream"===f?yield l.blob():"text/event-stream"===f?l:"multipart/form-data"===f?yield l.formData():yield l.text(),{data:p,error:null}}catch(o){return{data:null,error:o}}})}}var fH=S(60);const{PostgrestClient:zI}=fH;let Lg;Lg=typeof window>"u"?S(806):window.WebSocket;const yH=Lg,wH={"X-Client-Info":"realtime-js/2.11.10"};var ka=function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e}(ka||{}),zt=function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e}(zt||{}),er=function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e}(er||{}),GI=function(e){return e.websocket="websocket",e}(GI||{}),zi=function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e}(zi||{});class bH{constructor(){this.HEADER_LENGTH=1}decode(n,t){return n.constructor===ArrayBuffer?t(this._binaryDecode(n)):t("string"==typeof n?JSON.parse(n):{})}_binaryDecode(n){const t=new DataView(n),r=new TextDecoder;return this._decodeBroadcast(n,t,r)}_decodeBroadcast(n,t,r){const o=t.getUint8(1),i=t.getUint8(2);let s=this.HEADER_LENGTH+2;const a=r.decode(n.slice(s,s+o));s+=o;const c=r.decode(n.slice(s,s+i));return s+=i,{ref:null,topic:a,event:c,payload:JSON.parse(r.decode(n.slice(s,n.byteLength)))}}}class WI{constructor(n,t){this.callback=n,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ge=function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e}(Ge||{});const JI=(e,n,t={})=>{var r;const o=null!==(r=t.skipTypes)&&void 0!==r?r:[];return Object.keys(n).reduce((i,s)=>(i[s]=CH(s,e,n,o),i),{})},CH=(e,n,t,r)=>{const o=n.find(a=>a.name===e),i=o?.type,s=t[e];return i&&!r.includes(i)?KI(i,s):Fg(s)},KI=(e,n)=>{if("_"===e.charAt(0)){const t=e.slice(1,e.length);return TH(n,t)}switch(e){case Ge.bool:return EH(n);case Ge.float4:case Ge.float8:case Ge.int2:case Ge.int4:case Ge.int8:case Ge.numeric:case Ge.oid:return IH(n);case Ge.json:case Ge.jsonb:return SH(n);case Ge.timestamp:return MH(n);default:return Fg(n)}},Fg=e=>e,EH=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},IH=e=>{if("string"==typeof e){const n=parseFloat(e);if(!Number.isNaN(n))return n}return e},SH=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(n){return console.log(`JSON parse error: ${n}`),e}return e},TH=(e,n)=>{if("string"!=typeof e)return e;const t=e.length-1;if("{"===e[0]&&"}"===e[t]){let i;const s=e.slice(1,t);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(a=>KI(n,a))}return e},MH=e=>"string"==typeof e?e.replace(" ","T"):e,QI=e=>{let n=e;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")};class jg{constructor(n,t,r={},o=1e4){this.channel=n,this.event=t,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,t){var r;return this._hasReceived(n)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:n,callback:t}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref),this.channel._on(this.refEvent,{},t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(n,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:t}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(t))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}class La{constructor(n,t){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:i,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=La.syncState(this.state,o,i,s),this.pendingDiffs.forEach(c=>{this.state=La.syncDiff(this.state,c,i,s)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},o=>{const{onJoin:i,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=La.syncDiff(this.state,o,i,s),a())}),this.onJoin((o,i,s)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:s})}),this.onLeave((o,i,s)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,t,r,o){const i=this.cloneDeep(n),s=this.transformState(t),a={},c={};return this.map(i,(u,l)=>{s[u]||(c[u]=l)}),this.map(s,(u,l)=>{const d=i[u];if(d){const f=l.map(C=>C.presence_ref),p=d.map(C=>C.presence_ref),g=l.filter(C=>p.indexOf(C.presence_ref)<0),w=d.filter(C=>f.indexOf(C.presence_ref)<0);g.length>0&&(a[u]=g),w.length>0&&(c[u]=w)}else a[u]=l}),this.syncDiff(i,{joins:a,leaves:c},r,o)}static syncDiff(n,t,r,o){const{joins:i,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(i,(a,c)=>{var u;const l=null!==(u=n[a])&&void 0!==u?u:[];if(n[a]=this.cloneDeep(c),l.length>0){const d=n[a].map(p=>p.presence_ref),f=l.filter(p=>d.indexOf(p.presence_ref)<0);n[a].unshift(...f)}r(a,l,c)}),this.map(s,(a,c)=>{let u=n[a];if(!u)return;const l=c.map(d=>d.presence_ref);u=u.filter(d=>l.indexOf(d.presence_ref)<0),n[a]=u,o(a,u,c),0===u.length&&delete n[a]}),n}static map(n,t){return Object.getOwnPropertyNames(n).map(r=>t(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((t,r)=>{const o=n[r];return t[r]="metas"in o?o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):o,t},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Vr=function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e}(Vr||{});class Ug{constructor(n,t={config:{}},r){this.topic=n,this.params=t,this.socket=r,this.bindings={},this.state=zt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new jg(this,er.join,this.params,this.timeout),this.rejoinTimer=new WI(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=zt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=zt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=zt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=zt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(er.reply,{},(o,i)=>{this._trigger(this._replyEventName(i),o)}),this.presence=new La(this),this.broadcastEndpointURL=QI(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(n,t=this.timeout){var o,i,r=this;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:a,private:c}}=this.params;this._onError(d=>n?.(Vr.CHANNEL_ERROR,d)),this._onClose(()=>n?.(Vr.CLOSED));const u={},l={broadcast:s,presence:a,postgres_changes:null!==(i=null===(o=this.bindings.postgres_changes)||void 0===o?void 0:o.map(d=>d.filter))&&void 0!==i?i:[],private:c};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},u)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",function(){var d=h(function*({postgres_changes:f}){var p;if(r.socket.setAuth(),void 0!==f){const g=r.bindings.postgres_changes,w=null!==(p=g?.length)&&void 0!==p?p:0,C=[];for(let T=0;T<w;T++){const M=g[T],{filter:{event:O,schema:V,table:k,filter:te}}=M,xe=f&&f[T];if(!xe||xe.event!==O||xe.schema!==V||xe.table!==k||xe.filter!==te)return r.unsubscribe(),r.state=zt.errored,void n?.(Vr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));C.push(Object.assign(Object.assign({},M),{id:xe.id}))}return r.bindings.postgres_changes=C,void(n&&n(Vr.SUBSCRIBED))}n?.(Vr.SUBSCRIBED)});return function(f){return d.apply(this,arguments)}}()).receive("error",d=>{this.state=zt.errored,n?.(Vr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{n?.(Vr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(n){var t=this;return h(function*(r,o={}){return yield t.send({type:"presence",event:"track",payload:r},o.timeout||t.timeout)}).apply(this,arguments)}untrack(){var n=this;return h(function*(t={}){return yield n.send({type:"presence",event:"untrack"},t)}).apply(this,arguments)}on(n,t,r){return this._on(n,t,r)}send(n){var t=this;return h(function*(r,o={}){var i,s;if(t._canPush()||"broadcast"!==r.type)return new Promise(a=>{var c,u,l;const d=t._push(r.type,r,o.timeout||t.timeout);"broadcast"===r.type&&!(null!==(l=null===(u=null===(c=t.params)||void 0===c?void 0:c.config)||void 0===u?void 0:u.broadcast)&&void 0!==l&&l.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))});{const{event:a,payload:c}=r,l={method:"POST",headers:{Authorization:t.socket.accessTokenValue?`Bearer ${t.socket.accessTokenValue}`:"",apikey:t.socket.apiKey?t.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:t.subTopic,event:a,payload:c,private:t.private}]})};try{const d=yield t._fetchWithTimeout(t.broadcastEndpointURL,l,null!==(i=o.timeout)&&void 0!==i?i:t.timeout);return yield null===(s=d.body)||void 0===s?void 0:s.cancel(),d.ok?"ok":"error"}catch(d){return"AbortError"===d.name?"timed out":"error"}}}).apply(this,arguments)}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=zt.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(er.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const o=new jg(this,er.leave,{},n);o.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),o.send(),this._canPush()||o.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}_fetchWithTimeout(n,t,r){var o=this;return h(function*(){const i=new AbortController,s=setTimeout(()=>i.abort(),r),a=yield o.socket.fetch(n,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(s),a})()}_push(n,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new jg(this,n,t,r);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(n,t,r){return t}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,t,r){var o,i;const s=n.toLocaleLowerCase(),{close:a,error:c,leave:u,join:l}=er;if(r&&[a,c,u,l].indexOf(s)>=0&&r!==this._joinRef())return;let f=this._onMessage(s,t,r);if(t&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?null===(o=this.bindings.postgres_changes)||void 0===o||o.filter(p=>{var g,w,C;return"*"===(null===(g=p.filter)||void 0===g?void 0:g.event)||(null===(C=null===(w=p.filter)||void 0===w?void 0:w.event)||void 0===C?void 0:C.toLocaleLowerCase())===s}).map(p=>p.callback(f,r)):null===(i=this.bindings[s])||void 0===i||i.filter(p=>{var g,w,C,T,M,O;if(["broadcast","presence","postgres_changes"].includes(s)){if("id"in p){const V=p.id,k=null===(g=p.filter)||void 0===g?void 0:g.event;return V&&(null===(w=t.ids)||void 0===w?void 0:w.includes(V))&&("*"===k||k?.toLocaleLowerCase()===(null===(C=t.data)||void 0===C?void 0:C.type.toLocaleLowerCase()))}{const V=null===(M=null===(T=p?.filter)||void 0===T?void 0:T.event)||void 0===M?void 0:M.toLocaleLowerCase();return"*"===V||V===(null===(O=t?.event)||void 0===O?void 0:O.toLocaleLowerCase())}}return p.type.toLocaleLowerCase()===s}).map(p=>{if("object"==typeof f&&"ids"in f){const g=f.data,{schema:w,table:C,commit_timestamp:T,type:M,errors:O}=g;f=Object.assign(Object.assign({},{schema:w,table:C,commit_timestamp:T,eventType:M,new:{},old:{},errors:O}),this._getPayloadRecords(g))}p.callback(f,r)})}_isClosed(){return this.state===zt.closed}_isJoined(){return this.state===zt.joined}_isJoining(){return this.state===zt.joining}_isLeaving(){return this.state===zt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,t,r){const o=n.toLocaleLowerCase(),i={type:o,filter:t,callback:r};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(n,t){const r=n.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(o=>{var i;return!((null===(i=o.type)||void 0===i?void 0:i.toLocaleLowerCase())===r&&Ug.isEqual(o.filter,t))}),this}static isEqual(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(const r in n)if(n[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(er.close,{},n)}_onError(n){this._on(er.error,{},t=>n(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=zt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const t={new:{},old:{}};return("INSERT"===n.type||"UPDATE"===n.type)&&(t.new=JI(n.columns,n.record)),("UPDATE"===n.type||"DELETE"===n.type)&&(t.old=JI(n.columns,n.old_record)),t}}const YI=()=>{};class OH{constructor(n,t){var o,r=this;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=wH,this.params={},this.timeout=1e4,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=YI,this.ref=0,this.logger=YI,this.conn=null,this.sendBuffer=[],this.serializer=new bH,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let a;return a=s||(typeof fetch>"u"?(...c)=>Promise.resolve().then(S.bind(S,286)).then(({default:u})=>u(...c)):fetch),(...c)=>a(...c)},this.endPoint=`${n}/${GI.websocket}`,this.httpEndpoint=QI(n),this.transport=t?.transport?t.transport:null,t?.params&&(this.params=t.params),t?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t?.timeout&&(this.timeout=t.timeout),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),t?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const i=null===(o=t?.params)||void 0===o?void 0:o.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=t?.reconnectAfterMs?t.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=t?.encode?t.encode:(s,a)=>a(JSON.stringify(s)),this.decode=t?.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new WI(h(function*(){r.disconnect(),r.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(t?.fetch),t?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=t?.worker||!1,this.workerUrl=t?.workerUrl}this.accessToken=t?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=yH),this.transport)return this.conn=typeof window<"u"&&this.transport===window.WebSocket?new this.transport(this.endpointURL()):new this.transport(this.endpointURL(),void 0,{headers:this.headers}),void this.setupConnection();this.conn=new PH(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(n,t){this.conn&&(this.conn.onclose=function(){},n?this.conn.close(n,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}removeChannel(n){var t=this;return h(function*(){const r=yield n.unsubscribe();return t.channels=t.channels.filter(o=>o._joinRef!==n._joinRef),0===t.channels.length&&t.disconnect(),r})()}removeAllChannels(){var n=this;return h(function*(){const t=yield Promise.all(n.channels.map(r=>r.unsubscribe()));return n.channels=[],n.disconnect(),t})()}log(n,t,r){this.logger(n,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ka.connecting:return zi.Connecting;case ka.open:return zi.Open;case ka.closing:return zi.Closing;default:return zi.Closed}}isConnected(){return this.connectionState()===zi.Open}channel(n,t={config:{}}){const r=`realtime:${n}`,o=this.getChannels().find(i=>i.topic===r);if(o)return o;{const i=new Ug(`realtime:${n}`,t,this);return this.channels.push(i),i}}push(n){const{topic:t,event:r,payload:o,ref:i}=n,s=()=>{this.encode(n,a=>{var c;null===(c=this.conn)||void 0===c||c.send(a)})};this.log("push",`${t} ${r} (${i})`,o),this.isConnected()?s():this.sendBuffer.push(s)}setAuth(){var n=this;return h(function*(t=null){let r=t||n.accessToken&&(yield n.accessToken())||n.accessTokenValue;n.accessTokenValue!=r&&(n.accessTokenValue=r,n.channels.forEach(o=>{r&&o.updateJoinPayload({access_token:r,version:n.headers&&n.headers["X-Client-Info"]}),o.joinedOnce&&o._isJoined()&&o._push(er.access_token,{access_token:r})}))}).apply(this,arguments)}sendHeartbeat(){var n=this;return h(function*(){var t;if(n.isConnected())return n.pendingHeartbeatRef?(n.pendingHeartbeatRef=null,n.log("transport","heartbeat timeout. Attempting to re-establish connection"),n.heartbeatCallback("timeout"),void(null===(t=n.conn)||void 0===t||t.close(1e3,"hearbeat timeout"))):(n.pendingHeartbeatRef=n._makeRef(),n.push({topic:"phoenix",event:"heartbeat",payload:{},ref:n.pendingHeartbeatRef}),n.heartbeatCallback("sent"),void(yield n.setAuth()));n.heartbeatCallback("disconnected")})()}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return this.ref=n===this.ref?0:n,this.ref.toString()}_leaveOpenTopic(n){let t=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${n}"`),t.unsubscribe())}_remove(n){this.channels=this.channels.filter(t=>t.topic!==n.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_onConnMessage(n){this.decode(n.data,t=>{let{topic:r,event:o,payload:i,ref:s}=t;"phoenix"===r&&"phx_reply"===o&&this.heartbeatCallback("ok"==t.payload.status?"ok":"error"),s&&s===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${o} ${s&&"("+s+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(o,i,s)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker){this.log("worker",this.workerUrl?`starting worker for from ${this.workerUrl}`:"starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{"keepAlive"===t.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}else this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);this.stateChangeCallbacks.open.forEach(n=>n())}_onConnClose(n){this.log("transport","close",n),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(n))}_onConnError(n){this.log("transport",n.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(n))}_triggerChanError(){this.channels.forEach(n=>n._trigger(er.error))}_appendParams(n,t){if(0===Object.keys(t).length)return n;const r=n.match(/\?/)?"&":"?";return`${n}${r}${new URLSearchParams(t)}`}_workerObjectUrl(n){let t;if(n)t=n;else{const r=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}}class PH{constructor(n,t,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=ka.connecting,this.send=()=>{},this.url=null,this.url=n,this.close=r.close}}class $g extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function pt(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}class kH extends $g{constructor(n,t){super(n),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Bg extends $g{constructor(n,t){super(n),this.name="StorageUnknownError",this.originalError=t}}const ZI=e=>{let n;return n=e||(typeof fetch>"u"?(...t)=>Promise.resolve().then(S.bind(S,286)).then(({default:r})=>r(...t)):fetch),(...t)=>n(...t)},Vg=e=>{if(Array.isArray(e))return e.map(t=>Vg(t));if("function"==typeof e||e!==Object(e))return e;const n={};return Object.entries(e).forEach(([t,r])=>{const o=t.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));n[o]=Vg(r)}),n};var bo=function(e,n,t,r){return new(t||(t=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):function o(i){return i instanceof t?i:new t(function(s){s(i)})}(l.value).then(a,c)}u((r=r.apply(e,n||[])).next())})};const Hg=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),jH=(e,n,t)=>bo(void 0,void 0,void 0,function*(){const r=yield function(e,n,t,r){return new(t||(t=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):function o(i){return i instanceof t?i:new t(function(s){s(i)})}(l.value).then(a,c)}u((r=r.apply(e,n||[])).next())})}(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Promise.resolve().then(S.bind(S,286))).Response:Response});e instanceof r&&!t?.noResolveJson?e.json().then(o=>{n(new kH(Hg(o),e.status||500))}).catch(o=>{n(new Bg(Hg(o),o))}):n(new Bg(Hg(e),e))}),UH=(e,n,t,r)=>{const o={method:e,headers:n?.headers||{}};return"GET"===e?o:(o.headers=Object.assign({"Content-Type":"application/json"},n?.headers),r&&(o.body=JSON.stringify(r)),Object.assign(Object.assign({},o),t))};function Fa(e,n,t,r,o,i){return bo(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(t,UH(n,r,o,i)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>s(c)).catch(c=>jH(c,a,r))})})}function Nl(e,n,t,r){return bo(this,void 0,void 0,function*(){return Fa(e,"GET",n,t,r)})}function Hr(e,n,t,r,o){return bo(this,void 0,void 0,function*(){return Fa(e,"POST",n,r,o,t)})}function $H(e,n,t,r,o){return bo(this,void 0,void 0,function*(){return Fa(e,"PUT",n,r,o,t)})}function XI(e,n,t,r,o){return bo(this,void 0,void 0,function*(){return Fa(e,"DELETE",n,r,o,t)})}var qt=function(e,n,t,r){return new(t||(t=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):function o(i){return i instanceof t?i:new t(function(s){s(i)})}(l.value).then(a,c)}u((r=r.apply(e,n||[])).next())})};const VH={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},eS={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class HH{constructor(n,t={},r,o){this.url=n,this.headers=t,this.bucketId=r,this.fetch=ZI(o)}uploadOrUpdate(n,t,r,o){return qt(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},eS),o);let a=Object.assign(Object.assign({},this.headers),"POST"===n&&{"x-upsert":String(s.upsert)});const c=s.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",s.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),o?.headers&&(a=Object.assign(Object.assign({},a),o.headers));const u=this._removeEmptyFolders(t),l=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${l}`,Object.assign({method:n,body:i,headers:a},s?.duplex?{duplex:s.duplex}:{})),f=yield d.json();return d.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(pt(i))return{data:null,error:i};throw i}})}upload(n,t,r){return qt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,t,r)})}uploadToSignedUrl(n,t,r,o){return qt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(n),s=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",t);try{let c;const u=Object.assign({upsert:eS.upsert},o),l=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,l["cache-control"]=`max-age=${u.cacheControl}`,l["content-type"]=u.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:l}),f=yield d.json();return d.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if(pt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(n,t){return qt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(n);const o=Object.assign({},this.headers);t?.upsert&&(o["x-upsert"]="true");const i=yield Hr(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),s=new URL(this.url+i.url),a=s.searchParams.get("token");if(!a)throw new $g("No token returned by API");return{data:{signedUrl:s.toString(),path:n,token:a},error:null}}catch(r){if(pt(r))return{data:null,error:r};throw r}})}update(n,t,r){return qt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,t,r)})}move(n,t,r){return qt(this,void 0,void 0,function*(){try{return{data:yield Hr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(pt(o))return{data:null,error:o};throw o}})}copy(n,t,r){return qt(this,void 0,void 0,function*(){try{return{data:{path:(yield Hr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(pt(o))return{data:null,error:o};throw o}})}createSignedUrl(n,t,r){return qt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(n),i=yield Hr(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const s=r?.download?`&download=${!0===r.download?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(o){if(pt(o))return{data:null,error:o};throw o}})}createSignedUrls(n,t,r){return qt(this,void 0,void 0,function*(){try{const o=yield Hr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:n},{headers:this.headers}),i=r?.download?`&download=${!0===r.download?"":r.download}`:"";return{data:o.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(o){if(pt(o))return{data:null,error:o};throw o}})}download(n,t){return qt(this,void 0,void 0,function*(){const o=typeof t?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(t?.transform||{}),s=i?`?${i}`:"";try{const a=this._getFinalPath(n);return{data:yield(yield Nl(this.fetch,`${this.url}/${o}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(pt(a))return{data:null,error:a};throw a}})}info(n){return qt(this,void 0,void 0,function*(){const t=this._getFinalPath(n);try{const r=yield Nl(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Vg(r),error:null}}catch(r){if(pt(r))return{data:null,error:r};throw r}})}exists(n){return qt(this,void 0,void 0,function*(){const t=this._getFinalPath(n);try{return yield function BH(e,n,t,r){return bo(this,void 0,void 0,function*(){return Fa(e,"HEAD",n,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(pt(r)&&r instanceof Bg){const o=r.originalError;if([400,404].includes(o?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(n,t){const r=this._getFinalPath(n),o=[],i=t?.download?`download=${!0===t.download?"":t.download}`:"";""!==i&&o.push(i);const a=typeof t?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(t?.transform||{});""!==c&&o.push(c);let u=o.join("&");return""!==u&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(n){return qt(this,void 0,void 0,function*(){try{return{data:yield XI(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(t){if(pt(t))return{data:null,error:t};throw t}})}list(n,t,r){return qt(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},VH),t),{prefix:n||""});return{data:yield Hr(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(pt(o))return{data:null,error:o};throw o}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const t=[];return n.width&&t.push(`width=${n.width}`),n.height&&t.push(`height=${n.height}`),n.resize&&t.push(`resize=${n.resize}`),n.format&&t.push(`format=${n.format}`),n.quality&&t.push(`quality=${n.quality}`),t.join("&")}}const zH={"X-Client-Info":"storage-js/2.7.1"};var qi=function(e,n,t,r){return new(t||(t=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):function o(i){return i instanceof t?i:new t(function(s){s(i)})}(l.value).then(a,c)}u((r=r.apply(e,n||[])).next())})};class qH{constructor(n,t={},r){this.url=n,this.headers=Object.assign(Object.assign({},zH),t),this.fetch=ZI(r)}listBuckets(){return qi(this,void 0,void 0,function*(){try{return{data:yield Nl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(pt(n))return{data:null,error:n};throw n}})}getBucket(n){return qi(this,void 0,void 0,function*(){try{return{data:yield Nl(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(t){if(pt(t))return{data:null,error:t};throw t}})}createBucket(n,t={public:!1}){return qi(this,void 0,void 0,function*(){try{return{data:yield Hr(this.fetch,`${this.url}/bucket`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(pt(r))return{data:null,error:r};throw r}})}updateBucket(n,t){return qi(this,void 0,void 0,function*(){try{return{data:yield $H(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(pt(r))return{data:null,error:r};throw r}})}emptyBucket(n){return qi(this,void 0,void 0,function*(){try{return{data:yield Hr(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(pt(t))return{data:null,error:t};throw t}})}deleteBucket(n){return qi(this,void 0,void 0,function*(){try{return{data:yield XI(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(t){if(pt(t))return{data:null,error:t};throw t}})}}class GH extends qH{constructor(n,t={},r){super(n,t,r)}from(n){return new HH(this.url,this.headers,n,this.fetch)}}let ja="";ja=typeof Deno<"u"?"deno":typeof document<"u"?"web":typeof navigator<"u"&&"ReactNative"===navigator.product?"react-native":"node";const JH={headers:{"X-Client-Info":`supabase-js-${ja}/2.50.0`}},KH={schema:"public"},QH={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},YH={};var tS=S(286);const t8=(e,n,t)=>{const r=(e=>{let n;return n=e||(typeof fetch>"u"?tS.default:fetch),(...t)=>n(...t)})(t),o=typeof Headers>"u"?tS.Headers:Headers;return(i,s)=>function(e,n,t,r){return new(t||(t=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):function o(i){return i instanceof t?i:new t(function(s){s(i)})}(l.value).then(a,c)}u((r=r.apply(e,n||[])).next())})}(void 0,void 0,void 0,function*(){var a;const c=null!==(a=yield n())&&void 0!==a?a:e;let u=new o(s?.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},s),{headers:u}))})};const Gi=3e4,Gg="X-Supabase-Api-Version",rS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},c8=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class Wg extends Error{constructor(n,t,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function pe(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class l8 extends Wg{constructor(n,t,r){super(n,t,r),this.name="AuthApiError",this.status=t,this.code=r}}class oS extends Wg{constructor(n,t){super(n),this.name="AuthUnknownError",this.originalError=t}}class zr extends Wg{constructor(n,t,r,o){super(n,r,o),this.name=t,this.status=r}}class qr extends zr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class xl extends zr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ol extends zr{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class Pl extends zr{constructor(n,t=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class iS extends zr{constructor(n,t=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Jg extends zr{constructor(n,t){super(n,"AuthRetryableFetchError",t,void 0)}}function Kg(e){return pe(e)&&"AuthRetryableFetchError"===e.name}class sS extends zr{constructor(n,t,r){super(n,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class Ua extends zr{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const kl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),aS=" \t\n\r=".split(""),p8=(()=>{const e=new Array(128);for(let n=0;n<e.length;n+=1)e[n]=-1;for(let n=0;n<aS.length;n+=1)e[aS[n].charCodeAt(0)]=-2;for(let n=0;n<kl.length;n+=1)e[kl[n].charCodeAt(0)]=n;return e})();function Ll(e,n,t){if(null!==e)for(n.queue=n.queue<<8|e,n.queuedBits+=8;n.queuedBits>=6;)t(kl[n.queue>>n.queuedBits-6&63]),n.queuedBits-=6;else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;)t(kl[n.queue>>n.queuedBits-6&63]),n.queuedBits-=6}function cS(e,n,t){const r=p8[e];if(!(r>-1)){if(-2===r)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}for(n.queue=n.queue<<6|r,n.queuedBits+=6;n.queuedBits>=8;)t(n.queue>>n.queuedBits-8&255),n.queuedBits-=8}function uS(e){const n=[],t=s=>{n.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=s=>{!function m8(e,n,t){if(0===n.utf8seq){if(e<=127)return void t(e);for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){n.utf8seq=r;break}if(2===n.utf8seq)n.codepoint=31&e;else if(3===n.utf8seq)n.codepoint=15&e;else{if(4!==n.utf8seq)throw new Error("Invalid UTF-8 sequence");n.codepoint=7&e}n.utf8seq-=1}else if(n.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|63&e,n.utf8seq-=1,0===n.utf8seq&&t(n.codepoint)}}(s,r,t)};for(let s=0;s<e.length;s+=1)cS(e.charCodeAt(s),o,i);return n.join("")}function g8(e,n){if(!(e<=127)){if(e<=2047)return n(192|e>>6),void n(128|63&e);if(e<=65535)return n(224|e>>12),n(128|e>>6&63),void n(128|63&e);if(e<=1114111)return n(240|e>>18),n(128|e>>12&63),n(128|e>>6&63),void n(128|63&e);throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}n(e)}function v8(e){const n=[],t={queue:0,queuedBits:0},r=o=>{n.push(o)};for(let o=0;o<e.length;o+=1)cS(e.charCodeAt(o),t,r);return new Uint8Array(n)}function w8(e){const n=[],t={queue:0,queuedBits:0},r=o=>{n.push(o)};return e.forEach(o=>Ll(o,t,r)),Ll(null,t,r),n.join("")}const An=()=>typeof window<"u"&&typeof document<"u",Co={tested:!1,writable:!1},$a=()=>{if(!An())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch{return!1}if(Co.tested)return Co.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Co.tested=!0,Co.writable=!0}catch{Co.tested=!0,Co.writable=!1}return Co.writable},dS=e=>{let n;return n=e||(typeof fetch>"u"?(...t)=>Promise.resolve().then(S.bind(S,286)).then(({default:r})=>r(...t)):fetch),(...t)=>n(...t)},C8=e=>"object"==typeof e&&null!==e&&"status"in e&&"ok"in e&&"json"in e&&"function"==typeof e.json,fS=function(){var e=h(function*(n,t,r){yield n.setItem(t,JSON.stringify(r))});return function(t,r,o){return e.apply(this,arguments)}}(),Fl=function(){var e=h(function*(n,t){const r=yield n.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}});return function(t,r){return e.apply(this,arguments)}}(),jl=function(){var e=h(function*(n,t){yield n.removeItem(t)});return function(t,r){return e.apply(this,arguments)}}();class Ul{constructor(){this.promise=new Ul.promiseConstructor((n,t)=>{this.resolve=n,this.reject=t})}}function Qg(e){const n=e.split(".");if(3!==n.length)throw new Ua("Invalid JWT structure");for(let r=0;r<n.length;r++)if(!c8.test(n[r]))throw new Ua("JWT not in base64url format");return{header:JSON.parse(uS(n[0])),payload:JSON.parse(uS(n[1])),signature:v8(n[2]),raw:{header:n[0],payload:n[1]}}}function Yg(){return(Yg=h(function*(e){return yield new Promise(n=>{setTimeout(()=>n(null),e)})})).apply(this,arguments)}function S8(e){return("0"+e.toString(16)).substr(-2)}function Zg(){return(Zg=h(function*(e){const t=(new TextEncoder).encode(e),r=yield crypto.subtle.digest("SHA-256",t),o=new Uint8Array(r);return Array.from(o).map(i=>String.fromCharCode(i)).join("")})).apply(this,arguments)}function Xg(){return Xg=h(function*(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=yield function M8(e){return Zg.apply(this,arguments)}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}),Xg.apply(this,arguments)}function Wi(e,n){return em.apply(this,arguments)}function em(){return em=h(function*(e,n,t=!1){const r=function T8(){const n=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let o="";for(let i=0;i<56;i++)o+=t.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(n),Array.from(n,S8).join("")}();let o=r;t&&(o+="/PASSWORD_RECOVERY"),yield fS(e,`${n}-code-verifier`,o);const i=yield function A8(e){return Xg.apply(this,arguments)}(r);return[i,r===i?"plain":"s256"]}),em.apply(this,arguments)}Ul.promiseConstructor=Promise;const R8=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i,P8=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ji(e){if(!P8.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}const Eo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),L8=[502,503,504];function hS(e){return tm.apply(this,arguments)}function tm(){return(tm=h(function*(e){var n;if(!C8(e))throw new Jg(Eo(e),0);if(L8.includes(e.status))throw new Jg(Eo(e),e.status);let t,r;try{t=yield e.json()}catch(i){throw new oS(Eo(i),i)}const o=function N8(e){const n=e.headers.get(Gg);if(!n||!n.match(R8))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}(e);if(o&&o.getTime()>=rS["2024-01-01"].timestamp&&"object"==typeof t&&t&&"string"==typeof t.code?r=t.code:"object"==typeof t&&t&&"string"==typeof t.error_code&&(r=t.error_code),r){if("weak_password"===r)throw new sS(Eo(t),e.status,(null===(n=t.weak_password)||void 0===n?void 0:n.reasons)||[]);if("session_not_found"===r)throw new qr}else if("object"==typeof t&&t&&"object"==typeof t.weak_password&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((i,s)=>i&&"string"==typeof s,!0))throw new sS(Eo(t),e.status,t.weak_password.reasons);throw new l8(Eo(t),e.status||500,r)})).apply(this,arguments)}const F8=(e,n,t,r)=>{const o={method:e,headers:n?.headers||{}};return"GET"===e?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),t))};function be(e,n,t,r){return nm.apply(this,arguments)}function nm(){return nm=h(function*(e,n,t,r){var o;const i=Object.assign({},r?.headers);i[Gg]||(i[Gg]=rS["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const s=null!==(o=r?.query)&&void 0!==o?o:{};r?.redirectTo&&(s.redirect_to=r.redirectTo);const a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",c=yield function j8(e,n,t,r,o,i){return rm.apply(this,arguments)}(e,n,t+a,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}}),nm.apply(this,arguments)}function rm(){return(rm=h(function*(e,n,t,r,o,i){const s=F8(n,r,o,i);let a;try{a=yield e(t,Object.assign({},s))}catch(c){throw console.error(c),new Jg(Eo(c),0)}if(a.ok||(yield hS(a)),r?.noResolveJson)return a;try{return yield a.json()}catch(c){yield hS(c)}})).apply(this,arguments)}function Dr(e){var n;let t=null;return function V8(e){return e.access_token&&e.refresh_token&&e.expires_in}(e)&&(t=Object.assign({},e),e.expires_at||(t.expires_at=function D8(e){return Math.round(Date.now()/1e3)+e}(e.expires_in))),{data:{session:t,user:null!==(n=e.user)&&void 0!==n?n:e},error:null}}function pS(e){const n=Dr(e);return!n.error&&e.weak_password&&"object"==typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce((t,r)=>t&&"string"==typeof r,!0)&&(n.data.weak_password=e.weak_password),n}function Gr(e){var n;return{data:{user:null!==(n=e.user)&&void 0!==n?n:e},error:null}}function U8(e){return{data:e,error:null}}function $8(e){const{action_link:n,email_otp:t,hashed_token:r,redirect_to:o,verification_type:i}=e,s=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t}(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:n,email_otp:t,hashed_token:r,redirect_to:o,verification_type:i},user:Object.assign({},s)},error:null}}function B8(e){return e}const om=["global","local","others"];class z8{constructor({url:n="",headers:t={},fetch:r}){this.url=n,this.headers=t,this.fetch=dS(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(n){var t=this;return h(function*(r,o=om[0]){if(om.indexOf(o)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${om.join(", ")}`);try{return yield be(t.fetch,"POST",`${t.url}/logout?scope=${o}`,{headers:t.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(i){if(pe(i))return{data:null,error:i};throw i}}).apply(this,arguments)}inviteUserByEmail(n){var t=this;return h(function*(r,o={}){try{return yield be(t.fetch,"POST",`${t.url}/invite`,{body:{email:r,data:o.data},headers:t.headers,redirectTo:o.redirectTo,xform:Gr})}catch(i){if(pe(i))return{data:{user:null},error:i};throw i}}).apply(this,arguments)}generateLink(n){var t=this;return h(function*(){try{const{options:r}=n,o=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t}(n,["options"]),i=Object.assign(Object.assign({},o),r);return"newEmail"in o&&(i.new_email=o?.newEmail,delete i.newEmail),yield be(t.fetch,"POST",`${t.url}/admin/generate_link`,{body:i,headers:t.headers,xform:$8,redirectTo:r?.redirectTo})}catch(r){if(pe(r))return{data:{properties:null,user:null},error:r};throw r}})()}createUser(n){var t=this;return h(function*(){try{return yield be(t.fetch,"POST",`${t.url}/admin/users`,{body:n,headers:t.headers,xform:Gr})}catch(r){if(pe(r))return{data:{user:null},error:r};throw r}})()}listUsers(n){var t=this;return h(function*(){var r,o,i,s,a,c,u;try{const l={nextPage:null,lastPage:0,total:0},d=yield be(t.fetch,"GET",`${t.url}/admin/users`,{headers:t.headers,noResolveJson:!0,query:{page:null!==(o=null===(r=n?.page)||void 0===r?void 0:r.toString())&&void 0!==o?o:"",per_page:null!==(s=null===(i=n?.perPage)||void 0===i?void 0:i.toString())&&void 0!==s?s:""},xform:B8});if(d.error)throw d.error;const f=yield d.json(),p=null!==(a=d.headers.get("x-total-count"))&&void 0!==a?a:0,g=null!==(u=null===(c=d.headers.get("link"))||void 0===c?void 0:c.split(","))&&void 0!==u?u:[];return g.length>0&&(g.forEach(w=>{const C=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(w.split(";")[1].split("=")[1]);l[`${T}Page`]=C}),l.total=parseInt(p)),{data:Object.assign(Object.assign({},f),l),error:null}}catch(l){if(pe(l))return{data:{users:[]},error:l};throw l}})()}getUserById(n){var t=this;return h(function*(){Ji(n);try{return yield be(t.fetch,"GET",`${t.url}/admin/users/${n}`,{headers:t.headers,xform:Gr})}catch(r){if(pe(r))return{data:{user:null},error:r};throw r}})()}updateUserById(n,t){var r=this;return h(function*(){Ji(n);try{return yield be(r.fetch,"PUT",`${r.url}/admin/users/${n}`,{body:t,headers:r.headers,xform:Gr})}catch(o){if(pe(o))return{data:{user:null},error:o};throw o}})()}deleteUser(n){var t=this;return h(function*(r,o=!1){Ji(r);try{return yield be(t.fetch,"DELETE",`${t.url}/admin/users/${r}`,{headers:t.headers,body:{should_soft_delete:o},xform:Gr})}catch(i){if(pe(i))return{data:{user:null},error:i};throw i}}).apply(this,arguments)}_listFactors(n){var t=this;return h(function*(){Ji(n.userId);try{const{data:r,error:o}=yield be(t.fetch,"GET",`${t.url}/admin/users/${n.userId}/factors`,{headers:t.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:o}}catch(r){if(pe(r))return{data:null,error:r};throw r}})()}_deleteFactor(n){var t=this;return h(function*(){Ji(n.userId),Ji(n.id);try{return{data:yield be(t.fetch,"DELETE",`${t.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:t.headers}),error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}})()}}const q8={getItem:e=>$a()?globalThis.localStorage.getItem(e):null,setItem:(e,n)=>{$a()&&globalThis.localStorage.setItem(e,n)},removeItem:e=>{$a()&&globalThis.localStorage.removeItem(e)}};function gS(e={}){return{getItem:n=>e[n]||null,setItem:(n,t)=>{e[n]=t},removeItem:n=>{delete e[n]}}}const Ki={debug:!!(globalThis&&$a()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"))};class mS extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class W8 extends mS{}function K8(e,n,t){return im.apply(this,arguments)}function im(){return im=h(function*(e,n,t){Ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,n);const r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),Ki.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},n),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===n?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},function(){var o=h(function*(i){if(!i){if(0===n)throw Ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new W8(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ki.debug)try{const s=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield t()}Ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return yield t()}finally{Ki.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}});return function(i){return o.apply(this,arguments)}}()))}),im.apply(this,arguments)}!function G8(){if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}();const Q8={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:{"X-Client-Info":"gotrue-js/2.70.0"},flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function yS(e,n,t){return am.apply(this,arguments)}function am(){return(am=h(function*(e,n,t){return yield t()})).apply(this,arguments)}const Z8=(()=>{class e{constructor(t){var o,i,r=this;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=e.nextInstanceID,e.nextInstanceID+=1,this.instanceID>0&&An()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Q8),t);if(this.logDebugMessages=!!s.debug,"function"==typeof s.debug&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new z8({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=dS(s.fetch),this.lock=s.lock||yS,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.lock=s.lock?s.lock:An()&&null!==(o=globalThis?.navigator)&&void 0!==o&&o.locks?K8:yS,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:$a()?this.storage=q8:(this.memoryStorage={},this.storage=gS(this.memoryStorage)):(this.memoryStorage={},this.storage=gS(this.memoryStorage)),An()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}null===(i=this.broadcastChannel)||void 0===i||i.addEventListener("message",function(){var a=h(function*(c){r._debug("received broadcast notification from other tab or client",c),yield r._notifyAllSubscribers(c.data.event,c.data.session,!1)});return function(c){return a.apply(this,arguments)}}())}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (2.70.0) ${(new Date).toISOString()}`,...t),this}initialize(){var t=this;return h(function*(){return t.initializePromise||(t.initializePromise=h(function*(){return yield t._acquireLock(-1,h(function*(){return yield t._initialize()}))})()),yield t.initializePromise})()}_initialize(){var t=this;return h(function*(){var r;try{const o=function b8(e){const n={},t=new URL(e);if(t.hash&&"#"===t.hash[0])try{new URLSearchParams(t.hash.substring(1)).forEach((o,i)=>{n[i]=o})}catch{}return t.searchParams.forEach((r,o)=>{n[o]=r}),n}(window.location.href);let i="none";if(t._isImplicitGrantCallback(o)?i="implicit":(yield t._isPKCECallback(o))&&(i="pkce"),An()&&t.detectSessionInUrl&&"none"!==i){const{data:s,error:a}=yield t._getSessionFromURL(o,i);if(a){if(t._debug("#_initialize()","error detecting session from URL",a),function h8(e){return pe(e)&&"AuthImplicitGrantRedirectError"===e.name}(a)){const l=null===(r=a.details)||void 0===r?void 0:r.code;if("identity_already_exists"===l||"identity_not_found"===l||"single_identity_not_deletable"===l)return{error:a}}return yield t._removeSession(),{error:a}}const{session:c,redirectType:u}=s;return t._debug("#_initialize()","detected session in URL",c,"redirect type",u),yield t._saveSession(c),setTimeout(h(function*(){"recovery"===u?yield t._notifyAllSubscribers("PASSWORD_RECOVERY",c):yield t._notifyAllSubscribers("SIGNED_IN",c)}),0),{error:null}}return yield t._recoverAndRefresh(),{error:null}}catch(o){return pe(o)?{error:o}:{error:new oS("Unexpected error during initialization",o)}}finally{yield t._handleVisibilityChange(),t._debug("#_initialize()","end")}})()}signInAnonymously(t){var r=this;return h(function*(){var o,i,s;try{const a=yield be(r.fetch,"POST",`${r.url}/signup`,{headers:r.headers,body:{data:null!==(i=null===(o=t?.options)||void 0===o?void 0:o.data)&&void 0!==i?i:{},gotrue_meta_security:{captcha_token:null===(s=t?.options)||void 0===s?void 0:s.captchaToken}},xform:Dr}),{data:c,error:u}=a;if(u||!c)return{data:{user:null,session:null},error:u};const l=c.session,d=c.user;return c.session&&(yield r._saveSession(c.session),yield r._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(a){if(pe(a))return{data:{user:null,session:null},error:a};throw a}})()}signUp(t){var r=this;return h(function*(){var o,i,s;try{let a;if("email"in t){const{email:f,password:p,options:g}=t;let w=null,C=null;"pkce"===r.flowType&&([w,C]=yield Wi(r.storage,r.storageKey)),a=yield be(r.fetch,"POST",`${r.url}/signup`,{headers:r.headers,redirectTo:g?.emailRedirectTo,body:{email:f,password:p,data:null!==(o=g?.data)&&void 0!==o?o:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:w,code_challenge_method:C},xform:Dr})}else{if(!("phone"in t))throw new Ol("You must provide either an email or phone number and a password");{const{phone:f,password:p,options:g}=t;a=yield be(r.fetch,"POST",`${r.url}/signup`,{headers:r.headers,body:{phone:f,password:p,data:null!==(i=g?.data)&&void 0!==i?i:{},channel:null!==(s=g?.channel)&&void 0!==s?s:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:Dr})}}const{data:c,error:u}=a;if(u||!c)return{data:{user:null,session:null},error:u};const l=c.session,d=c.user;return c.session&&(yield r._saveSession(c.session),yield r._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(a){if(pe(a))return{data:{user:null,session:null},error:a};throw a}})()}signInWithPassword(t){var r=this;return h(function*(){try{let o;if("email"in t){const{email:a,password:c,options:u}=t;o=yield be(r.fetch,"POST",`${r.url}/token?grant_type=password`,{headers:r.headers,body:{email:a,password:c,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:pS})}else{if(!("phone"in t))throw new Ol("You must provide either an email or phone number and a password");{const{phone:a,password:c,options:u}=t;o=yield be(r.fetch,"POST",`${r.url}/token?grant_type=password`,{headers:r.headers,body:{phone:a,password:c,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:pS})}}const{data:i,error:s}=o;return s?{data:{user:null,session:null},error:s}:i&&i.session&&i.user?(i.session&&(yield r._saveSession(i.session),yield r._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:s}):{data:{user:null,session:null},error:new xl}}catch(o){if(pe(o))return{data:{user:null,session:null},error:o};throw o}})()}signInWithOAuth(t){var r=this;return h(function*(){var o,i,s,a;return yield r._handleProviderSignIn(t.provider,{redirectTo:null===(o=t.options)||void 0===o?void 0:o.redirectTo,scopes:null===(i=t.options)||void 0===i?void 0:i.scopes,queryParams:null===(s=t.options)||void 0===s?void 0:s.queryParams,skipBrowserRedirect:null===(a=t.options)||void 0===a?void 0:a.skipBrowserRedirect})})()}exchangeCodeForSession(t){var r=this;return h(function*(){return yield r.initializePromise,r._acquireLock(-1,h(function*(){return r._exchangeCodeForSession(t)}))})()}signInWithWeb3(t){var r=this;return h(function*(){const{chain:o}=t;if("solana"===o)return yield r.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${o}"`)})()}signInWithSolana(t){var r=this;return h(function*(){var o,i,s,a,c,u,l,d,f,p,g,w;let C,T;if("message"in t)C=t.message,T=t.signature;else{const{wallet:O,statement:V,options:k}=t;let te;if(An())if("object"==typeof O)te=O;else{const Ae=window;if(!("solana"in Ae)||"object"!=typeof Ae.solana||!("signIn"in Ae.solana&&"function"==typeof Ae.solana.signIn||"signMessage"in Ae.solana&&"function"==typeof Ae.solana.signMessage))throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.");te=Ae.solana}else{if("object"!=typeof O||!k?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");te=O}const xe=new URL(null!==(o=k?.url)&&void 0!==o?o:window.location.href);if("signIn"in te&&te.signIn){const Ae=yield te.signIn(Object.assign(Object.assign(Object.assign({issuedAt:(new Date).toISOString()},k?.signInWithSolana),{version:"1",domain:xe.host,uri:xe.href}),V?{statement:V}:null));let St;if(Array.isArray(Ae)&&Ae[0]&&"object"==typeof Ae[0])St=Ae[0];else{if(!(Ae&&"object"==typeof Ae&&"signedMessage"in Ae&&"signature"in Ae))throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");St=Ae}if(!("signedMessage"in St&&"signature"in St&&("string"==typeof St.signedMessage||St.signedMessage instanceof Uint8Array)&&St.signature instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields");C="string"==typeof St.signedMessage?St.signedMessage:(new TextDecoder).decode(St.signedMessage),T=St.signature}else{if(!("signMessage"in te&&"function"==typeof te.signMessage&&"publicKey"in te&&"object"==typeof te&&te.publicKey&&"toBase58"in te.publicKey&&"function"==typeof te.publicKey.toBase58))throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${xe.host} wants you to sign in with your Solana account:`,te.publicKey.toBase58(),...V?["",V,""]:[""],"Version: 1",`URI: ${xe.href}`,`Issued At: ${null!==(s=null===(i=k?.signInWithSolana)||void 0===i?void 0:i.issuedAt)&&void 0!==s?s:(new Date).toISOString()}`,...null!==(a=k?.signInWithSolana)&&void 0!==a&&a.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...null!==(c=k?.signInWithSolana)&&void 0!==c&&c.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...null!==(u=k?.signInWithSolana)&&void 0!==u&&u.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...null!==(l=k?.signInWithSolana)&&void 0!==l&&l.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...null!==(d=k?.signInWithSolana)&&void 0!==d&&d.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...null!==(p=null===(f=k?.signInWithSolana)||void 0===f?void 0:f.resources)&&void 0!==p&&p.length?["Resources",...k.signInWithSolana.resources.map(St=>`- ${St}`)]:[]].join("\n");const Ae=yield te.signMessage((new TextEncoder).encode(C),"utf8");if(!(Ae&&Ae instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=Ae}}try{const{data:M,error:O}=yield be(r.fetch,"POST",`${r.url}/token?grant_type=web3`,{headers:r.headers,body:Object.assign({chain:"solana",message:C,signature:w8(T)},null!==(g=t.options)&&void 0!==g&&g.captchaToken?{gotrue_meta_security:{captcha_token:null===(w=t.options)||void 0===w?void 0:w.captchaToken}}:null),xform:Dr});if(O)throw O;return M&&M.session&&M.user?(M.session&&(yield r._saveSession(M.session),yield r._notifyAllSubscribers("SIGNED_IN",M.session)),{data:Object.assign({},M),error:O}):{data:{user:null,session:null},error:new xl}}catch(M){if(pe(M))return{data:{user:null,session:null},error:M};throw M}})()}_exchangeCodeForSession(t){var r=this;return h(function*(){const o=yield Fl(r.storage,`${r.storageKey}-code-verifier`),[i,s]=(o??"").split("/");try{const{data:a,error:c}=yield be(r.fetch,"POST",`${r.url}/token?grant_type=pkce`,{headers:r.headers,body:{auth_code:t,code_verifier:i},xform:Dr});if(yield jl(r.storage,`${r.storageKey}-code-verifier`),c)throw c;return a&&a.session&&a.user?(a.session&&(yield r._saveSession(a.session),yield r._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:c}):{data:{user:null,session:null,redirectType:null},error:new xl}}catch(a){if(pe(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}})()}signInWithIdToken(t){var r=this;return h(function*(){try{const{options:o,provider:i,token:s,access_token:a,nonce:c}=t,u=yield be(r.fetch,"POST",`${r.url}/token?grant_type=id_token`,{headers:r.headers,body:{provider:i,id_token:s,access_token:a,nonce:c,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:Dr}),{data:l,error:d}=u;return d?{data:{user:null,session:null},error:d}:l&&l.session&&l.user?(l.session&&(yield r._saveSession(l.session),yield r._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:d}):{data:{user:null,session:null},error:new xl}}catch(o){if(pe(o))return{data:{user:null,session:null},error:o};throw o}})()}signInWithOtp(t){var r=this;return h(function*(){var o,i,s,a,c;try{if("email"in t){const{email:u,options:l}=t;let d=null,f=null;"pkce"===r.flowType&&([d,f]=yield Wi(r.storage,r.storageKey));const{error:p}=yield be(r.fetch,"POST",`${r.url}/otp`,{headers:r.headers,body:{email:u,data:null!==(o=l?.data)&&void 0!==o?o:{},create_user:null===(i=l?.shouldCreateUser)||void 0===i||i,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:d,code_challenge_method:f},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:u,options:l}=t,{data:d,error:f}=yield be(r.fetch,"POST",`${r.url}/otp`,{headers:r.headers,body:{phone:u,data:null!==(s=l?.data)&&void 0!==s?s:{},create_user:null===(a=l?.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:null!==(c=l?.channel)&&void 0!==c?c:"sms"}});return{data:{user:null,session:null,messageId:d?.message_id},error:f}}throw new Ol("You must provide either an email or phone number.")}catch(u){if(pe(u))return{data:{user:null,session:null},error:u};throw u}})()}verifyOtp(t){var r=this;return h(function*(){var o,i;try{let s,a;"options"in t&&(s=null===(o=t.options)||void 0===o?void 0:o.redirectTo,a=null===(i=t.options)||void 0===i?void 0:i.captchaToken);const{data:c,error:u}=yield be(r.fetch,"POST",`${r.url}/verify`,{headers:r.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:Dr});if(u)throw u;if(!c)throw new Error("An error occurred on token verification.");const l=c.session,d=c.user;return l?.access_token&&(yield r._saveSession(l),yield r._notifyAllSubscribers("recovery"==t.type?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(s){if(pe(s))return{data:{user:null,session:null},error:s};throw s}})()}signInWithSSO(t){var r=this;return h(function*(){var o,i,s;try{let a=null,c=null;return"pkce"===r.flowType&&([a,c]=yield Wi(r.storage,r.storageKey)),yield be(r.fetch,"POST",`${r.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:null!==(i=null===(o=t.options)||void 0===o?void 0:o.redirectTo)&&void 0!==i?i:void 0}),null!==(s=t?.options)&&void 0!==s&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:c}),headers:r.headers,xform:U8})}catch(a){if(pe(a))return{data:null,error:a};throw a}})()}reauthenticate(){var t=this;return h(function*(){return yield t.initializePromise,yield t._acquireLock(-1,h(function*(){return yield t._reauthenticate()}))})()}_reauthenticate(){var t=this;return h(function*(){try{return yield t._useSession(function(){var r=h(function*(o){const{data:{session:i},error:s}=o;if(s)throw s;if(!i)throw new qr;const{error:a}=yield be(t.fetch,"GET",`${t.url}/reauthenticate`,{headers:t.headers,jwt:i.access_token});return{data:{user:null,session:null},error:a}});return function(o){return r.apply(this,arguments)}}())}catch(r){if(pe(r))return{data:{user:null,session:null},error:r};throw r}})()}resend(t){var r=this;return h(function*(){try{const o=`${r.url}/resend`;if("email"in t){const{email:i,type:s,options:a}=t,{error:c}=yield be(r.fetch,"POST",o,{headers:r.headers,body:{email:i,type:s,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return{data:{user:null,session:null},error:c}}if("phone"in t){const{phone:i,type:s,options:a}=t,{data:c,error:u}=yield be(r.fetch,"POST",o,{headers:r.headers,body:{phone:i,type:s,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return{data:{user:null,session:null,messageId:c?.message_id},error:u}}throw new Ol("You must provide either an email or phone number and a type")}catch(o){if(pe(o))return{data:{user:null,session:null},error:o};throw o}})()}getSession(){var t=this;return h(function*(){return yield t.initializePromise,yield t._acquireLock(-1,h(function*(){return t._useSession(function(){var o=h(function*(i){return i});return function(i){return o.apply(this,arguments)}}())}))})()}_acquireLock(t,r){var o=this;return h(function*(){o._debug("#_acquireLock","begin",t);try{if(o.lockAcquired){const i=o.pendingInLock.length?o.pendingInLock[o.pendingInLock.length-1]:Promise.resolve(),s=h(function*(){return yield i,yield r()})();return o.pendingInLock.push(h(function*(){try{yield s}catch{}})()),s}return yield o.lock(`lock:${o.storageKey}`,t,h(function*(){o._debug("#_acquireLock","lock acquired for storage key",o.storageKey);try{o.lockAcquired=!0;const i=r();for(o.pendingInLock.push(h(function*(){try{yield i}catch{}})()),yield i;o.pendingInLock.length;){const s=[...o.pendingInLock];yield Promise.all(s),o.pendingInLock.splice(0,s.length)}return yield i}finally{o._debug("#_acquireLock","lock released for storage key",o.storageKey),o.lockAcquired=!1}}))}finally{o._debug("#_acquireLock","end")}})()}_useSession(t){var r=this;return h(function*(){r._debug("#_useSession","begin");try{const o=yield r.__loadSession();return yield t(o)}finally{r._debug("#_useSession","end")}})()}__loadSession(){var t=this;return h(function*(){t._debug("#__loadSession()","begin"),t.lockAcquired||t._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let r=null;const o=yield Fl(t.storage,t.storageKey);if(t._debug("#getSession()","session from storage",o),null!==o&&(t._isValidSession(o)?r=o:(t._debug("#getSession()","session from storage is not valid"),yield t._removeSession())),!r)return{data:{session:null},error:null};const i=!!r.expires_at&&1e3*r.expires_at-Date.now()<9e4;if(t._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",r.expires_at),!i){if(t.storage.isServer){let c=t.suppressGetSessionWarning;r=new Proxy(r,{get:(l,d,f)=>(!c&&"user"===d&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,t.suppressGetSessionWarning=!0),Reflect.get(l,d,f))})}return{data:{session:r},error:null}}const{session:s,error:a}=yield t._callRefreshToken(r.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{t._debug("#__loadSession()","end")}})()}getUser(t){var r=this;return h(function*(){return t?yield r._getUser(t):(yield r.initializePromise,yield r._acquireLock(-1,h(function*(){return yield r._getUser()})))})()}_getUser(t){var r=this;return h(function*(){try{return t?yield be(r.fetch,"GET",`${r.url}/user`,{headers:r.headers,jwt:t,xform:Gr}):yield r._useSession(function(){var o=h(function*(i){var s,a,c;const{data:u,error:l}=i;if(l)throw l;return null!==(s=u.session)&&void 0!==s&&s.access_token||r.hasCustomAuthorizationHeader?yield be(r.fetch,"GET",`${r.url}/user`,{headers:r.headers,jwt:null!==(c=null===(a=u.session)||void 0===a?void 0:a.access_token)&&void 0!==c?c:void 0,xform:Gr}):{data:{user:null},error:new qr}});return function(i){return o.apply(this,arguments)}}())}catch(o){if(pe(o))return function f8(e){return pe(e)&&"AuthSessionMissingError"===e.name}(o)&&(yield r._removeSession(),yield jl(r.storage,`${r.storageKey}-code-verifier`)),{data:{user:null},error:o};throw o}})()}updateUser(t){var r=this;return h(function*(o,i={}){return yield r.initializePromise,yield r._acquireLock(-1,h(function*(){return yield r._updateUser(o,i)}))}).apply(this,arguments)}_updateUser(t){var r=this;return h(function*(o,i={}){try{return yield r._useSession(function(){var s=h(function*(a){const{data:c,error:u}=a;if(u)throw u;if(!c.session)throw new qr;const l=c.session;let d=null,f=null;"pkce"===r.flowType&&null!=o.email&&([d,f]=yield Wi(r.storage,r.storageKey));const{data:p,error:g}=yield be(r.fetch,"PUT",`${r.url}/user`,{headers:r.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},o),{code_challenge:d,code_challenge_method:f}),jwt:l.access_token,xform:Gr});if(g)throw g;return l.user=p.user,yield r._saveSession(l),yield r._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}});return function(a){return s.apply(this,arguments)}}())}catch(s){if(pe(s))return{data:{user:null},error:s};throw s}}).apply(this,arguments)}setSession(t){var r=this;return h(function*(){return yield r.initializePromise,yield r._acquireLock(-1,h(function*(){return yield r._setSession(t)}))})()}_setSession(t){var r=this;return h(function*(){try{if(!t.access_token||!t.refresh_token)throw new qr;const o=Date.now()/1e3;let i=o,s=!0,a=null;const{payload:c}=Qg(t.access_token);if(c.exp&&(i=c.exp,s=i<=o),s){const{session:u,error:l}=yield r._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!u)return{data:{user:null,session:null},error:null};a=u}else{const{data:u,error:l}=yield r._getUser(t.access_token);if(l)throw l;a={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:i-o,expires_at:i},yield r._saveSession(a),yield r._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(o){if(pe(o))return{data:{session:null,user:null},error:o};throw o}})()}refreshSession(t){var r=this;return h(function*(){return yield r.initializePromise,yield r._acquireLock(-1,h(function*(){return yield r._refreshSession(t)}))})()}_refreshSession(t){var r=this;return h(function*(){try{return yield r._useSession(function(){var o=h(function*(i){var s;if(!t){const{data:u,error:l}=i;if(l)throw l;t=null!==(s=u.session)&&void 0!==s?s:void 0}if(!t?.refresh_token)throw new qr;const{session:a,error:c}=yield r._callRefreshToken(t.refresh_token);return c?{data:{user:null,session:null},error:c}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}});return function(i){return o.apply(this,arguments)}}())}catch(o){if(pe(o))return{data:{user:null,session:null},error:o};throw o}})()}_getSessionFromURL(t,r){var o=this;return h(function*(){try{if(!An())throw new Pl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Pl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if("pkce"===o.flowType)throw new iS("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===o.flowType)throw new Pl("Not a valid implicit grant flow url.")}if("pkce"===r){if(o._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new iS("No code detected.");const{data:V,error:k}=yield o._exchangeCodeForSession(t.code);if(k)throw k;const te=new URL(window.location.href);return te.searchParams.delete("code"),window.history.replaceState(window.history.state,"",te.toString()),{data:{session:V.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:s,access_token:a,refresh_token:c,expires_in:u,expires_at:l,token_type:d}=t;if(!(a&&u&&c&&d))throw new Pl("No session defined in URL");const f=Math.round(Date.now()/1e3),p=parseInt(u);let g=f+p;l&&(g=parseInt(l));const w=g-f;1e3*w<=Gi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${p}s`);const C=g-p;f-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,g,f):f-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,g,f);const{data:T,error:M}=yield o._getUser(a);if(M)throw M;const O={provider_token:i,provider_refresh_token:s,access_token:a,expires_in:p,expires_at:g,refresh_token:c,token_type:d,user:T.user};return window.location.hash="",o._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:O,redirectType:t.type},error:null}}catch(i){if(pe(i))return{data:{session:null,redirectType:null},error:i};throw i}})()}_isImplicitGrantCallback(t){return!(!t.access_token&&!t.error_description)}_isPKCECallback(t){var r=this;return h(function*(){const o=yield Fl(r.storage,`${r.storageKey}-code-verifier`);return!(!t.code||!o)})()}signOut(){var t=this;return h(function*(r={scope:"global"}){return yield t.initializePromise,yield t._acquireLock(-1,h(function*(){return yield t._signOut(r)}))}).apply(this,arguments)}_signOut(){var t=this;return h(function*({scope:r}={scope:"global"}){return yield t._useSession(function(){var o=h(function*(i){var s;const{data:a,error:c}=i;if(c)return{error:c};const u=null===(s=a.session)||void 0===s?void 0:s.access_token;if(u){const{error:l}=yield t.admin.signOut(u,r);if(l&&(!function d8(e){return pe(e)&&"AuthApiError"===e.name}(l)||404!==l.status&&401!==l.status&&403!==l.status))return{error:l}}return"others"!==r&&(yield t._removeSession(),yield jl(t.storage,`${t.storageKey}-code-verifier`)),{error:null}});return function(i){return o.apply(this,arguments)}}())}).apply(this,arguments)}onAuthStateChange(t){var r=this;const o=function _8(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const n=16*Math.random()|0;return("x"==e?n:3&n|8).toString(16)})}(),i={id:o,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",o),this.stateChangeEmitters.delete(o)}};return this._debug("#onAuthStateChange()","registered callback with id",o),this.stateChangeEmitters.set(o,i),h(function*(){yield r.initializePromise,yield r._acquireLock(-1,h(function*(){r._emitInitialSession(o)}))})(),{data:{subscription:i}}}_emitInitialSession(t){var r=this;return h(function*(){return yield r._useSession(function(){var o=h(function*(i){var s,a;try{const{data:{session:c},error:u}=i;if(u)throw u;yield null===(s=r.stateChangeEmitters.get(t))||void 0===s?void 0:s.callback("INITIAL_SESSION",c),r._debug("INITIAL_SESSION","callback id",t,"session",c)}catch(c){yield null===(a=r.stateChangeEmitters.get(t))||void 0===a?void 0:a.callback("INITIAL_SESSION",null),r._debug("INITIAL_SESSION","callback id",t,"error",c),console.error(c)}});return function(i){return o.apply(this,arguments)}}())})()}resetPasswordForEmail(t){var r=this;return h(function*(o,i={}){let s=null,a=null;"pkce"===r.flowType&&([s,a]=yield Wi(r.storage,r.storageKey,!0));try{return yield be(r.fetch,"POST",`${r.url}/recover`,{body:{email:o,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:r.headers,redirectTo:i.redirectTo})}catch(c){if(pe(c))return{data:null,error:c};throw c}}).apply(this,arguments)}getUserIdentities(){var t=this;return h(function*(){var r;try{const{data:o,error:i}=yield t.getUser();if(i)throw i;return{data:{identities:null!==(r=o.user.identities)&&void 0!==r?r:[]},error:null}}catch(o){if(pe(o))return{data:null,error:o};throw o}})()}linkIdentity(t){var r=this;return h(function*(){var o;try{const{data:i,error:s}=yield r._useSession(function(){var a=h(function*(c){var u,l,d,f,p;const{data:g,error:w}=c;if(w)throw w;const C=yield r._getUrlForProvider(`${r.url}/user/identities/authorize`,t.provider,{redirectTo:null===(u=t.options)||void 0===u?void 0:u.redirectTo,scopes:null===(l=t.options)||void 0===l?void 0:l.scopes,queryParams:null===(d=t.options)||void 0===d?void 0:d.queryParams,skipBrowserRedirect:!0});return yield be(r.fetch,"GET",C,{headers:r.headers,jwt:null!==(p=null===(f=g.session)||void 0===f?void 0:f.access_token)&&void 0!==p?p:void 0})});return function(c){return a.apply(this,arguments)}}());if(s)throw s;return An()&&!(null!==(o=t.options)&&void 0!==o&&o.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:t.provider,url:i?.url},error:null}}catch(i){if(pe(i))return{data:{provider:t.provider,url:null},error:i};throw i}})()}unlinkIdentity(t){var r=this;return h(function*(){try{return yield r._useSession(function(){var o=h(function*(i){var s,a;const{data:c,error:u}=i;if(u)throw u;return yield be(r.fetch,"DELETE",`${r.url}/user/identities/${t.identity_id}`,{headers:r.headers,jwt:null!==(a=null===(s=c.session)||void 0===s?void 0:s.access_token)&&void 0!==a?a:void 0})});return function(i){return o.apply(this,arguments)}}())}catch(o){if(pe(o))return{data:null,error:o};throw o}})()}_refreshAccessToken(t){var r=this;return h(function*(){const o=`#_refreshAccessToken(${t.substring(0,5)}...)`;r._debug(o,"begin");try{const i=Date.now();return yield function I8(e,n){return new Promise((r,o)=>{h(function*(){for(let i=0;i<1/0;i++)try{const s=yield e(i);if(!n(i,null,s))return void r(s)}catch(s){if(!n(i,s))return void o(s)}})()})}(function(){var s=h(function*(a){return a>0&&(yield function E8(e){return Yg.apply(this,arguments)}(200*Math.pow(2,a-1))),r._debug(o,"refreshing attempt",a),yield be(r.fetch,"POST",`${r.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:r.headers,xform:Dr})});return function(a){return s.apply(this,arguments)}}(),(s,a)=>{const c=200*Math.pow(2,s);return a&&Kg(a)&&Date.now()+c-i<Gi})}catch(i){if(r._debug(o,"error",i),pe(i))return{data:{session:null,user:null},error:i};throw i}finally{r._debug(o,"end")}})()}_isValidSession(t){return"object"==typeof t&&null!==t&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}_handleProviderSignIn(t,r){var o=this;return h(function*(){const i=yield o._getUrlForProvider(`${o.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return o._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",i),An()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}})()}_recoverAndRefresh(){var t=this;return h(function*(){var r;const o="#_recoverAndRefresh()";t._debug(o,"begin");try{const i=yield Fl(t.storage,t.storageKey);if(t._debug(o,"session from storage",i),!t._isValidSession(i))return t._debug(o,"session is not valid"),void(null!==i&&(yield t._removeSession()));const s=1e3*(null!==(r=i.expires_at)&&void 0!==r?r:1/0)-Date.now()<9e4;if(t._debug(o,`session has${s?"":" not"} expired with margin of 90000s`),s){if(t.autoRefreshToken&&i.refresh_token){const{error:a}=yield t._callRefreshToken(i.refresh_token);a&&(console.error(a),Kg(a)||(t._debug(o,"refresh failed with a non-retryable error, removing the session",a),yield t._removeSession()))}}else yield t._notifyAllSubscribers("SIGNED_IN",i)}catch(i){return t._debug(o,"error",i),void console.error(i)}finally{t._debug(o,"end")}})()}_callRefreshToken(t){var r=this;return h(function*(){var o,i;if(!t)throw new qr;if(r.refreshingDeferred)return r.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;r._debug(s,"begin");try{r.refreshingDeferred=new Ul;const{data:a,error:c}=yield r._refreshAccessToken(t);if(c)throw c;if(!a.session)throw new qr;yield r._saveSession(a.session),yield r._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const u={session:a.session,error:null};return r.refreshingDeferred.resolve(u),u}catch(a){if(r._debug(s,"error",a),pe(a)){const c={session:null,error:a};return Kg(a)||(yield r._removeSession()),null===(o=r.refreshingDeferred)||void 0===o||o.resolve(c),c}throw null===(i=r.refreshingDeferred)||void 0===i||i.reject(a),a}finally{r.refreshingDeferred=null,r._debug(s,"end")}})()}_notifyAllSubscribers(t,r){var o=this;return h(function*(i,s,a=!0){const c=`#_notifyAllSubscribers(${i})`;o._debug(c,"begin",s,`broadcast = ${a}`);try{o.broadcastChannel&&a&&o.broadcastChannel.postMessage({event:i,session:s});const u=[],l=Array.from(o.stateChangeEmitters.values()).map(function(){var d=h(function*(f){try{yield f.callback(i,s)}catch(p){u.push(p)}});return function(f){return d.apply(this,arguments)}}());if(yield Promise.all(l),u.length>0){for(let d=0;d<u.length;d+=1)console.error(u[d]);throw u[0]}}finally{o._debug(c,"end")}}).apply(this,arguments)}_saveSession(t){var r=this;return h(function*(){r._debug("#_saveSession()",t),r.suppressGetSessionWarning=!0,yield fS(r.storage,r.storageKey,t)})()}_removeSession(){var t=this;return h(function*(){t._debug("#_removeSession()"),yield jl(t.storage,t.storageKey),yield t._notifyAllSubscribers("SIGNED_OUT",null)})()}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&An()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){var t=this;return h(function*(){yield t._stopAutoRefresh(),t._debug("#_startAutoRefresh()");const r=setInterval(()=>t._autoRefreshTokenTick(),Gi);t.autoRefreshTicker=r,r&&"object"==typeof r&&"function"==typeof r.unref?r.unref():typeof Deno<"u"&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(r),setTimeout(h(function*(){yield t.initializePromise,yield t._autoRefreshTokenTick()}),0)})()}_stopAutoRefresh(){var t=this;return h(function*(){t._debug("#_stopAutoRefresh()");const r=t.autoRefreshTicker;t.autoRefreshTicker=null,r&&clearInterval(r)})()}startAutoRefresh(){var t=this;return h(function*(){t._removeVisibilityChangedCallback(),yield t._startAutoRefresh()})()}stopAutoRefresh(){var t=this;return h(function*(){t._removeVisibilityChangedCallback(),yield t._stopAutoRefresh()})()}_autoRefreshTokenTick(){var t=this;return h(function*(){t._debug("#_autoRefreshTokenTick()","begin");try{yield t._acquireLock(0,h(function*(){try{const r=Date.now();try{return yield t._useSession(function(){var o=h(function*(i){const{data:{session:s}}=i;if(!s||!s.refresh_token||!s.expires_at)return void t._debug("#_autoRefreshTokenTick()","no session");const a=Math.floor((1e3*s.expires_at-r)/Gi);t._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),a<=3&&(yield t._callRefreshToken(s.refresh_token))});return function(i){return o.apply(this,arguments)}}())}catch(o){console.error("Auto refresh tick failed with error. This is likely a transient error.",o)}}finally{t._debug("#_autoRefreshTokenTick()","end")}}))}catch(r){if(!(r.isAcquireTimeout||r instanceof mS))throw r;t._debug("auto refresh token tick lock not available")}})()}_handleVisibilityChange(){var t=this;return h(function*(){if(t._debug("#_handleVisibilityChange()"),!An()||!window?.addEventListener)return t.autoRefreshToken&&t.startAutoRefresh(),!1;try{t.visibilityChangedCallback=h(function*(){return yield t._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",t.visibilityChangedCallback),yield t._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}})()}_onVisibilityChanged(t){var r=this;return h(function*(){const o=`#_onVisibilityChanged(${t})`;r._debug(o,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(r.autoRefreshToken&&r._startAutoRefresh(),t||(yield r.initializePromise,yield r._acquireLock(-1,h(function*(){"visible"===document.visibilityState?yield r._recoverAndRefresh():r._debug(o,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&r.autoRefreshToken&&r._stopAutoRefresh()})()}_getUrlForProvider(t,r,o){var i=this;return h(function*(){const s=[`provider=${encodeURIComponent(r)}`];if(o?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&s.push(`scopes=${encodeURIComponent(o.scopes)}`),"pkce"===i.flowType){const[a,c]=yield Wi(i.storage,i.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(c)}`});s.push(u.toString())}if(o?.queryParams){const a=new URLSearchParams(o.queryParams);s.push(a.toString())}return o?.skipBrowserRedirect&&s.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${t}?${s.join("&")}`})()}_unenroll(t){var r=this;return h(function*(){try{return yield r._useSession(function(){var o=h(function*(i){var s;const{data:a,error:c}=i;return c?{data:null,error:c}:yield be(r.fetch,"DELETE",`${r.url}/factors/${t.factorId}`,{headers:r.headers,jwt:null===(s=a?.session)||void 0===s?void 0:s.access_token})});return function(i){return o.apply(this,arguments)}}())}catch(o){if(pe(o))return{data:null,error:o};throw o}})()}_enroll(t){var r=this;return h(function*(){try{return yield r._useSession(function(){var o=h(function*(i){var s,a;const{data:c,error:u}=i;if(u)return{data:null,error:u};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},"phone"===t.factorType?{phone:t.phone}:{issuer:t.issuer}),{data:d,error:f}=yield be(r.fetch,"POST",`${r.url}/factors`,{body:l,headers:r.headers,jwt:null===(s=c?.session)||void 0===s?void 0:s.access_token});return f?{data:null,error:f}:("totp"===t.factorType&&!(null===(a=d?.totp)||void 0===a)&&a.qr_code&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})});return function(i){return o.apply(this,arguments)}}())}catch(o){if(pe(o))return{data:null,error:o};throw o}})()}_verify(t){var r=this;return h(function*(){return r._acquireLock(-1,h(function*(){try{return yield r._useSession(function(){var o=h(function*(i){var s;const{data:a,error:c}=i;if(c)return{data:null,error:c};const{data:u,error:l}=yield be(r.fetch,"POST",`${r.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:r.headers,jwt:null===(s=a?.session)||void 0===s?void 0:s.access_token});return l?{data:null,error:l}:(yield r._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),yield r._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:l})});return function(i){return o.apply(this,arguments)}}())}catch(o){if(pe(o))return{data:null,error:o};throw o}}))})()}_challenge(t){var r=this;return h(function*(){return r._acquireLock(-1,h(function*(){try{return yield r._useSession(function(){var o=h(function*(i){var s;const{data:a,error:c}=i;return c?{data:null,error:c}:yield be(r.fetch,"POST",`${r.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:r.headers,jwt:null===(s=a?.session)||void 0===s?void 0:s.access_token})});return function(i){return o.apply(this,arguments)}}())}catch(o){if(pe(o))return{data:null,error:o};throw o}}))})()}_challengeAndVerify(t){var r=this;return h(function*(){const{data:o,error:i}=yield r._challenge({factorId:t.factorId});return i?{data:null,error:i}:yield r._verify({factorId:t.factorId,challengeId:o.id,code:t.code})})()}_listFactors(){var t=this;return h(function*(){const{data:{user:r},error:o}=yield t.getUser();if(o)return{data:null,error:o};const i=r?.factors||[],s=i.filter(c=>"totp"===c.factor_type&&"verified"===c.status),a=i.filter(c=>"phone"===c.factor_type&&"verified"===c.status);return{data:{all:i,totp:s,phone:a},error:null}})()}_getAuthenticatorAssuranceLevel(){var t=this;return h(function*(){return t._acquireLock(-1,h(function*(){return yield t._useSession(function(){var r=h(function*(o){var i,s;const{data:{session:a},error:c}=o;if(c)return{data:null,error:c};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Qg(a.access_token);let l=null;u.aal&&(l=u.aal);let d=l;return(null!==(s=null===(i=a.user.factors)||void 0===i?void 0:i.filter(g=>"verified"===g.status))&&void 0!==s?s:[]).length>0&&(d="aal2"),{data:{currentLevel:l,nextLevel:d,currentAuthenticationMethods:u.amr||[]},error:null}});return function(o){return r.apply(this,arguments)}}())}))})()}fetchJwk(t){var r=this;return h(function*(o,i={keys:[]}){let s=i.keys.find(u=>u.kid===o);if(s||(s=r.jwks.keys.find(u=>u.kid===o),s&&r.jwks_cached_at+6e5>Date.now()))return s;const{data:a,error:c}=yield be(r.fetch,"GET",`${r.url}/.well-known/jwks.json`,{headers:r.headers});if(c)throw c;if(!a.keys||0===a.keys.length)throw new Ua("JWKS is empty");if(r.jwks=a,r.jwks_cached_at=Date.now(),s=a.keys.find(u=>u.kid===o),!s)throw new Ua("No matching signing key found in JWKS");return s}).apply(this,arguments)}getClaims(t){var r=this;return h(function*(o,i={keys:[]}){try{let s=o;if(!s){const{data:C,error:T}=yield r.getSession();if(T||!C.session)return{data:null,error:T};s=C.session.access_token}const{header:a,payload:c,signature:u,raw:{header:l,payload:d}}=Qg(s);if(function x8(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(c.exp),!a.kid||"HS256"===a.alg||!("crypto"in globalThis)||!("subtle"in globalThis.crypto)){const{error:C}=yield r.getUser(s);if(C)throw C;return{data:{claims:c,header:a,signature:u},error:null}}const f=function O8(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(a.alg),p=yield r.fetchJwk(a.kid,i),g=yield crypto.subtle.importKey("jwk",p,f,!0,["verify"]);if(!(yield crypto.subtle.verify(f,g,u,function y8(e){const n=[];return function lS(e,n){for(let t=0;t<e.length;t+=1){let r=e.charCodeAt(t);if(r>55295&&r<=56319){const o=1024*(r-55296)&65535;r=65536+(e.charCodeAt(t+1)-56320&65535|o),t+=1}g8(r,n)}}(e,t=>n.push(t)),new Uint8Array(n)}(`${l}.${d}`))))throw new Ua("Invalid JWT signature");return{data:{claims:c,header:a,signature:u},error:null}}catch(s){if(pe(s))return{data:null,error:s};throw s}}).apply(this,arguments)}}return e.nextInstanceID=0,e})();class X8 extends Z8{constructor(n){super(n)}}class t3{constructor(n,t,r){var o,i,s;if(this.supabaseUrl=n,this.supabaseKey=t,!n)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const a=function r8(e){return e.endsWith("/")?e:e+"/"}(n),c=new URL(a);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d=function o8(e,n){var t,r;const{db:o,auth:i,realtime:s,global:a}=e,{db:c,auth:u,realtime:l,global:d}=n,f={db:Object.assign(Object.assign({},c),o),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},null!==(t=d?.headers)&&void 0!==t?t:{}),null!==(r=a?.headers)&&void 0!==r?r:{})}),accessToken:()=>function(e,n,t,r){return new(t||(t=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):function o(i){return i instanceof t?i:new t(function(s){s(i)})}(l.value).then(a,c)}u((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}(r??{},{db:KH,realtime:YH,auth:Object.assign(Object.assign({},QH),{storageKey:u}),global:JH});this.storageKey=null!==(o=d.auth.storageKey)&&void 0!==o?o:"",this.headers=null!==(i=d.global.headers)&&void 0!==i?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!==(s=d.auth)&&void 0!==s?s:{},this.headers,d.global.fetch),this.fetch=t8(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new zI(new URL("rest/v1",c).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new dH(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new GH(this.storageUrl.href,this.headers,this.fetch)}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,t={},r={}){return this.rest.rpc(n,t,r)}channel(n,t={config:{}}){return this.realtime.channel(n,t)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,t;return function(e,n,t,r){return new(t||(t=Promise))(function(i,s){function a(l){try{u(r.next(l))}catch(d){s(d)}}function c(l){try{u(r.throw(l))}catch(d){s(d)}}function u(l){l.done?i(l.value):function o(i){return i instanceof t?i:new t(function(s){s(i)})}(l.value).then(a,c)}u((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return null!==(t=null===(n=r.session)||void 0===n?void 0:n.access_token)&&void 0!==t?t:null})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:o,storageKey:i,flowType:s,lock:a,debug:c},u,l){return new X8({url:this.authUrl.href,headers:Object.assign(Object.assign({},{Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`}),u),storageKey:i,autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:o,flowType:s,lock:a,debug:c,fetch:l,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(n){return new OH(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r?.access_token)})}_handleTokenChanged(n,t,r){"TOKEN_REFRESHED"!==n&&"SIGNED_IN"!==n||this.changedAccessToken===r?"SIGNED_OUT"===n&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=r}}let r3=(()=>{class e{constructor(){this.bucketName="gallery",this.supabase=((e,n,t)=>new t3(e,n,{auth:{persistSession:!1,autoRefreshToken:!1}}))("https://kdjuigkaisguabjsfldu.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtkanVpZ2thaXNndWFianNmbGR1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk0Nzk5NjgsImV4cCI6MjA2NTA1NTk2OH0.UOEnjum_bZgKUAyFmmonU87OT2AATfCpkl2-Cws7m78")}createUploadUrl(t){var r=this;return h(function*(){try{const i=`https://kdjuigkaisguabjsfldu.supabase.co/storage/v1/object/${r.bucketName}/${t}`,{data:{session:s},error:a}=yield r.supabase.auth.getSession();if(a)throw a;return{data:{url:i,token:s?.access_token,path:t},error:null}}catch(o){return{data:null,error:o}}})()}uploadImage(t){var r=this;return h(function*(){const o=`${Date.now()}_${t.name}`,{data:i,error:s}=yield r.supabase.storage.from(r.bucketName).upload(o,t);return{data:i,error:s}})()}listImages(){var t=this;return h(function*(){const{data:r,error:o}=yield t.supabase.storage.from(t.bucketName).list("",{limit:100});return o?(console.error("List error:",o),[]):(yield Promise.all(r.map(function(){var s=h(function*(a){const{data:c}=yield t.supabase.storage.from(t.bucketName).createSignedUrl(a.name,86400);return c?.signedUrl||""});return function(a){return s.apply(this,arguments)}}()))).filter(s=>""!==s)})()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function o3(e,n){if(1&e){const t=Eu();ft(0,"section",4)(1,"h2",5),go(2,"Upload Photo \u{1f4f8}"),Et(),ft(3,"div",6)(4,"input",7),_i("change",function(o){return wc(t),Dc(dr().onFileSelected(o))}),Et(),ft(5,"p",8),go(6),Et()()()}if(2&e){const t=dr();Xt(6),Au(t.message)}}function i3(e,n){if(1&e&&(ft(0,"div",15),ho(1,"qrcode",16),ft(2,"p",17),go(3),Et()()),2&e){const t=dr(2);Xt(),cn("qrdata",t.qrCodeData)("width",200)("errorCorrectionLevel","M"),Xt(2),Au(t.message)}}function s3(e,n){if(1&e){const t=Eu();ft(0,"div",20)(1,"div",21),_i("click",function(){const o=wc(t).$implicit;return Dc(dr(3).enlargeImage(o))}),ho(2,"img",22),Et()()}if(2&e){const t=n.$implicit;Xt(2),cn("src",t,zc)}}function a3(e,n){if(1&e&&(ft(0,"div",18),Gn(1,s3,3,1,"div",19),Et()),2&e){const t=dr(2);Xt(),cn("ngForOf",t.images)}}function c3(e,n){1&e&&(ft(0,"div",23)(1,"p"),go(2,"No images yet! Scan the QR code to get started \u{1f680}"),Et()())}function u3(e,n){if(1&e&&(ft(0,"section")(1,"section",9)(2,"h2",5),go(3,"Snap \u{1f4f8}"),Et(),ft(4,"div",10),Gn(5,i3,4,4,"div",11),Et()(),ft(6,"section",12),Gn(7,a3,2,1,"div",13)(8,c3,3,0,"div",14),Et()()),2&e){const t=dr();Xt(5),cn("ngIf",t.qrCodeData),Xt(2),cn("ngIf",t.images.length>0),Xt(),cn("ngIf",0===t.images.length)}}function l3(e,n){if(1&e){const t=Eu();ft(0,"div",24)(1,"div",25)(2,"div",26)(3,"button",27),_i("click",function(){return wc(t),Dc(dr().closeModal())}),ft(4,"span"),go(5,"\xd7"),Et()(),ft(6,"div",28),ho(7,"img",29),Et()()()()}if(2&e){const t=dr();Xt(7),cn("src",t.selectedImage,zc)}}let d3=(()=>{class e{constructor(t){this.supabase=t,this.title="snapSketch",this.message="",this.images=[],this.qrCodeData="",this.selectedImage="",this.isImageModalOpen=!1}ngOnInit(){const t=`${window.location.origin}/${this.title}?action=upload`;this.qrCodeData=t,this.message="Scan QR code to upload image",this.loadImages(),this.startPolling()}ngOnDestroy(){this.pollingSubscription&&this.pollingSubscription.unsubscribe()}startPolling(){this.pollingSubscription=function iH(e=0,n=VI){return e<0&&(e=0),function oH(e=0,n,t=nH){let r=-1;return null!=n&&(QC(n)?t=n:r=n),new et(o=>{let i=function rH(e){return e instanceof Date&&!isNaN(e)}(e)?+e-t.now():e;i<0&&(i=0);let s=0;return t.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}(e,e,n)}(5e3).pipe(dn(()=>this.supabase.listImages())).subscribe(t=>{t.length>this.images.length&&(this.images=t)})}isUploadView(){return"upload"===new URLSearchParams(window.location.search).get("action")}onFileSelected(t){var r=this;return h(function*(){const o=t.target.files[0];if(!o)return;const{error:i}=yield r.supabase.uploadImage(o);r.message=i?"Upload failed":"Upload successful! Gallery will update shortly..."})()}loadImages(){var t=this;return h(function*(){t.images=yield t.supabase.listImages()})()}enlargeImage(t){this.selectedImage=t,this.isImageModalOpen=!0}closeModal(){this.isImageModalOpen=!1,this.selectedImage=""}static{this.\u0275fac=function(r){return new(r||e)(re(r3))}}static{this.\u0275cmp=cc({type:e,selectors:[["app-root"]],decls:4,vars:3,consts:[[1,"app-container"],["class","mobile-upload",4,"ngIf"],[4,"ngIf"],["class","modal-overlay",4,"ngIf"],[1,"mobile-upload"],[1,"text-center","text-2xl","font-bold","mb-2"],[1,"upload-controls"],["type","file","accept","image/*","capture","environment",1,"file-input",3,"change"],[1,"mt-1","text-center","text-sm"],[1,"qr-section"],[1,"d-flex","justify-content-center","align-items-center"],["class","text-center",4,"ngIf"],[1,"gallery-section"],["class","image-gallery",4,"ngIf"],["class","no-images",4,"ngIf"],[1,"text-center"],[1,"qr-code",3,"qrdata","width","errorCorrectionLevel"],[1,"mt-1","text-center","text-sm","text-gray-500"],[1,"image-gallery"],["class","image-item",4,"ngFor","ngForOf"],[1,"image-item"],[1,"image-card",3,"click"],["alt","Uploaded image",1,"gallery-image",3,"src"],[1,"no-images"],[1,"modal-overlay"],[1,"modal-container"],[1,"modal-content"],["type","button",1,"modal-close",3,"click"],[1,"modal-body"],["alt","Enlarged image",1,"modal-image",3,"src"]],template:function(r,o){1&r&&(ft(0,"div",0),Gn(1,o3,7,1,"section",1)(2,u3,9,3,"section",2),Et(),Gn(3,l3,8,1,"div",3)),2&r&&(Xt(),cn("ngIf",o.isUploadView()),Xt(),cn("ngIf",!o.isUploadView()),Xt(),cn("ngIf",o.isImageModalOpen))},dependencies:[mC,yC,u$],styles:[".upload-section[_ngcontent-%COMP%]{max-width:500px;margin:0 auto;padding:20px;text-align:center}.image-gallery[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:20px;padding:20px}.image-item[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.btn[_ngcontent-%COMP%]{margin:5px}.app-container[_ngcontent-%COMP%]{height:100vh;display:flex;flex-direction:column;background-color:#ffe9ef}.qr-section[_ngcontent-%COMP%]{position:sticky;top:0;background-color:#ffc9d7;padding:1.5rem;box-shadow:0 2px 10px #0000001a;z-index:100}.gallery-section[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:2rem}.image-gallery[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:1.5rem;padding:1rem}.image-card[_ngcontent-%COMP%]{background:#ffc9d7;border-radius:12px;overflow:hidden;box-shadow:0 4px 6px #0000001a;transition:transform .3s ease}.image-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.gallery-image[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover}.no-images[_ngcontent-%COMP%]{text-align:center;padding:3rem;color:var(--text-primary);font-size:1.2rem}.mobile-upload[_ngcontent-%COMP%]{padding:20px;text-align:center;min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:#f8f9fa}.upload-controls[_ngcontent-%COMP%]{margin-top:20px;width:100%;max-width:300px}.file-input[_ngcontent-%COMP%]{width:100%;padding:10px;border:2px dashed #ccc;border-radius:8px;margin-bottom:15px;background:#fff}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000c;display:flex;justify-content:center;align-items:center;z-index:1000}.modal-container[_ngcontent-%COMP%]{position:relative;max-width:90vw;max-height:90vh;background:#ffc9d7;border-radius:8px;padding:1rem}.modal-close[_ngcontent-%COMP%]{position:absolute;top:-40px;right:-40px;background:#ffc9d7;border:none;border-radius:50%;width:32px;height:32px;font-size:20px;cursor:pointer;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 4px #0003}.modal-body[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.modal-image[_ngcontent-%COMP%]{max-width:100%;max-height:80vh;object-fit:contain}"]})}}return e})(),f3=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=or({type:e,bootstrap:[d3]})}static{this.\u0275inj=xn({imports:[k2,ZV,n$,l$]})}}return e})();O2().bootstrapModule(f3).catch(e=>console.error(e))},286:(W,b,S)=>{"use strict";S.r(b),S.d(b,{Headers:()=>m,Request:()=>v,Response:()=>E,default:()=>y,fetch:()=>D});var h=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}();const D=h.fetch,y=h.fetch.bind(h),m=h.Headers,v=h.Request,E=h.Response},958:function(W,b,S){"use strict";var I=S(293).default,h=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(b,"__esModule",{value:!0});const D=h(S(286)),y=h(S(659));b.default=class m{constructor(E){this.shouldThrowOnError=!1,this.method=E.method,this.url=E.url,this.headers=E.headers,this.schema=E.schema,this.body=E.body,this.shouldThrowOnError=E.shouldThrowOnError,this.signal=E.signal,this.isMaybeSingle=E.isMaybeSingle,this.fetch=E.fetch?E.fetch:typeof fetch>"u"?D.default:fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(E,_){return this.headers=Object.assign({},this.headers),this.headers[E]=_,this}then(E,_){var R=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let $=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(function(){var L=I(function*(F){var J,oe,ke;let B=null,Y=null,ie=null,X=F.status,Le=F.statusText;if(F.ok){if("HEAD"!==R.method){const G=yield F.text();""===G||(Y="text/csv"===R.headers.Accept||R.headers.Accept&&R.headers.Accept.includes("application/vnd.pgrst.plan+text")?G:JSON.parse(G))}const q=null===(J=R.headers.Prefer)||void 0===J?void 0:J.match(/count=(exact|planned|estimated)/),ee=null===(oe=F.headers.get("content-range"))||void 0===oe?void 0:oe.split("/");q&&ee&&ee.length>1&&(ie=parseInt(ee[1])),R.isMaybeSingle&&"GET"===R.method&&Array.isArray(Y)&&(Y.length>1?(B={code:"PGRST116",details:`Results contain ${Y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},Y=null,ie=null,X=406,Le="Not Acceptable"):Y=1===Y.length?Y[0]:null)}else{const q=yield F.text();try{B=JSON.parse(q),Array.isArray(B)&&404===F.status&&(Y=[],B=null,X=200,Le="OK")}catch{404===F.status&&""===q?(X=204,Le="No Content"):B={message:q}}if(B&&R.isMaybeSingle&&!(null===(ke=B?.details)||void 0===ke)&&ke.includes("0 rows")&&(B=null,X=200,Le="OK"),B&&R.shouldThrowOnError)throw new y.default(B)}return{error:B,data:Y,count:ie,status:X,statusText:Le}});return function(F){return L.apply(this,arguments)}}());return this.shouldThrowOnError||($=$.catch(L=>{var F,J,oe;return{error:{message:`${null!==(F=L?.name)&&void 0!==F?F:"FetchError"}: ${L?.message}`,details:`${null!==(J=L?.stack)&&void 0!==J?J:""}`,hint:"",code:`${null!==(oe=L?.code)&&void 0!==oe?oe:""}`},data:null,count:null,status:0,statusText:""}})),$.then(E,_)}returns(){return this}overrideTypes(){return this}}},242:function(W,b,S){"use strict";var I=this&&this.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(b,"__esModule",{value:!0});const h=I(S(666)),D=I(S(608)),y=S(57);class m{constructor(E,{headers:_={},schema:R,fetch:j}={}){this.url=E,this.headers=Object.assign(Object.assign({},y.DEFAULT_HEADERS),_),this.schemaName=R,this.fetch=j}from(E){const _=new URL(`${this.url}/${E}`);return new h.default(_,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(E){return new m(this.url,{headers:this.headers,schema:E,fetch:this.fetch})}rpc(E,_={},{head:R=!1,get:j=!1,count:$}={}){let L;const F=new URL(`${this.url}/rpc/${E}`);let J;R||j?(L=R?"HEAD":"GET",Object.entries(_).filter(([ke,B])=>void 0!==B).map(([ke,B])=>[ke,Array.isArray(B)?`{${B.join(",")}}`:`${B}`]).forEach(([ke,B])=>{F.searchParams.append(ke,B)})):(L="POST",J=_);const oe=Object.assign({},this.headers);return $&&(oe.Prefer=`count=${$}`),new D.default({method:L,url:F,headers:oe,schema:this.schemaName,body:J,fetch:this.fetch,allowEmpty:!1})}}b.default=m},659:(W,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});class S extends Error{constructor(h){super(h.message),this.name="PostgrestError",this.details=h.details,this.hint=h.hint,this.code=h.code}}b.default=S},608:function(W,b,S){"use strict";var I=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(b,"__esModule",{value:!0});const h=I(S(342));b.default=class D extends h.default{eq(m,v){return this.url.searchParams.append(m,`eq.${v}`),this}neq(m,v){return this.url.searchParams.append(m,`neq.${v}`),this}gt(m,v){return this.url.searchParams.append(m,`gt.${v}`),this}gte(m,v){return this.url.searchParams.append(m,`gte.${v}`),this}lt(m,v){return this.url.searchParams.append(m,`lt.${v}`),this}lte(m,v){return this.url.searchParams.append(m,`lte.${v}`),this}like(m,v){return this.url.searchParams.append(m,`like.${v}`),this}likeAllOf(m,v){return this.url.searchParams.append(m,`like(all).{${v.join(",")}}`),this}likeAnyOf(m,v){return this.url.searchParams.append(m,`like(any).{${v.join(",")}}`),this}ilike(m,v){return this.url.searchParams.append(m,`ilike.${v}`),this}ilikeAllOf(m,v){return this.url.searchParams.append(m,`ilike(all).{${v.join(",")}}`),this}ilikeAnyOf(m,v){return this.url.searchParams.append(m,`ilike(any).{${v.join(",")}}`),this}is(m,v){return this.url.searchParams.append(m,`is.${v}`),this}in(m,v){const E=Array.from(new Set(v)).map(_=>"string"==typeof _&&new RegExp("[,()]").test(_)?`"${_}"`:`${_}`).join(",");return this.url.searchParams.append(m,`in.(${E})`),this}contains(m,v){return"string"==typeof v?this.url.searchParams.append(m,`cs.${v}`):Array.isArray(v)?this.url.searchParams.append(m,`cs.{${v.join(",")}}`):this.url.searchParams.append(m,`cs.${JSON.stringify(v)}`),this}containedBy(m,v){return"string"==typeof v?this.url.searchParams.append(m,`cd.${v}`):Array.isArray(v)?this.url.searchParams.append(m,`cd.{${v.join(",")}}`):this.url.searchParams.append(m,`cd.${JSON.stringify(v)}`),this}rangeGt(m,v){return this.url.searchParams.append(m,`sr.${v}`),this}rangeGte(m,v){return this.url.searchParams.append(m,`nxl.${v}`),this}rangeLt(m,v){return this.url.searchParams.append(m,`sl.${v}`),this}rangeLte(m,v){return this.url.searchParams.append(m,`nxr.${v}`),this}rangeAdjacent(m,v){return this.url.searchParams.append(m,`adj.${v}`),this}overlaps(m,v){return this.url.searchParams.append(m,"string"==typeof v?`ov.${v}`:`ov.{${v.join(",")}}`),this}textSearch(m,v,{config:E,type:_}={}){let R="";return"plain"===_?R="pl":"phrase"===_?R="ph":"websearch"===_&&(R="w"),this.url.searchParams.append(m,`${R}fts${void 0===E?"":`(${E})`}.${v}`),this}match(m){return Object.entries(m).forEach(([v,E])=>{this.url.searchParams.append(v,`eq.${E}`)}),this}not(m,v,E){return this.url.searchParams.append(m,`not.${v}.${E}`),this}or(m,{foreignTable:v,referencedTable:E=v}={}){return this.url.searchParams.append(E?`${E}.or`:"or",`(${m})`),this}filter(m,v,E){return this.url.searchParams.append(m,`${v}.${E}`),this}}},666:function(W,b,S){"use strict";var I=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(b,"__esModule",{value:!0});const h=I(S(608));b.default=class D{constructor(m,{headers:v={},schema:E,fetch:_}){this.url=m,this.headers=v,this.schema=E,this.fetch=_}select(m,{head:v=!1,count:E}={}){const _=v?"HEAD":"GET";let R=!1;const j=(m??"*").split("").map($=>/\s/.test($)&&!R?"":('"'===$&&(R=!R),$)).join("");return this.url.searchParams.set("select",j),E&&(this.headers.Prefer=`count=${E}`),new h.default({method:_,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(m,{count:v,defaultToNull:E=!0}={}){const R=[];if(this.headers.Prefer&&R.push(this.headers.Prefer),v&&R.push(`count=${v}`),E||R.push("missing=default"),this.headers.Prefer=R.join(","),Array.isArray(m)){const j=m.reduce(($,L)=>$.concat(Object.keys(L)),[]);if(j.length>0){const $=[...new Set(j)].map(L=>`"${L}"`);this.url.searchParams.set("columns",$.join(","))}}return new h.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:m,fetch:this.fetch,allowEmpty:!1})}upsert(m,{onConflict:v,ignoreDuplicates:E=!1,count:_,defaultToNull:R=!0}={}){const $=[`resolution=${E?"ignore":"merge"}-duplicates`];if(void 0!==v&&this.url.searchParams.set("on_conflict",v),this.headers.Prefer&&$.push(this.headers.Prefer),_&&$.push(`count=${_}`),R||$.push("missing=default"),this.headers.Prefer=$.join(","),Array.isArray(m)){const L=m.reduce((F,J)=>F.concat(Object.keys(J)),[]);if(L.length>0){const F=[...new Set(L)].map(J=>`"${J}"`);this.url.searchParams.set("columns",F.join(","))}}return new h.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:m,fetch:this.fetch,allowEmpty:!1})}update(m,{count:v}={}){const _=[];return this.headers.Prefer&&_.push(this.headers.Prefer),v&&_.push(`count=${v}`),this.headers.Prefer=_.join(","),new h.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:m,fetch:this.fetch,allowEmpty:!1})}delete({count:m}={}){const E=[];return m&&E.push(`count=${m}`),this.headers.Prefer&&E.unshift(this.headers.Prefer),this.headers.Prefer=E.join(","),new h.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}},342:function(W,b,S){"use strict";var I=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(b,"__esModule",{value:!0});const h=I(S(958));b.default=class D extends h.default{select(m){let v=!1;const E=(m??"*").split("").map(_=>/\s/.test(_)&&!v?"":('"'===_&&(v=!v),_)).join("");return this.url.searchParams.set("select",E),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(m,{ascending:v=!0,nullsFirst:E,foreignTable:_,referencedTable:R=_}={}){const j=R?`${R}.order`:"order",$=this.url.searchParams.get(j);return this.url.searchParams.set(j,`${$?`${$},`:""}${m}.${v?"asc":"desc"}${void 0===E?"":E?".nullsfirst":".nullslast"}`),this}limit(m,{foreignTable:v,referencedTable:E=v}={}){return this.url.searchParams.set(typeof E>"u"?"limit":`${E}.limit`,`${m}`),this}range(m,v,{foreignTable:E,referencedTable:_=E}={}){const j=typeof _>"u"?"limit":`${_}.limit`;return this.url.searchParams.set(typeof _>"u"?"offset":`${_}.offset`,`${m}`),this.url.searchParams.set(j,""+(v-m+1)),this}abortSignal(m){return this.signal=m,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.headers.Accept="GET"===this.method?"application/json":"application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:m=!1,verbose:v=!1,settings:E=!1,buffers:_=!1,wal:R=!1,format:j="text"}={}){var $;const L=[m?"analyze":null,v?"verbose":null,E?"settings":null,_?"buffers":null,R?"wal":null].filter(Boolean).join("|"),F=null!==($=this.headers.Accept)&&void 0!==$?$:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${j}; for="${F}"; options=${L};`,this}rollback(){var m;return(null!==(m=this.headers.Prefer)&&void 0!==m?m:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}},57:(W,b,S)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.DEFAULT_HEADERS=void 0;const I=S(56);b.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${I.version}`}},60:function(W,b,S){"use strict";var I=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(b,"__esModule",{value:!0}),b.PostgrestError=b.PostgrestBuilder=b.PostgrestTransformBuilder=b.PostgrestFilterBuilder=b.PostgrestQueryBuilder=b.PostgrestClient=void 0;const h=I(S(242));b.PostgrestClient=h.default;const D=I(S(666));b.PostgrestQueryBuilder=D.default;const y=I(S(608));b.PostgrestFilterBuilder=y.default;const m=I(S(342));b.PostgrestTransformBuilder=m.default;const v=I(S(958));b.PostgrestBuilder=v.default;const E=I(S(659));b.PostgrestError=E.default,b.default={PostgrestClient:h.default,PostgrestQueryBuilder:D.default,PostgrestFilterBuilder:y.default,PostgrestTransformBuilder:m.default,PostgrestBuilder:v.default,PostgrestError:E.default}},56:(W,b)=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.version=void 0,b.version="0.0.0-automated"},243:W=>{"use strict";var b={single_source_shortest_paths:function(S,I,h){var D={},y={};y[I]=0;var v,E,_,R,j,L,m=b.PriorityQueue.make();for(m.push(I,0);!m.empty();)for(_ in R=(v=m.pop()).cost,j=S[E=v.value]||{})j.hasOwnProperty(_)&&(L=R+j[_],(typeof y[_]>"u"||y[_]>L)&&(y[_]=L,m.push(_,L),D[_]=E));if(typeof h<"u"&&typeof y[h]>"u"){var oe=["Could not find a path from ",I," to ",h,"."].join("");throw new Error(oe)}return D},extract_shortest_path_from_predecessor_list:function(S,I){for(var h=[],D=I;D;)h.push(D),D=S[D];return h.reverse(),h},find_path:function(S,I,h){var D=b.single_source_shortest_paths(S,I,h);return b.extract_shortest_path_from_predecessor_list(D,h)},PriorityQueue:{make:function(S){var D,I=b.PriorityQueue,h={};for(D in S=S||{},I)I.hasOwnProperty(D)&&(h[D]=I[D]);return h.queue=[],h.sorter=S.sorter||I.default_sorter,h},default_sorter:function(S,I){return S.cost-I.cost},push:function(S,I){this.queue.push({value:S,cost:I}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};W.exports=b},174:W=>{"use strict";W.exports=function(S){for(var I=[],h=S.length,D=0;D<h;D++){var y=S.charCodeAt(D);if(y>=55296&&y<=56319&&h>D+1){var m=S.charCodeAt(D+1);m>=56320&&m<=57343&&(y=1024*(y-55296)+m-56320+65536,D+=1)}y<128?I.push(y):y<2048?(I.push(y>>6|192),I.push(63&y|128)):y<55296||y>=57344&&y<65536?(I.push(y>>12|224),I.push(y>>6&63|128),I.push(63&y|128)):y>=65536&&y<=1114111?(I.push(y>>18|240),I.push(y>>12&63|128),I.push(y>>6&63|128),I.push(63&y|128)):I.push(239,191,189)}return new Uint8Array(I).buffer}},314:(W,b,S)=>{const h=S(836),D=S(460),y=S(30),m=S(511);function v(E,_,R,j,$){const L=[].slice.call(arguments,1),F=L.length,J="function"==typeof L[F-1];if(!J&&!h())throw new Error("Callback required as last argument");if(!J){if(F<1)throw new Error("Too few arguments provided");return 1===F?(R=_,_=j=void 0):2===F&&!_.getContext&&(j=R,R=_,_=void 0),new Promise(function(oe,ke){try{const B=D.create(R,j);oe(E(B,_,j))}catch(B){ke(B)}})}if(F<2)throw new Error("Too few arguments provided");2===F?($=R,R=_,_=j=void 0):3===F&&(_.getContext&&typeof $>"u"?($=j,j=void 0):($=j,j=R,R=_,_=void 0));try{const oe=D.create(R,j);$(null,E(oe,_,j))}catch(oe){$(oe)}}b.mo=v.bind(null,y.render),b.dY=v.bind(null,y.renderToDataURL),b.toString=v.bind(null,function(E,_,R){return m.render(E,R)})},836:W=>{W.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},214:(W,b,S)=>{const I=S(89).getSymbolSize;b.getRowColCoords=function(D){if(1===D)return[];const y=Math.floor(D/7)+2,m=I(D),v=145===m?26:2*Math.ceil((m-13)/(2*y-2)),E=[m-7];for(let _=1;_<y-1;_++)E[_]=E[_-1]-v;return E.push(6),E.reverse()},b.getPositions=function(D){const y=[],m=b.getRowColCoords(D),v=m.length;for(let E=0;E<v;E++)for(let _=0;_<v;_++)0===E&&0===_||0===E&&_===v-1||E===v-1&&0===_||y.push([m[E],m[_]]);return y}},18:(W,b,S)=>{const I=S(58),h=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function D(y){this.mode=I.ALPHANUMERIC,this.data=y}D.getBitsLength=function(m){return 11*Math.floor(m/2)+m%2*6},D.prototype.getLength=function(){return this.data.length},D.prototype.getBitsLength=function(){return D.getBitsLength(this.data.length)},D.prototype.write=function(m){let v;for(v=0;v+2<=this.data.length;v+=2){let E=45*h.indexOf(this.data[v]);E+=h.indexOf(this.data[v+1]),m.put(E,11)}this.data.length%2&&m.put(h.indexOf(this.data[v]),6)},W.exports=D},662:W=>{function b(){this.buffer=[],this.length=0}b.prototype={get:function(S){const I=Math.floor(S/8);return 1==(this.buffer[I]>>>7-S%8&1)},put:function(S,I){for(let h=0;h<I;h++)this.putBit(1==(S>>>I-h-1&1))},getLengthInBits:function(){return this.length},putBit:function(S){const I=Math.floor(this.length/8);this.buffer.length<=I&&this.buffer.push(0),S&&(this.buffer[I]|=128>>>this.length%8),this.length++}},W.exports=b},941:W=>{function b(S){if(!S||S<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=S,this.data=new Uint8Array(S*S),this.reservedBit=new Uint8Array(S*S)}b.prototype.set=function(S,I,h,D){const y=S*this.size+I;this.data[y]=h,D&&(this.reservedBit[y]=!0)},b.prototype.get=function(S,I){return this.data[S*this.size+I]},b.prototype.xor=function(S,I,h){this.data[S*this.size+I]^=h},b.prototype.isReserved=function(S,I){return this.reservedBit[S*this.size+I]},W.exports=b},969:(W,b,S)=>{const I=S(174),h=S(58);function D(y){this.mode=h.BYTE,"string"==typeof y&&(y=I(y)),this.data=new Uint8Array(y)}D.getBitsLength=function(m){return 8*m},D.prototype.getLength=function(){return this.data.length},D.prototype.getBitsLength=function(){return D.getBitsLength(this.data.length)},D.prototype.write=function(y){for(let m=0,v=this.data.length;m<v;m++)y.put(this.data[m],8)},W.exports=D},677:(W,b,S)=>{const I=S(424),h=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],D=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];b.getBlocksCount=function(m,v){switch(v){case I.L:return h[4*(m-1)+0];case I.M:return h[4*(m-1)+1];case I.Q:return h[4*(m-1)+2];case I.H:return h[4*(m-1)+3];default:return}},b.getTotalCodewordsCount=function(m,v){switch(v){case I.L:return D[4*(m-1)+0];case I.M:return D[4*(m-1)+1];case I.Q:return D[4*(m-1)+2];case I.H:return D[4*(m-1)+3];default:return}}},424:(W,b)=>{b.L={bit:1},b.M={bit:0},b.Q={bit:3},b.H={bit:2},b.isValid=function(h){return h&&typeof h.bit<"u"&&h.bit>=0&&h.bit<4},b.from=function(h,D){if(b.isValid(h))return h;try{return function S(I){if("string"!=typeof I)throw new Error("Param is not a string");switch(I.toLowerCase()){case"l":case"low":return b.L;case"m":case"medium":return b.M;case"q":case"quartile":return b.Q;case"h":case"high":return b.H;default:throw new Error("Unknown EC Level: "+I)}}(h)}catch{return D}}},269:(W,b,S)=>{const I=S(89).getSymbolSize;b.getPositions=function(y){const m=I(y);return[[0,0],[m-7,0],[0,m-7]]}},254:(W,b,S)=>{const I=S(89),y=I.getBCHDigit(1335);b.getEncodedBits=function(v,E){const _=v.bit<<3|E;let R=_<<10;for(;I.getBCHDigit(R)-y>=0;)R^=1335<<I.getBCHDigit(R)-y;return 21522^(_<<10|R)}},686:(W,b)=>{const S=new Uint8Array(512),I=new Uint8Array(256);(function(){let D=1;for(let y=0;y<255;y++)S[y]=D,I[D]=y,D<<=1,256&D&&(D^=285);for(let y=255;y<512;y++)S[y]=S[y-255]})(),b.log=function(D){if(D<1)throw new Error("log("+D+")");return I[D]},b.exp=function(D){return S[D]},b.mul=function(D,y){return 0===D||0===y?0:S[I[D]+I[y]]}},264:(W,b,S)=>{const I=S(58),h=S(89);function D(y){this.mode=I.KANJI,this.data=y}D.getBitsLength=function(m){return 13*m},D.prototype.getLength=function(){return this.data.length},D.prototype.getBitsLength=function(){return D.getBitsLength(this.data.length)},D.prototype.write=function(y){let m;for(m=0;m<this.data.length;m++){let v=h.toSJIS(this.data[m]);if(v>=33088&&v<=40956)v-=33088;else{if(!(v>=57408&&v<=60351))throw new Error("Invalid SJIS character: "+this.data[m]+"\nMake sure your charset is UTF-8");v-=49472}v=192*(v>>>8&255)+(255&v),y.put(v,13)}},W.exports=D},361:(W,b)=>{b.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function I(h,D,y){switch(h){case b.Patterns.PATTERN000:return(D+y)%2==0;case b.Patterns.PATTERN001:return D%2==0;case b.Patterns.PATTERN010:return y%3==0;case b.Patterns.PATTERN011:return(D+y)%3==0;case b.Patterns.PATTERN100:return(Math.floor(D/2)+Math.floor(y/3))%2==0;case b.Patterns.PATTERN101:return D*y%2+D*y%3==0;case b.Patterns.PATTERN110:return(D*y%2+D*y%3)%2==0;case b.Patterns.PATTERN111:return(D*y%3+(D+y)%2)%2==0;default:throw new Error("bad maskPattern:"+h)}}b.isValid=function(D){return null!=D&&""!==D&&!isNaN(D)&&D>=0&&D<=7},b.from=function(D){return b.isValid(D)?parseInt(D,10):void 0},b.getPenaltyN1=function(D){const y=D.size;let m=0,v=0,E=0,_=null,R=null;for(let j=0;j<y;j++){v=E=0,_=R=null;for(let $=0;$<y;$++){let L=D.get(j,$);L===_?v++:(v>=5&&(m+=v-5+3),_=L,v=1),L=D.get($,j),L===R?E++:(E>=5&&(m+=E-5+3),R=L,E=1)}v>=5&&(m+=v-5+3),E>=5&&(m+=E-5+3)}return m},b.getPenaltyN2=function(D){const y=D.size;let m=0;for(let v=0;v<y-1;v++)for(let E=0;E<y-1;E++){const _=D.get(v,E)+D.get(v,E+1)+D.get(v+1,E)+D.get(v+1,E+1);(4===_||0===_)&&m++}return 3*m},b.getPenaltyN3=function(D){const y=D.size;let m=0,v=0,E=0;for(let _=0;_<y;_++){v=E=0;for(let R=0;R<y;R++)v=v<<1&2047|D.get(_,R),R>=10&&(1488===v||93===v)&&m++,E=E<<1&2047|D.get(R,_),R>=10&&(1488===E||93===E)&&m++}return 40*m},b.getPenaltyN4=function(D){let y=0;const m=D.data.length;for(let E=0;E<m;E++)y+=D.data[E];return 10*Math.abs(Math.ceil(100*y/m/5)-10)},b.applyMask=function(D,y){const m=y.size;for(let v=0;v<m;v++)for(let E=0;E<m;E++)y.isReserved(E,v)||y.xor(E,v,I(D,E,v))},b.getBestMask=function(D,y){const m=Object.keys(b.Patterns).length;let v=0,E=1/0;for(let _=0;_<m;_++){y(_),b.applyMask(_,D);const R=b.getPenaltyN1(D)+b.getPenaltyN2(D)+b.getPenaltyN3(D)+b.getPenaltyN4(D);b.applyMask(_,D),R<E&&(E=R,v=_)}return v}},58:(W,b,S)=>{const I=S(377),h=S(359);b.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},b.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},b.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},b.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},b.MIXED={bit:-1},b.getCharCountIndicator=function(m,v){if(!m.ccBits)throw new Error("Invalid mode: "+m);if(!I.isValid(v))throw new Error("Invalid version: "+v);return v>=1&&v<10?m.ccBits[0]:v<27?m.ccBits[1]:m.ccBits[2]},b.getBestModeForData=function(m){return h.testNumeric(m)?b.NUMERIC:h.testAlphanumeric(m)?b.ALPHANUMERIC:h.testKanji(m)?b.KANJI:b.BYTE},b.toString=function(m){if(m&&m.id)return m.id;throw new Error("Invalid mode")},b.isValid=function(m){return m&&m.bit&&m.ccBits},b.from=function(m,v){if(b.isValid(m))return m;try{return function D(y){if("string"!=typeof y)throw new Error("Param is not a string");switch(y.toLowerCase()){case"numeric":return b.NUMERIC;case"alphanumeric":return b.ALPHANUMERIC;case"kanji":return b.KANJI;case"byte":return b.BYTE;default:throw new Error("Unknown mode: "+y)}}(m)}catch{return v}}},628:(W,b,S)=>{const I=S(58);function h(D){this.mode=I.NUMERIC,this.data=D.toString()}h.getBitsLength=function(y){return 10*Math.floor(y/3)+(y%3?y%3*3+1:0)},h.prototype.getLength=function(){return this.data.length},h.prototype.getBitsLength=function(){return h.getBitsLength(this.data.length)},h.prototype.write=function(y){let m,v,E;for(m=0;m+3<=this.data.length;m+=3)v=this.data.substr(m,3),E=parseInt(v,10),y.put(E,10);const _=this.data.length-m;_>0&&(v=this.data.substr(m),E=parseInt(v,10),y.put(E,3*_+1))},W.exports=h},744:(W,b,S)=>{const I=S(686);b.mul=function(D,y){const m=new Uint8Array(D.length+y.length-1);for(let v=0;v<D.length;v++)for(let E=0;E<y.length;E++)m[v+E]^=I.mul(D[v],y[E]);return m},b.mod=function(D,y){let m=new Uint8Array(D);for(;m.length-y.length>=0;){const v=m[0];for(let _=0;_<y.length;_++)m[_]^=I.mul(y[_],v);let E=0;for(;E<m.length&&0===m[E];)E++;m=m.slice(E)}return m},b.generateECPolynomial=function(D){let y=new Uint8Array([1]);for(let m=0;m<D;m++)y=b.mul(y,new Uint8Array([1,I.exp(m)]));return y}},460:(W,b,S)=>{const I=S(89),h=S(424),D=S(662),y=S(941),m=S(214),v=S(269),E=S(361),_=S(677),R=S(289),j=S(252),$=S(254),L=S(58),F=S(868);function Y(q,ee,G){const H=q.size,ge=$.getEncodedBits(ee,G);let ae,Z;for(ae=0;ae<15;ae++)Z=1==(ge>>ae&1),q.set(ae<6?ae:ae<8?ae+1:H-15+ae,8,Z,!0),q.set(8,ae<8?H-ae-1:ae<9?15-ae-1+1:15-ae-1,Z,!0);q.set(H-8,8,1,!0)}function lt(q,ee,G,H){let ge;if(Array.isArray(q))ge=F.fromArray(q);else{if("string"!=typeof q)throw new Error("Invalid data");{let Rn=ee;if(!Rn){const Io=F.rawSplit(q);Rn=j.getBestVersionForData(Io,G)}ge=F.fromString(q,Rn||40)}}const ae=j.getBestVersionForData(ge,G);if(!ae)throw new Error("The amount of data is too big to be stored in a QR Code");if(ee){if(ee<ae)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+ae+".\n")}else ee=ae;const Z=function X(q,ee,G){const H=new D;G.forEach(function(me){H.put(me.mode.bit,4),H.put(me.getLength(),L.getCharCountIndicator(me.mode,q)),me.write(H)});const Z=8*(I.getSymbolTotalCodewords(q)-_.getTotalCodewordsCount(q,ee));for(H.getLengthInBits()+4<=Z&&H.put(0,4);H.getLengthInBits()%8!=0;)H.putBit(0);const ye=(Z-H.getLengthInBits())/8;for(let me=0;me<ye;me++)H.put(me%2?17:236,8);return function Le(q,ee,G){const H=I.getSymbolTotalCodewords(ee),ae=H-_.getTotalCodewordsCount(ee,G),Z=_.getBlocksCount(ee,G),me=Z-H%Z,Rn=Math.floor(H/Z),Io=Math.floor(ae/Z),Ba=Io+1,Qi=Rn-Io,$l=new R(Qi);let Wr=0;const Yi=new Array(Z),Bl=new Array(Z);let Va=0;const Vl=new Uint8Array(q.buffer);for(let tr=0;tr<Z;tr++){const Zi=tr<me?Io:Ba;Yi[tr]=Vl.slice(Wr,Wr+Zi),Bl[tr]=$l.encode(Yi[tr]),Wr+=Zi,Va=Math.max(Va,Zi)}const Ha=new Uint8Array(H);let hn,Nn,za=0;for(hn=0;hn<Va;hn++)for(Nn=0;Nn<Z;Nn++)hn<Yi[Nn].length&&(Ha[za++]=Yi[Nn][hn]);for(hn=0;hn<Qi;hn++)for(Nn=0;Nn<Z;Nn++)Ha[za++]=Bl[Nn][hn];return Ha}(H,q,ee)}(ee,G,ge),ye=I.getSymbolSize(ee),me=new y(ye);return function J(q,ee){const G=q.size,H=v.getPositions(ee);for(let ge=0;ge<H.length;ge++){const ae=H[ge][0],Z=H[ge][1];for(let ye=-1;ye<=7;ye++)if(!(ae+ye<=-1||G<=ae+ye))for(let me=-1;me<=7;me++)Z+me<=-1||G<=Z+me||q.set(ae+ye,Z+me,ye>=0&&ye<=6&&(0===me||6===me)||me>=0&&me<=6&&(0===ye||6===ye)||ye>=2&&ye<=4&&me>=2&&me<=4,!0)}}(me,ee),function oe(q){const ee=q.size;for(let G=8;G<ee-8;G++){const H=G%2==0;q.set(G,6,H,!0),q.set(6,G,H,!0)}}(me),function ke(q,ee){const G=m.getPositions(ee);for(let H=0;H<G.length;H++){const ge=G[H][0],ae=G[H][1];for(let Z=-2;Z<=2;Z++)for(let ye=-2;ye<=2;ye++)q.set(ge+Z,ae+ye,-2===Z||2===Z||-2===ye||2===ye||0===Z&&0===ye,!0)}}(me,ee),Y(me,G,0),ee>=7&&function B(q,ee){const G=q.size,H=j.getEncodedBits(ee);let ge,ae,Z;for(let ye=0;ye<18;ye++)ge=Math.floor(ye/3),ae=ye%3+G-8-3,Z=1==(H>>ye&1),q.set(ge,ae,Z,!0),q.set(ae,ge,Z,!0)}(me,ee),function ie(q,ee){const G=q.size;let H=-1,ge=G-1,ae=7,Z=0;for(let ye=G-1;ye>0;ye-=2)for(6===ye&&ye--;;){for(let me=0;me<2;me++)if(!q.isReserved(ge,ye-me)){let Rn=!1;Z<ee.length&&(Rn=1==(ee[Z]>>>ae&1)),q.set(ge,ye-me,Rn),ae--,-1===ae&&(Z++,ae=7)}if(ge+=H,ge<0||G<=ge){ge-=H,H=-H;break}}}(me,Z),isNaN(H)&&(H=E.getBestMask(me,Y.bind(null,me,G))),E.applyMask(H,me),Y(me,G,H),{modules:me,version:ee,errorCorrectionLevel:G,maskPattern:H,segments:ge}}b.create=function(ee,G){if(typeof ee>"u"||""===ee)throw new Error("No input text");let ge,ae,H=h.M;return typeof G<"u"&&(H=h.from(G.errorCorrectionLevel,h.M),ge=j.from(G.version),ae=E.from(G.maskPattern),G.toSJISFunc&&I.setToSJISFunction(G.toSJISFunc)),lt(ee,ge,H,ae)}},289:(W,b,S)=>{const I=S(744);function h(D){this.genPoly=void 0,this.degree=D,this.degree&&this.initialize(this.degree)}h.prototype.initialize=function(y){this.degree=y,this.genPoly=I.generateECPolynomial(this.degree)},h.prototype.encode=function(y){if(!this.genPoly)throw new Error("Encoder not initialized");const m=new Uint8Array(y.length+this.degree);m.set(y);const v=I.mod(m,this.genPoly),E=this.degree-v.length;if(E>0){const _=new Uint8Array(this.degree);return _.set(v,E),_}return v},W.exports=h},359:(W,b)=>{const S="[0-9]+";let h="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";h=h.replace(/u/g,"\\u");const D="(?:(?![A-Z0-9 $%*+\\-./:]|"+h+")(?:.|[\r\n]))+";b.KANJI=new RegExp(h,"g"),b.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),b.BYTE=new RegExp(D,"g"),b.NUMERIC=new RegExp(S,"g"),b.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const y=new RegExp("^"+h+"$"),m=new RegExp("^"+S+"$"),v=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");b.testKanji=function(_){return y.test(_)},b.testNumeric=function(_){return m.test(_)},b.testAlphanumeric=function(_){return v.test(_)}},868:(W,b,S)=>{const I=S(58),h=S(628),D=S(18),y=S(969),m=S(264),v=S(359),E=S(89),_=S(243);function R(B){return unescape(encodeURIComponent(B)).length}function j(B,Y,ie){const X=[];let Le;for(;null!==(Le=B.exec(ie));)X.push({data:Le[0],index:Le.index,mode:Y,length:Le[0].length});return X}function $(B){const Y=j(v.NUMERIC,I.NUMERIC,B),ie=j(v.ALPHANUMERIC,I.ALPHANUMERIC,B);let X,Le;return E.isKanjiModeEnabled()?(X=j(v.BYTE,I.BYTE,B),Le=j(v.KANJI,I.KANJI,B)):(X=j(v.BYTE_KANJI,I.BYTE,B),Le=[]),Y.concat(ie,X,Le).sort(function(q,ee){return q.index-ee.index}).map(function(q){return{data:q.data,mode:q.mode,length:q.length}})}function L(B,Y){switch(Y){case I.NUMERIC:return h.getBitsLength(B);case I.ALPHANUMERIC:return D.getBitsLength(B);case I.KANJI:return m.getBitsLength(B);case I.BYTE:return y.getBitsLength(B)}}function ke(B,Y){let ie;const X=I.getBestModeForData(B);if(ie=I.from(Y,X),ie!==I.BYTE&&ie.bit<X.bit)throw new Error('"'+B+'" cannot be encoded with mode '+I.toString(ie)+".\n Suggested mode is: "+I.toString(X));switch(ie===I.KANJI&&!E.isKanjiModeEnabled()&&(ie=I.BYTE),ie){case I.NUMERIC:return new h(B);case I.ALPHANUMERIC:return new D(B);case I.KANJI:return new m(B);case I.BYTE:return new y(B)}}b.fromArray=function(Y){return Y.reduce(function(ie,X){return"string"==typeof X?ie.push(ke(X,null)):X.data&&ie.push(ke(X.data,X.mode)),ie},[])},b.fromString=function(Y,ie){const Le=function J(B){const Y=[];for(let ie=0;ie<B.length;ie++){const X=B[ie];switch(X.mode){case I.NUMERIC:Y.push([X,{data:X.data,mode:I.ALPHANUMERIC,length:X.length},{data:X.data,mode:I.BYTE,length:X.length}]);break;case I.ALPHANUMERIC:Y.push([X,{data:X.data,mode:I.BYTE,length:X.length}]);break;case I.KANJI:Y.push([X,{data:X.data,mode:I.BYTE,length:R(X.data)}]);break;case I.BYTE:Y.push([{data:X.data,mode:I.BYTE,length:R(X.data)}])}}return Y}($(Y,E.isKanjiModeEnabled())),lt=function oe(B,Y){const ie={},X={start:{}};let Le=["start"];for(let lt=0;lt<B.length;lt++){const q=B[lt],ee=[];for(let G=0;G<q.length;G++){const H=q[G],ge=""+lt+G;ee.push(ge),ie[ge]={node:H,lastCount:0},X[ge]={};for(let ae=0;ae<Le.length;ae++){const Z=Le[ae];ie[Z]&&ie[Z].node.mode===H.mode?(X[Z][ge]=L(ie[Z].lastCount+H.length,H.mode)-L(ie[Z].lastCount,H.mode),ie[Z].lastCount+=H.length):(ie[Z]&&(ie[Z].lastCount=H.length),X[Z][ge]=L(H.length,H.mode)+4+I.getCharCountIndicator(H.mode,Y))}}Le=ee}for(let lt=0;lt<Le.length;lt++)X[Le[lt]].end=0;return{map:X,table:ie}}(Le,ie),q=_.find_path(lt.map,"start","end"),ee=[];for(let G=1;G<q.length-1;G++)ee.push(lt.table[q[G]].node);return b.fromArray(function F(B){return B.reduce(function(Y,ie){const X=Y.length-1>=0?Y[Y.length-1]:null;return X&&X.mode===ie.mode?(Y[Y.length-1].data+=ie.data,Y):(Y.push(ie),Y)},[])}(ee))},b.rawSplit=function(Y){return b.fromArray($(Y,E.isKanjiModeEnabled()))}},89:(W,b)=>{let S;const I=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];b.getSymbolSize=function(D){if(!D)throw new Error('"version" cannot be null or undefined');if(D<1||D>40)throw new Error('"version" should be in range from 1 to 40');return 4*D+17},b.getSymbolTotalCodewords=function(D){return I[D]},b.getBCHDigit=function(h){let D=0;for(;0!==h;)D++,h>>>=1;return D},b.setToSJISFunction=function(D){if("function"!=typeof D)throw new Error('"toSJISFunc" is not a valid function.');S=D},b.isKanjiModeEnabled=function(){return typeof S<"u"},b.toSJIS=function(D){return S(D)}},377:(W,b)=>{b.isValid=function(I){return!isNaN(I)&&I>=1&&I<=40}},252:(W,b,S)=>{const I=S(89),h=S(677),D=S(424),y=S(58),m=S(377),E=I.getBCHDigit(7973);function R(L,F){return y.getCharCountIndicator(L,F)+4}function j(L,F){let J=0;return L.forEach(function(oe){const ke=R(oe.mode,F);J+=ke+oe.getBitsLength()}),J}b.from=function(F,J){return m.isValid(F)?parseInt(F,10):J},b.getCapacity=function(F,J,oe){if(!m.isValid(F))throw new Error("Invalid QR Code version");typeof oe>"u"&&(oe=y.BYTE);const Y=8*(I.getSymbolTotalCodewords(F)-h.getTotalCodewordsCount(F,J));if(oe===y.MIXED)return Y;const ie=Y-R(oe,F);switch(oe){case y.NUMERIC:return Math.floor(ie/10*3);case y.ALPHANUMERIC:return Math.floor(ie/11*2);case y.KANJI:return Math.floor(ie/13);default:return Math.floor(ie/8)}},b.getBestVersionForData=function(F,J){let oe;const ke=D.from(J,D.M);if(Array.isArray(F)){if(F.length>1)return function $(L,F){for(let J=1;J<=40;J++)if(j(L,J)<=b.getCapacity(J,F,y.MIXED))return J}(F,ke);if(0===F.length)return 1;oe=F[0]}else oe=F;return function _(L,F,J){for(let oe=1;oe<=40;oe++)if(F<=b.getCapacity(oe,J,L))return oe}(oe.mode,oe.getLength(),ke)},b.getEncodedBits=function(F){if(!m.isValid(F)||F<7)throw new Error("Invalid QR Code version");let J=F<<12;for(;I.getBCHDigit(J)-E>=0;)J^=7973<<I.getBCHDigit(J)-E;return F<<12|J}},30:(W,b,S)=>{const I=S(77);b.render=function(m,v,E){let _=E,R=v;typeof _>"u"&&(!v||!v.getContext)&&(_=v,v=void 0),v||(R=function D(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}()),_=I.getOptions(_);const j=I.getImageWidth(m.modules.size,_),$=R.getContext("2d"),L=$.createImageData(j,j);return I.qrToImageData(L.data,m,_),function h(y,m,v){y.clearRect(0,0,m.width,m.height),m.style||(m.style={}),m.height=v,m.width=v,m.style.height=v+"px",m.style.width=v+"px"}($,R,j),$.putImageData(L,0,0),R},b.renderToDataURL=function(m,v,E){let _=E;return typeof _>"u"&&(!v||!v.getContext)&&(_=v,v=void 0),_||(_={}),b.render(m,v,_).toDataURL(_.type||"image/png",(_.rendererOpts||{}).quality)}},511:(W,b,S)=>{const I=S(77);function h(m,v){const E=m.a/255,_=v+'="'+m.hex+'"';return E<1?_+" "+v+'-opacity="'+E.toFixed(2).slice(1)+'"':_}function D(m,v,E){let _=m+v;return typeof E<"u"&&(_+=" "+E),_}b.render=function(v,E,_){const R=I.getOptions(E),j=v.modules.size,$=v.modules.data,L=j+2*R.margin,F=R.color.light.a?"<path "+h(R.color.light,"fill")+' d="M0 0h'+L+"v"+L+'H0z"/>':"",J="<path "+h(R.color.dark,"stroke")+' d="'+function y(m,v,E){let _="",R=0,j=!1,$=0;for(let L=0;L<m.length;L++){const F=Math.floor(L%v),J=Math.floor(L/v);!F&&!j&&(j=!0),m[L]?($++,L>0&&F>0&&m[L-1]||(_+=j?D("M",F+E,.5+J+E):D("m",R,0),R=0,j=!1),F+1<v&&m[L+1]||(_+=D("h",$),$=0)):R++}return _}($,j,R.margin)+'"/>',B='<svg xmlns="http://www.w3.org/2000/svg" '+(R.width?'width="'+R.width+'" height="'+R.width+'" ':"")+'viewBox="0 0 '+L+" "+L+'" shape-rendering="crispEdges">'+F+J+"</svg>\n";return"function"==typeof _&&_(null,B),B}},77:(W,b)=>{function S(I){if("number"==typeof I&&(I=I.toString()),"string"!=typeof I)throw new Error("Color should be defined as hex string");let h=I.slice().replace("#","").split("");if(h.length<3||5===h.length||h.length>8)throw new Error("Invalid hex color: "+I);(3===h.length||4===h.length)&&(h=Array.prototype.concat.apply([],h.map(function(y){return[y,y]}))),6===h.length&&h.push("F","F");const D=parseInt(h.join(""),16);return{r:D>>24&255,g:D>>16&255,b:D>>8&255,a:255&D,hex:"#"+h.slice(0,6).join("")}}b.getOptions=function(h){h||(h={}),h.color||(h.color={});const y=h.width&&h.width>=21?h.width:void 0;return{width:y,scale:y?4:h.scale||4,margin:typeof h.margin>"u"||null===h.margin||h.margin<0?4:h.margin,color:{dark:S(h.color.dark||"#000000ff"),light:S(h.color.light||"#ffffffff")},type:h.type,rendererOpts:h.rendererOpts||{}}},b.getScale=function(h,D){return D.width&&D.width>=h+2*D.margin?D.width/(h+2*D.margin):D.scale},b.getImageWidth=function(h,D){const y=b.getScale(h,D);return Math.floor((h+2*D.margin)*y)},b.qrToImageData=function(h,D,y){const m=D.modules.size,v=D.modules.data,E=b.getScale(m,y),_=Math.floor((m+2*y.margin)*E),R=y.margin*E,j=[y.color.light,y.color.dark];for(let $=0;$<_;$++)for(let L=0;L<_;L++){let F=4*($*_+L),J=y.color.light;$>=R&&L>=R&&$<_-R&&L<_-R&&(J=j[v[Math.floor(($-R)/E)*m+Math.floor((L-R)/E)]?1:0]),h[F++]=J.r,h[F++]=J.g,h[F++]=J.b,h[F]=J.a}}},806:W=>{"use strict";W.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},293:W=>{function b(I,h,D,y,m,v,E){try{var _=I[v](E),R=_.value}catch(j){return void D(j)}_.done?h(R):Promise.resolve(R).then(y,m)}W.exports=function S(I){return function(){var h=this,D=arguments;return new Promise(function(y,m){var v=I.apply(h,D);function E(R){b(v,y,m,E,_,"next",R)}function _(R){b(v,y,m,E,_,"throw",R)}E(void 0)})}},W.exports.__esModule=!0,W.exports.default=W.exports}},W=>{W(W.s=985)}]);